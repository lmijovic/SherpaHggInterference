<html lang="en">
<head>
<title>Sherpa 2.2.0</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name="description" content="Sherpa 2.2.0">
<meta name="generator" content="makeinfo 4.13">
<link title="Top" rel="top" href="#Top">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
<meta http-equiv="Content-Style-Type" content="text/css">
<style type="text/css"><!--
  pre.display { font-family:inherit }
  pre.format  { font-family:inherit }
  pre.smalldisplay { font-family:inherit; font-size:smaller }
  pre.smallformat  { font-family:inherit; font-size:smaller }
  pre.smallexample { font-size:smaller }
  pre.smalllisp    { font-size:smaller }
  span.sc    { font-variant:small-caps }
  span.roman { font-family:serif; font-weight:normal; } 
  span.sansserif { font-family:sans-serif; font-weight:normal; } 
body {
   padding: 0.0em;
}

a {
    color: #355f7c;
    text-decoration: none;
    font-weight: bold;
}

a:hover {
    text-decoration: underline;
}

p, dl, dd, ul, ol, table {
    text-align: justify;
    line-height: 130%;
   margin-left: 1.0em;
}

img {
   margin: 2.0em;
}

h1,
h2,
h3,
h4,
h5,
h6 {
    font-family: 'Trebuchet MS', sans-serif;
    background-color: #f2f2f2;
    font-weight: normal;
    color: #20435c;
    border-bottom: 1px solid #ccc;
    margin: 20px -20px 10px -20px;
    padding: 3px 0 3px 30px;
}

h1 { margin-top: 0; font-size: 200%; }
h2 { font-size: 160%; }
h3 { font-size: 140%; }
h4 { font-size: 120%; }
h5 { font-size: 110%; }
h6 { font-size: 100%; }

pre.verbatim, pre.example {
    font-family: monospace;
    padding: 5px;
    background-color: #eeffcc;
    color: #333333;
    line-height: 150%;
    border: 1px solid #ac9;
    border-left: none;
    border-right: none;
   margin-left: 1.0em;
}

code, samp, kbd {
    background-color: #eeffcc;
    color: #333333;
    border: none;
}

hr {
    display: none;
}
--></style>
</head>
<body>
<div class="node">
<a name="Top"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Introduction">Introduction</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#dir">(dir)</a>

</div>

<h2 class="unnumbered">Sherpa 2.2.0 Manual</h2>

<div class="contents">
<h2>Table of Contents</h2>
<ul>
<li><a name="toc_Top" href="#Top">Sherpa 2.2.0 Manual</a>
<li><a name="toc_Introduction" href="#Introduction">1 Introduction</a>
<ul>
<li><a href="#Introduction-to-Sherpa">1.1 Introduction to Sherpa</a>
<li><a href="#Basic-structure">1.2 Basic structure</a>
</li></ul>
<li><a name="toc_Getting-started" href="#Getting-started">2 Getting started</a>
<ul>
<li><a href="#Installation">2.1 Installation</a>
<li><a href="#Running-Sherpa">2.2 Running Sherpa</a>
<ul>
<li><a href="#Running-Sherpa">2.2.1 Process selection and initialization</a>
<li><a href="#Running-Sherpa">2.2.2 The example set-up: Z+Jets at the LHC</a>
<li><a href="#Running-Sherpa">2.2.3 Parton-level event generation with Sherpa</a>
<li><a href="#Running-Sherpa">2.2.4 Multijet merged event generation with Sherpa</a>
<li><a href="#Running-Sherpa">2.2.5 Running Sherpa with AMEGIC++</a>
</li></ul>
<li><a href="#Cross-section-determination">2.3 Cross section determination</a>
<ul>
<li><a href="#Cross-section-determination">2.3.1 Differential cross sections from single events</a>
</li></ul>
</li></ul>
<li><a name="toc_Command-line" href="#Command-line">3 Command line options</a>
<li><a name="toc_Input-structure" href="#Input-structure">4 Input structure</a>
<ul>
<li><a href="#Interpreter">4.1 Interpreter</a>
<li><a href="#Tags">4.2 Tags</a>
</li></ul>
<li><a name="toc_Parameters" href="#Parameters">5 Parameters</a>
<ul>
<li><a href="#Run-Parameters">5.1 Run parameters</a>
<ul>
<li><a href="#EVENTS">5.1.1 EVENTS</a>
<li><a href="#EVENT_005fTYPE">5.1.2 EVENT_TYPE</a>
<li><a href="#SHERPA_005fVERSION">5.1.3 SHERPA_VERSION</a>
<li><a href="#TUNE">5.1.4 TUNE</a>
<li><a href="#OUTPUT">5.1.5 OUTPUT</a>
<li><a href="#LOG_005fFILE">5.1.6 LOG_FILE</a>
<li><a href="#RANDOM_005fSEED">5.1.7 RANDOM_SEED</a>
<li><a href="#EVENT_005fSEED_005fMODE">5.1.8 EVENT_SEED_MODE</a>
<li><a href="#ANALYSIS">5.1.9 ANALYSIS</a>
<li><a href="#ANALYSIS_005fOUTPUT">5.1.10 ANALYSIS_OUTPUT</a>
<li><a href="#TIMEOUT">5.1.11 TIMEOUT</a>
<li><a href="#RLIMIT_005fAS">5.1.12 RLIMIT_AS</a>
<li><a href="#BATCH_005fMODE">5.1.13 BATCH_MODE</a>
<li><a href="#NUM_005fACCURACY">5.1.14 NUM_ACCURACY</a>
<li><a href="#SHERPA_005fCPP_005fPATH">5.1.15 SHERPA_CPP_PATH</a>
<li><a href="#SHERPA_005fLIB_005fPATH">5.1.16 SHERPA_LIB_PATH</a>
<li><a href="#Event-output-formats">5.1.17 Event output formats</a>
<li><a href="#Scale-and-PDF-variations">5.1.18 Scale and PDF variations</a>
<li><a href="#MPI-parallelization">5.1.19 MPI parallelization</a>
</li></ul>
<li><a href="#Beam-Parameters">5.2 Beam parameters</a>
<ul>
<li><a href="#Beam-Spectra">5.2.1 Beam Spectra</a>
<ul>
<li><a href="#Beam-Spectra">5.2.1.1 Laser Backscattering</a>
<li><a href="#Beam-Spectra">5.2.1.2 Simple Compton</a>
<li><a href="#Beam-Spectra">5.2.1.3 EPA</a>
</li></ul>
<li><a href="#Intrinsic-Transverse-Momentum">5.2.2 Intrinsic Transverse Momentum</a>
</li></ul>
<li><a href="#ISR-Parameters">5.3 ISR parameters</a>
<li><a href="#Models">5.4 Models</a>
<ul>
<li><a href="#Built_002din-Models">5.4.1 Built-in Models</a>
<ul>
<li><a href="#SM">5.4.1.1 Standard Model</a>
<li><a href="#HEFT">5.4.1.2 Effective Higgs Couplings</a>
</li></ul>
<li><a href="#UFO-Model-Interface">5.4.2 UFO Model Interface</a>
</li></ul>
<li><a href="#Matrix-Elements">5.5 Matrix elements</a>
<ul>
<li><a href="#ME_005fSIGNAL_005fGENERATOR">5.5.1 ME_SIGNAL_GENERATOR</a>
<li><a href="#RESULT_005fDIRECTORY">5.5.2 RESULT_DIRECTORY</a>
<li><a href="#EVENT_005fGENERATION_005fMODE">5.5.3 EVENT_GENERATION_MODE</a>
<li><a href="#SCALES">5.5.4 SCALES</a>
<ul>
<li><a href="#Scale-setters">5.5.4.1 Scale setters</a>
<li><a href="#Custom-scale-implementation">5.5.4.2 Custom scale implementation</a>
<li><a href="#Predefined-scale-tags">5.5.4.3 Predefined scale tags</a>
<li><a href="#Scale-schemes-for-NLO-calculations">5.5.4.4 Scale schemes for NLO calculations</a>
<li><a href="#Explicit-scale-variations">5.5.4.5 Explicit scale variations</a>
<li><a href="#METS-scale-setting-with-multiparton-core-processes">5.5.4.6 METS scale setting with multiparton core processes</a>
</li></ul>
<li><a href="#COUPLING_005fSCHEME">5.5.5 COUPLING_SCHEME</a>
<li><a href="#COUPLINGS">5.5.6 COUPLINGS</a>
<li><a href="#KFACTOR">5.5.7 KFACTOR</a>
<li><a href="#YUKAWA_005fMASSES">5.5.8 YUKAWA_MASSES</a>
<li><a href="#Dipole-subtraction">5.5.9 Dipole subtraction</a>
</li></ul>
<li><a href="#Processes">5.6 Processes</a>
<ul>
<li><a href="#Process">5.6.1 Process</a>
<ul>
<li><a href="#PDG-codes">5.6.1.1 PDG codes</a>
<li><a href="#Particle-containers">5.6.1.2 Particle containers</a>
<li><a href="#Curly-brackets">5.6.1.3 Curly brackets</a>
</li></ul>
<li><a href="#Decay">5.6.2 Decay</a>
<li><a href="#DecayOS">5.6.3 DecayOS</a>
<li><a href="#No_005fDecay">5.6.4 No_Decay</a>
<li><a href="#Scales">5.6.5 Scales</a>
<li><a href="#Couplings">5.6.6 Couplings</a>
<li><a href="#CKKW">5.6.7 CKKW</a>
<li><a href="#Selector_005fFile">5.6.8 Selector_File</a>
<li><a href="#Order">5.6.9 Order</a>
<li><a href="#Max_005fOrder">5.6.10 Max_Order</a>
<li><a href="#Min_005fOrder">5.6.11 Min_Order</a>
<li><a href="#Min_005fN_005fQuarks">5.6.12 Min_N_Quarks</a>
<li><a href="#Max_005fN_005fQuarks">5.6.13 Max_N_Quarks</a>
<li><a href="#Min_005fN_005fTChannels">5.6.14 Min_N_TChannels</a>
<li><a href="#Max_005fN_005fTChannels">5.6.15 Max_N_TChannels</a>
<li><a href="#Print_005fGraphs">5.6.16 Print_Graphs</a>
<li><a href="#Name_005fSuffix">5.6.17 Name_Suffix</a>
<li><a href="#Integration_005fError">5.6.18 Integration_Error</a>
<li><a href="#Max_005fEpsilon">5.6.19 Max_Epsilon</a>
<li><a href="#Enhance_005fFactor">5.6.20 Enhance_Factor</a>
<li><a href="#RS_005fEnhance_005fFactor">5.6.21 RS_Enhance_Factor</a>
<li><a href="#Enhance_005fFunction">5.6.22 Enhance_Function</a>
<li><a href="#Enhance_005fObservable">5.6.23 Enhance_Observable</a>
<li><a href="#NLO_005fQCD_005fMode">5.6.24 NLO_QCD_Mode</a>
<li><a href="#NLO_005fQCD_005fPart">5.6.25 NLO_QCD_Part</a>
<li><a href="#NLO_005fEW_005fMode">5.6.26 NLO_EW_Mode</a>
<li><a href="#NLO_005fEW_005fPart">5.6.27 NLO_EW_Part</a>
<li><a href="#Subdivide_005fVirtual">5.6.28 Subdivide_Virtual</a>
<li><a href="#ME_005fGenerator">5.6.29 ME_Generator</a>
<li><a href="#RS_005fME_005fGenerator">5.6.30 RS_ME_Generator</a>
<li><a href="#Loop_005fGenerator">5.6.31 Loop_Generator</a>
<ul>
<li><a href="#Loop_005fGenerator">5.6.31.1 BlackHat Interface</a>
</li></ul>
<li><a href="#Integrator">5.6.32 Integrator</a>
<li><a href="#PSI_005fItMin">5.6.33 PSI_ItMin</a>
<li><a href="#RS_005fPSI_005fItMin">5.6.34 RS_PSI_ItMin</a>
<li><a href="#End-process">5.6.35 End process</a>
</li></ul>
<li><a href="#Selectors">5.7 Selectors</a>
<ul>
<li><a href="#One-particle-selectors">5.7.1 One particle selectors</a>
<li><a href="#Two-particle-selectors">5.7.2 Two particle selectors</a>
<li><a href="#Decay-selectors">5.7.3 Decay selectors</a>
<li><a href="#Jet-finders">5.7.4 Jet finders</a>
<li><a href="#Universal-selector">5.7.5 Universal selector</a>
<li><a href="#Minimum-selector">5.7.6 Minimum selector</a>
<li><a href="#NLO-selectors">5.7.7 NLO selectors</a>
<li><a href="#Fastjet-selector">5.7.8 Fastjet selector</a>
</li></ul>
<li><a href="#Integration">5.8 Integration</a>
<ul>
<li><a href="#INTEGRATION_005fERROR">5.8.1 INTEGRATION_ERROR</a>
<li><a href="#INTEGRATOR">5.8.2 INTEGRATOR</a>
<li><a href="#VEGAS">5.8.3 VEGAS</a>
<li><a href="#FINISH_005fOPTIMIZATION">5.8.4 FINISH_OPTIMIZATION</a>
<li><a href="#PSI_005fNMAX">5.8.5 PSI_NMAX</a>
<li><a href="#PSI_005fITMIN">5.8.6 PSI_ITMIN</a>
<li><a href="#PSI_005fITMAX">5.8.7 PSI_ITMAX</a>
</li></ul>
<li><a href="#Hard-decays">5.9 Hard decays</a>
<ul>
<li><a href="#HDH_005fSTATUS">5.9.1 HDH_STATUS</a>
<li><a href="#HDH_005fWIDTH">5.9.2 HDH_WIDTH</a>
<li><a href="#HARD_005fSPIN_005fCORRELATIONS">5.9.3 HARD_SPIN_CORRELATIONS</a>
<li><a href="#STORE_005fDECAY_005fRESULTS">5.9.4 STORE_DECAY_RESULTS</a>
<li><a href="#DECAY_005fRESULT_005fDIRECTORY">5.9.5 DECAY_RESULT_DIRECTORY</a>
<li><a href="#HDH_005fSET_005fWIDTHS">5.9.6 HDH_SET_WIDTHS</a>
<li><a href="#HDH_005fBR_005fWEIGHTS">5.9.7 HDH_BR_WEIGHTS</a>
<li><a href="#HARD_005fMASS_005fSMEARING">5.9.8 HARD_MASS_SMEARING</a>
<li><a href="#RESOLVE_005fDECAYS">5.9.9 RESOLVE_DECAYS</a>
<li><a href="#DECAY_005fTAU_005fHARD">5.9.10 DECAY_TAU_HARD</a>
<li><a href="#Decay-table-integration-settings">5.9.11 Decay table integration settings</a>
</li></ul>
<li><a href="#Shower-Parameters">5.10 Parton showers</a>
<ul>
<li><a href="#SHOWER_005fGENERATOR">5.10.1 SHOWER_GENERATOR</a>
<li><a href="#JET_005fCRITERION">5.10.2 JET_CRITERION</a>
<li><a href="#MASSIVE_005fPS">5.10.3 MASSIVE_PS</a>
<li><a href="#MASSLESS_005fPS">5.10.4 MASSLESS_PS</a>
<li><a href="#CS-Shower-options">5.10.5 CS Shower options</a>
</li></ul>
<li><a href="#MPI-Parameters">5.11 Multiple interactions</a>
<ul>
<li><a href="#MI_005fHANDLER">5.11.1 MI_HANDLER</a>
<li><a href="#TURNOFF">5.11.2 TURNOFF</a>
<li><a href="#SCALE_005fMIN">5.11.3 SCALE_MIN</a>
<li><a href="#PROFILE_005fFUNCTION">5.11.4 PROFILE_FUNCTION</a>
<li><a href="#PROFILE_005fPARAMETERS">5.11.5 PROFILE_PARAMETERS</a>
<li><a href="#REFERENCE_005fSCALE">5.11.6 REFERENCE_SCALE</a>
<li><a href="#RESCALE_005fEXPONENT">5.11.7 RESCALE_EXPONENT</a>
<li><a href="#TURNOFF_005fEXPONENT">5.11.8 TURNOFF_EXPONENT</a>
<li><a href="#SIGMA_005fND_005fFACTOR">5.11.9 SIGMA_ND_FACTOR</a>
<li><a href="#MI_005fRESULT_005fDIRECTORY">5.11.10 MI_RESULT_DIRECTORY</a>
<li><a href="#MI_005fRESULT_005fDIRECTORY_005fSUFFIX">5.11.11 MI_RESULT_DIRECTORY_SUFFIX</a>
</li></ul>
<li><a href="#Hadronization">5.12 Hadronization</a>
<ul>
<li><a href="#Fragmentation">5.12.1 Fragmentation</a>
<ul>
<li><a href="#Fragmentation">5.12.1.1 Fragmentation models</a>
<li><a href="#Fragmentation">5.12.1.2 Hadron constituents</a>
<li><a href="#Fragmentation">5.12.1.3 Hadron multiplets</a>
<li><a href="#Fragmentation">5.12.1.4 Cluster transition to hadrons - flavour part</a>
<li><a href="#Fragmentation">5.12.1.5 Cluster transition and decay weights</a>
<li><a href="#Fragmentation">5.12.1.6 Cluster decays - kinematics</a>
<li><a href="#Fragmentation">5.12.1.7 Splitting kinematics</a>
</li></ul>
<li><a href="#Hadron-decays">5.12.2 Hadron decays</a>
<ul>
<li><a href="#Hadron-decays">5.12.2.1 HadronDecays.dat</a>
<li><a href="#Hadron-decays">5.12.2.2 Decay table files</a>
<li><a href="#Hadron-decays">5.12.2.3 Decay channel files</a>
<li><a href="#Hadron-decays">5.12.2.4 HadronConstants.dat</a>
<li><a href="#Hadron-decays">5.12.2.5 Further remarks</a>
</li></ul>
</li></ul>
<li><a href="#QED-Corrections">5.13 QED corrections</a>
<ul>
<li><a href="#General-Switches">5.13.1 General Switches</a>
<ul>
<li><a href="#YFS_005fMODE">5.13.1.1 YFS_MODE</a>
<li><a href="#YFS_005fUSE_005fME">5.13.1.2 YFS_USE_ME</a>
<li><a href="#YFS_005fIR_005fCUTOFF">5.13.1.3 YFS_IR_CUTOFF</a>
</li></ul>
<li><a href="#QED-Corrections-to-the-Hard-Interaction">5.13.2 QED Corrections to the Hard Interaction</a>
<ul>
<li><a href="#ME_005fQED">5.13.2.1 ME_QED</a>
<li><a href="#ME_005fQED_005fCLUSTERING">5.13.2.2 ME_QED_CLUSTERING</a>
<li><a href="#ME_005fQED_005fCLUSTERING_005fTHRESHOLD">5.13.2.3 ME_QED_CLUSTERING_THRESHOLD</a>
</li></ul>
<li><a href="#QED-Corrections-to-Hadron-Decays">5.13.3 QED Corrections to Hadron Decays</a>
</li></ul>
<li><a href="#Minimum-Bias">5.14 Minimum bias events</a>
<ul>
<li><a href="#Minimum-Bias">5.14.1 Physics of Shrimps</a>
<ul>
<li><a href="#Minimum-Bias">5.14.1.1 Inclusive part of the model</a>
<li><a href="#Minimum-Bias">5.14.1.2 Exclusive part of the model</a>
</li></ul>
<li><a href="#Minimum-Bias">5.14.2 Parameters and settings</a>
<ul>
<li><a href="#Minimum-Bias">5.14.2.1 Generating minimum bias events</a>
<li><a href="#Minimum-Bias">5.14.2.2 Shrimps Mode</a>
<li><a href="#Minimum-Bias">5.14.2.3 Parameters of the eikonals</a>
<li><a href="#Minimum-Bias">5.14.2.4 Parameters for event generation</a>
</li></ul>
</li></ul>
</li></ul>
<li><a name="toc_Tips-and-Tricks" href="#Tips-and-Tricks">6 Tips and tricks</a>
<ul>
<li><a href="#Bash-completion">6.1 Bash completion</a>
<li><a href="#Rivet-analyses">6.2 Rivet analyses</a>
<li><a href="#HZTool-analyses">6.3 HZTool analyses</a>
<li><a href="#MCFM-interface">6.4 MCFM interface</a>
<li><a href="#Debugging-a-crashing_002fstalled-event">6.5 Debugging a crashing/stalled event</a>
<ul>
<li><a href="#Debugging-a-crashing_002fstalled-event">6.5.1 Crashing events</a>
<li><a href="#Debugging-a-crashing_002fstalled-event">6.5.2 Stalled events</a>
</li></ul>
<li><a href="#Versioned-installation">6.6 Versioned installation</a>
<li><a href="#NLO-calculations">6.7 NLO calculations</a>
<ul>
<li><a href="#Choosing-DIPOLE_005fALPHA">6.7.1 Choosing DIPOLE_ALPHA</a>
<li><a href="#Integrating-complicated-Loop_002dME">6.7.2 Integrating complicated Loop-ME</a>
<li><a href="#Avoiding-misbinning-effects">6.7.3 Avoiding misbinning effects</a>
<li><a href="#Enforcing-the-renormalization-scheme">6.7.4 Enforcing the renormalization scheme</a>
<li><a href="#Checking-the-pole-cancellation">6.7.5 Checking the pole cancellation</a>
</li></ul>
</li></ul>
<li><a name="toc_Scale-variations" href="#Scale-variations">7 A posteriori scale variations</a>
<ul>
<li><a href="#A-posteriori-scale-and-PDF-variations-using-the-HepMC-GenEvent-Output">7.1 A posteriori scale and PDF variations using the HepMC GenEvent Output</a>
<li><a href="#A-posteriori-scale-and-PDF-variations-using-the-ROOT-NTuple-Output">7.2 A posteriori scale and PDF variations using the ROOT NTuple Output</a>
<ul>
<li><a href="#A-posteriori-scale-and-PDF-variations-using-the-ROOT-NTuple-Output">7.2.1 Computing (differential) cross sections of real correction events with statistical errors</a>
<li><a href="#A-posteriori-scale-and-PDF-variations-using-the-ROOT-NTuple-Output">7.2.2 Computation of cross sections with new PDF's</a>
</li></ul>
</li></ul>
<li><a name="toc_Customization" href="#Customization">8 Customization</a>
<ul>
<li><a href="#Exotic-physics">8.1 Exotic physics</a>
<li><a href="#Custom-scale-setter">8.2 Custom scale setter</a>
<li><a href="#External-one_002dloop-ME">8.3 External one-loop ME</a>
<li><a href="#External-RNG">8.4 External RNG</a>
<li><a href="#External-PDF">8.5 External PDF</a>
<li><a href="#Python-Interface">8.6 Python Interface</a>
</li></ul>
<li><a name="toc_Examples" href="#Examples">9 Examples</a>
<ul>
<li><a href="#HJets">9.1 Higgs boson + jets production</a>
<ul>
<li><a href="#LHC_005fHInt">9.1.1 H production in gluon fusion with interference effects</a>
</li></ul>
</li></ul>
<li><a name="toc_Getting-help" href="#Getting-help">10 Getting help</a>
<li><a name="toc_Authors" href="#Authors">11 Authors</a>
<li><a name="toc_Copying" href="#Copying">12 Copying</a>
<li><a name="toc_References" href="#References">Appendix A References</a>
<li><a name="toc_Index" href="#Index">Appendix B Index</a>
</li></ul>
</div>

<div class="block-image"><img src="SherpaLogo.jpg" alt="Sherpa Logo"></div>

<ul class="menu">
<li><a accesskey="1" href="#Introduction">Introduction</a>:        What is Sherpa
<pre class="sp">

</pre>
<li><a accesskey="2" href="#Getting-started">Getting started</a>:     A guide to getting started with Sherpa
<pre class="sp">

</pre>
<li><a accesskey="3" href="#Command-line">Command line</a>:        Sherpa's command line options
<li><a accesskey="4" href="#Input-structure">Input structure</a>:     How to specify parameters for a Sherpa run
<li><a accesskey="5" href="#Parameters">Parameters</a>:          The complete list of parameters
<pre class="sp">

</pre>
<li><a accesskey="6" href="#Tips-and-Tricks">Tips and Tricks</a>:     Advanced usage tips
<li><a accesskey="7" href="#Scale-variations">Scale variations</a>:    A posteriori scale variations
<li><a accesskey="8" href="#Customization">Customization</a>:       Extending Sherpa
<pre class="sp">

</pre>
<li><a accesskey="9" href="#Examples">Examples</a>:            Examples to illustrate some of Sherpa's features
<pre class="sp">

</pre>
<li><a href="#Getting-help">Getting help</a>:        What to do if you have questions about Sherpa
<pre class="sp">

</pre>
<li><a href="#Authors">Authors</a>:             Authors of Sherpa
<li><a href="#Copying">Copying</a>:             Your rights and freedoms
<pre class="sp">

</pre>
<li><a href="#References">References</a>:          Bibliography
<li><a href="#Index">Index</a>:               Index
</ul>
<pre class="sp">

</pre>

<div class="node">
<a name="Introduction"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Getting-started">Getting started</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Top">Top</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">1 Introduction</h2>

<p>Sherpa is a Monte Carlo event generator for the Simulation
of High-Energy Reactions of PArticles in lepton-lepton,
lepton-photon, photon-photon, lepton-hadron and hadron-hadron collisions. 
This document provides information to help users understand
and apply Sherpa for their physics studies. The event generator
is introduced, in broad terms, and the installation and running
of the program are outlined. The various options and parameters
specifying the program are compiled, and their meanings are
explained. This document does not aim at giving a
complete description of the physics content of Sherpa. 
To this end, the authors refer the reader to the original publication,

<p>[<a href="#Gleisberg2008ta">Gle08b</a>].

<ul class="menu">
<li><a accesskey="1" href="#Introduction-to-Sherpa">Introduction to Sherpa</a>:       Intro
<li><a accesskey="2" href="#Basic-structure">Basic structure</a>:              Descriptions of modules within Sherpa
</ul>

<div class="node">
<a name="Introduction-to-Sherpa"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Basic-structure">Basic structure</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Introduction">Introduction</a>

</div>

<h3 class="section">1.1 Introduction to Sherpa</h3>

<p><a href="http://projects.hepforge.org/sherpa/">Sherpa</a>

<p>[<a href="#Gleisberg2008ta">Gle08b</a>] is a Monte Carlo event generator that
provides complete hadronic final states in simulations of high-energy
particle collisions. The produced events may be passed into detector
simulations used by the various experiments. 
The entire code has been written in C++, like its competitors
<a href="http://projects.hepforge.org/herwig/">Herwig++</a> 
[<a href="#Bahr2008pv">Bah08b</a>] and
<a href="http://home.thep.lu.se/~torbjorn/Pythia.html">Pythia 8</a> 
[<a href="#Sjostrand2007gs">Sjo07</a>].

<p>Sherpa simulations can be achieved for the following types of
collisions:
     <ul>
<li>for lepton&ndash;lepton collisions, as explored by the CERN LEP
  experiments,
<li>for lepton&ndash;photon collisions,
<li>for photon&ndash;photon collisions with both photons either resolved or
	unresolved,
<li>for deep-inelastic lepton-hadron scattering, as investigated
  by the HERA experiments at DESY, and,
<li>in particular, for hadronic interactions as studied at the
  Fermilab Tevatron or the CERN LHC. 
</ul>

<p>The list of physics processes that can be simulated with Sherpa covers all reactions
in the Standard Model and many theories beyond. Sherpa is shipped with support for the MSSM,
Anomalous Gauge Couplings, and Minimal UED. Other models can be implemented either using Sherpa's
own model syntax, or by using the generic interface 
[<a href="#Hoeche2014kca">Hoe14c</a>] to the UFO output

<p>[<a href="#Degrande2011ua">Deg11</a>] of <a href="https://feynrules.irmp.ucl.ac.be/">FeynRules</a>

<p>[<a href="#Christensen2008py">Chr08</a>],
[<a href="#Christensen2009jx">Chr09</a>]. 
The
Sherpa program owes this versatility to the two inbuilt matrix-element generators,
AMEGIC++ and <a href="http://comix.freacafe.de">Comix</a>,
and to it's phase-space generator Phasic 
[<a href="#Krauss2001iv">Kra01</a>], which automatically
calculate and integrate tree-level amplitudes for the implemented models.  This
feature enables Sherpa
to be used as a cross-section integrator and parton-level
event generator as well.  This aspect has been extensively tested, see e.g.

<p>[<a href="#Gleisberg2003bi">Gle03b</a>], 
[<a href="#Hagiwara2005wg">Hag05</a>].

<p>As a second key feature of
Sherpa
the program provides an implementation of the merging approaches of 
[<a href="#Hoeche2009rj">Hoe09</a>] and 
[<a href="#Gehrmann2012yg">Geh12</a>], 
[<a href="#Hoeche2012yf">Hoe12a</a>]. 
These algorithms yield improved descriptions of multijet production processes,
which copiously appear at lepton-hadron colliders like HERA 
[<a href="#Carli2009cg">Car09</a>],
or hadron-hadron colliders like the Tevatron and the LHC, 
[<a href="#Krauss2004bs">Kra04</a>],

<p>[<a href="#Krauss2005nu">Kra05</a>], 
[<a href="#Gleisberg2005qq">Gle05</a>], 
[<a href="#Hoeche2009xc">Hoe09a</a>]. 
An older approach, implemented in previous versions of Sherpa and known
as the CKKW technique 
[<a href="#Catani2001cc">Cat01a</a>], 
[<a href="#Krauss2002up">Kra02</a>],
has been compared in great detail in 
[<a href="#Alwall2007fs">Alw07</a>] with other approaches, such
as the MLM merging prescription 
[<a href="#Mangano2001xp">Man01</a>] as implemented in
Alpgen 
[<a href="#Mangano2002ea">Man02</a>], Madevent 
[<a href="#Stelzer1994ta">Ste94</a>], 
[<a href="#Maltoni2002qb">Mal02a</a>],
or Helac 
[<a href="#Kanaki2000ey">Kan00</a>], 
[<a href="#Papadopoulos2005ky">Pap05</a>] and the CKKW-L prescription

<p>[<a href="#Lonnblad2001iq">Lon01</a>], 
[<a href="#Lavesson2005xu">Lav05</a>] of Ariadne 
[<a href="#Lonnblad1992tz">Lon92</a>].

<p>This manual contains all information necessary to get started with
Sherpa as quickly as possible. It lists options and switches of interest
for steering the simulation of various physics aspects of the collision. 
It does not describe the physics simulated by Sherpa or the underlying
structure of the program. 
Many external codes can be linked with Sherpa. This manual explains how
to do this, but it does not contain a description of the external programs. 
You are encouraged to read their corresponding documentations, which are
referenced in the text. If you use external programs with Sherpa,
you are encouraged to cite them accordingly.

<p>The <a href="http://www.montecarlonet.org/index.php?p=Publications/Guidelines">MCnet Guidelines</a> apply to Sherpa. You are kindly asked to cite

<p>[<a href="#Gleisberg2008ta">Gle08b</a>] if you have used the program in your work.

<p>The Sherpa authors strongly recommend the study of the manuals and many excellent
publications on different aspects of event generation and physics at
collider experiments written by other event generator authors.

<p>This manual is organized as follows: in <a href="#Basic-structure">Basic structure</a>
the modular structure intrinsic to
Sherpa is introduced. <a href="#Getting-started">Getting started</a> contains information about and
instructions for the installation of the package. There is also
a description of the steps that are
needed to run Sherpa and generate events. 
The <a href="#Input-structure">Input structure</a> is then discussed, and the ways in which
Sherpa can be steered are explained. 
All parameters and options are discussed in <a href="#Parameters">Parameters</a>. 
Advanced <a href="#Tips-and-Tricks">Tips and Tricks</a> are detailed, and some options for
<a href="#Customization">Customization</a> are outlined for those more
familiar with Sherpa. 
There is also a short description of the different <a href="#Examples">Examples</a>
provided with Sherpa.

<p>The construction of Monte Carlo programs
requires several assumptions, approximations and
simplifications of complicated physics aspects. The results of event
generators should therefore always be verified and cross-checked
with results obtained by other programs, and they should be interpreted
with care and common sense.

<div class="node">
<a name="Basic-structure"></a>
<p><hr>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Introduction-to-Sherpa">Introduction to Sherpa</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Introduction">Introduction</a>

</div>

<h3 class="section">1.2 Basic structure</h3>

<p>Sherpa is a modular program. This reflects the paradigm of Monte Carlo
event generation, with the full simulation is split into well defined
event phases, based on QCD factorization theorems. Accordingly, each
module encapsulates a different aspect of event generation for
high-energy particle reactions. It resides within its own namespace
and is located in its own subdirectory of the same name. The main
module called <code>SHERPA</code> steers the interplay of all modules &ndash; or
phases &ndash; and the actual generation of the events. 
Altogether, the following modules are currently distributed with the
Sherpa framework:

     <ul>
<li>ATOOLS

     <p>This is the toolbox for all other modules. Since the
Sherpa framework does not rely on CLHEP etc., the ATOOLS contain classes
with mathematical tools like vectors and matrices, organization tools
such as read-in or write-out devices, and physics tools like particle
data or classes for the event record.

     <li>METOOLS

     <p>In this module some general methods for the evaluation of helicity
amplitudes have been accumulated.  They are used in
AMEGIC++
, the
EXTRA_XS module, and the new matrix-element generator Comix. 
This module also contains
helicity amplitudes for some generic matrix elements, that are, e.g.,
used by
HADRONS++
. Further, METOOLS also contains a simple library of tensor integrals
which are used in the
PHOTONS++
matrix element corrections.

     <li>BEAM

     <p>This module manages the treatment of the initial beam spectra for
different colliders. The three options which are currently available
include a monochromatic beam, which requires no extra treatment,
photon emission in the Equivalent Photon Approximation (EPA)
and - for the case of an electron collider - laser
backscattering off the electrons, leading to photonic initial states.

     <li>PDF

     <p>The PDF module provides access to various parton density functions (PDFs)
for the proton and the photon. In addition, it hosts an interface to the
<a href="http://projects.hepforge.org/lhapdf">LHAPDF</a> package,
which makes a full wealth of PDFs available. An
(analytical) electron structure function is supplied in the PDF module
as well.

     <li>MODEL

     <p>This module sets up the physics model for the simulation. 
It initializes particle properties, basic physics parameters
(coupling constants, mixing angles, etc.) and the set of available interaction
vertices (Feynman rules). By now, there exist explicit implementations of the
Standard Model (SM), its Minimal Supersymmetric extension (MSSM), the ADD model
of large extra dimensions, and a comprehensive set of operators parametrizing
anomalous triple and quartic electroweak gauge boson couplings. An Interface to
<a href="http://feynrules.irmp.ucl.ac.be/">FeynRules</a> is also available.

     <li>EXTRA_XS

     <p>In this module a (limited) collection of analytic expressions
for simple 2-&gt;2 processes within the SM are provided
together with classes embedding them into the Sherpa
framework. This also includes methods used for the definition
of the starting conditions for parton-shower evolution,
such as colour connections and the hard scale of the process.

     <li>AMEGIC++

     <p>AMEGIC++ 
[<a href="#Krauss2001iv">Kra01</a>] is Sherpa's original matrix-element
generator. It employs the method of helicity amplitudes

     <p>[<a href="#Kleiss1985yh">Kle85</a>], 
[<a href="#Ballestrero1992dv">Bal92</a>] and works as
a generator, which generates generators:
During the initialization run the matrix elements for a given set of
processes, as well as their
specific phase-space mappings are created by AMEGIC++. 
Corresponding C++ sourcecode is written to disk and compiled
by the user using the <kbd>makelibs</kbd> script or
<a href="http://www.scons.org/">scons</a>. 
The produced libraries are linked to the main program
automatically in the next run and used to calculate cross
sections and to generate weighted or unweighted events. 
AMEGIC++ has been tested for multi-particle production in the Standard
Model 
[<a href="#Gleisberg2003bi">Gle03b</a>]. Its MSSM implementation has been
validated in 
[<a href="#Hagiwara2005wg">Hag05</a>].

     <li>COMIX

     <p><a href="http://comix.freacafe.de">Comix</a> is a multi-leg tree-level matrix element generator, based on
the color dressed Berends-Giele recursive relations 
[<a href="#Duhr2006iq">Duh06</a>]. 
It employs a new algorithm to recursively compute phase-space weights. 
The module is a useful supplement to older matrix element generators like AMEGIC++
in the high multiplicity regime. Due to the usage of colour sampling it is
particularly suited for an interface with parton shower simulations and can hence be
easily employed for the ME-PS merging within Sherpa. It is Sherpa's default
large multiplicity matrix element generator for the Standard Model.

     <li>PHASIC++

     <p>All base classes dealing with the Monte Carlo phase-space
integration are located in this module. For the evaluation of the
initial-state (laser backscattering, initial-state radiation)
and final-state integrals, the adaptive multi-channel method
of 
[<a href="#Kleiss1994qy">Kle94</a>], 
[<a href="#Berends1994pv">Ber94</a>] is used by default together
with a Vegas optimization 
[<a href="#Lepage1980dq">Lep80</a>] of the single
channels. In addition, final-state integration accomplished
by Rambo 
[<a href="#Kleiss1985gy">Kle85a</a>], Sarge

     <p>[<a href="#Draggiotis2000gm">Dra00</a>] and HAAG 
[<a href="#vanHameren2002tc">Ham02</a>] is supported.

     <li>CSSHOWER++

     <p>This is the module hosting Sherpa's default parton shower,
which was published in 
[<a href="#Schumann2007mg">Sch07a</a>]. 
The corresponding shower model was originally proposed in

     <p>[<a href="#Nagy2005aa">Nag05</a>], 
[<a href="#Nagy2006kb">Nag06</a>]. 
It relies on the factorisation of real-emission matrix elements in the
CS subtraction framework 
[<a href="#Catani1996vz">Cat96b</a>], 
[<a href="#Catani2002hc">Cat02</a>]. 
There exist four general types of CS dipole terms that capture the complete
infrared singularity structure of next-to-leading order QCD amplitudes. 
In the large-N_C limit, the corresponding splitter and spectator partons
are always adjacent in colour space. The dipole functions for the
various cases, taken in four dimensions and averaged over spins,
are used as shower splitting kernels.

     <li>DIRE

     <p>This is the module hosting Sherpa's alternative parton shower 
[<a href="#Hoche2015sya">Hoe15</a>]. 
In the Dire model, the ordering variable exhibits a symmetry in emitter and
spectator momenta, such that the dipole-like picture of the evolution
can be re-interpreted as a dipole picture in the soft limit. At the same time,
the splitting functions are regularized in the soft anti-collinear region
using partial fractioning of the soft eikonal in the Catani-Seymour approach

     <p>[<a href="#Catani1996vz">Cat96b</a>], 
[<a href="#Catani2002hc">Cat02</a>]. They are then modified to satisfy
the sum rules in the collinear limit. This leads to an invariant formulation
of the parton-shower algorithm, which is in complete analogy to the standard
DGLAP case, but generates the correct soft anomalous dimension at one-loop order.

     <li>AMISIC++

     <p>AMISIC++ contains classes for the simulation of multiple parton
interactions according to 
[<a href="#Sjostrand1987su">Sjo87</a>]. In Sherpa the
treatment of multiple interactions has been extended by allowing for
the simultaneous evolution of an independent parton shower in each
of the subsequent (semi-)hard collisions. The beam&ndash;beam remnants
are organized such that partons which are adjacent in colour space
are also adjacent in momentum space. The corresponding classes for
beam remnant handling reside in the PDF and SHERPA modules.

     <li>AHADIC++

     <p>AHADIC++ is Sherpa's hadronization package, for translating
the partons (quarks and gluons) into primordial hadrons, to be
further decayed in HADRONS++.  The algorithm bases on the cluster
fragmentation ideas presented in 
[<a href="#Gottschalk1982yt">Got82</a>],

     <p>[<a href="#Gottschalk1983fm">Got83</a>], 
[<a href="#Webber1983if">Web83</a>], 
[<a href="#Gottschalk1986bv">Got86</a>]
and implemented in the Herwig family of event generators.  The actual
Sherpa implementation, based on 
[<a href="#Winter2003tt">Win03</a>],
differs from the original model in several respects.

     <li>HADRONS++

     <p>HADRONS++ is the module for simulating hadron and tau-lepton decays. 
The resulting decay products respect full spin correlations (if desired). 
Several matrix elements and form-factor models have been implemented,
such as the K&uuml;hn-Santamar&iacute;a model, form-factor parametrizations
from Resonance Chiral Theory for the tau and form factors from
heavy	quark effective theory or light cone sum rules for hadron decays.

     <li>PHOTONS++

     <p>The PHOTONS++ module holds routines to add QED radiation to
hadron and tau-lepton decays. This has been achieved by an
implementation of the YFS algorithm 
[<a href="#Yennie1961ad">Yen61</a>]. The
structure of PHOTONS++ is such that the formalism can be extended to
scattering processes and to a systematic improvement to higher
orders of perturbation theory 
[<a href="#Schonherr2008av">Sch08</a>].  The application
of PHOTONS++ therefore accounts for corrections that usually are
added by the application of PHOTOS 
[<a href="#Barberio1993qi">Bar93</a>] to the
final state.

     <li>SHERPA

     <p>Finally, SHERPA is the steering module that initializes,
controls and evaluates the different phases during the entire
process of event generation. 
All routines for the combination of truncated showers and
matrix elements, which are independent of the specific
matrix element and parton shower generator are found in this module. 
</ul>

<p>The actual executable of the
Sherpa generator can be found in the
subdirectory <code>&lt;prefix&gt;/bin/</code> and is
called <code>Sherpa</code>. To run the program, input files have to be
provided in the current working directory or elsewhere by specifying
the corresponding path, see <a href="#Input-structure">Input structure</a>. All output files are then written to this
directory as well.

<div class="node">
<a name="Getting-started"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Command-line">Command line</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Introduction">Introduction</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">2 Getting started</h2>

<ul class="menu">
<li><a accesskey="1" href="#Installation">Installation</a>:                            How to install Sherpa
<li><a accesskey="2" href="#Running-Sherpa">Running Sherpa</a>:                          How to run the event generator
<li><a accesskey="3" href="#Cross-section-determination">Cross section determination</a>:             How cross sections are determined
</ul>

<div class="node">
<a name="Installation"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Running-Sherpa">Running Sherpa</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Getting-started">Getting started</a>

</div>

<h3 class="section">2.1 Installation</h3>

<p>Sherpa is distributed as a tarred and gzipped file named
<code>SHERPA-MC-2.2.0.tar.gz</code>, and can be unpacked in the current
working directory with

<pre class="example">     <code> tar -zxf SHERPA-MC-2.2.0.tar.gz</code>
</pre>
<p>Alternatively, it can also be accessed via SVN through the location specified
on the download page. In that case, before continuing, it is necessary to
construct the build scripts by running <code>autoreconf -i</code> once after checking
out the SVN working copy.

<p>To guarantee successful installation, the following tools should be
available on the system:
     <ul>
  <li>C++ and Fortran compilers (e.g. from the gcc suite)
  <li>make
  <li><a href="http://www.sqlite.org/">SQLite 3</a>
    (including the -dev package if installed through a package manager)
</ul>
If SQLite is installed in a non-standard location, please specify
the installation path using option <samp><span class="option">--with-sqlite3=/path/to/sqlite</span></samp>. 
If SQLite is not installed on your system, the Sherpa configure script provides
the fallback option of installing it into the same directory as Sherpa itself. 
To do so, please run configure with option <samp><span class="option">--with-sqlite3=install</span></samp>
(This may not work if you are cross-compiling using <samp><span class="option">--host</span></samp>. 
In this case, please <a href="http://www.sqlite.org/download.html">install SQLite</a>
by yourself and reconfigure using <samp><span class="option">--with-sqlite3=/path/to/sqlite</span></samp>).

<p>Compilation and installation proceed through the following commands:

<pre class="example">     <code> ./configure</code>
     
     <code> make install</code>
</pre>
<p>If not specified differently, the directory structure after installation is organized as follows

     <dl>
<dt><code>$(prefix)/bin</code><dd>Sherpa executeable and scripts

     <br><dt><code>$(prefix)/include</code><dd>headers for process library compilation

     <br><dt><code>$(prefix)/lib</code><dd>basic libraries

     <br><dt><code>$(prefix)/share</code><dd>PDFs, Decaydata, fallback run cards
</dl>

<p>The installation directory <code>$(prefix)</code> can be specified by using the
<code>./configure --prefix /path/to/installation/target</code> directive and defaults
to the current working directory.

<p>If Sherpa has to be moved to a different directory after the installation,
one has to set the following environment variables for each run:
     <ul>
  <li><code>SHERPA_INCLUDE_PATH=$newprefix/include/SHERPA-MC</code>
  <li><code>SHERPA_SHARE_PATH=$newprefix/share/SHERPA-MC</code>
  <li><code>SHERPA_LIBRARY_PATH=$newprefix/lib/SHERPA-MC</code>
  <li><code>LD_LIBRARY_PATH=$SHERPA_LIBRARY_PATH:$LD_LIBRARY_PATH</code>
</ul>

<p>Sherpa can be interfaced with various external packages, e.g. <a href="http://lcgapp.cern.ch/project/simu/HepMC/">HepMC</a>,
for event output, or <a href="https://lhapdf.hepforge.org/">LHAPDF</a>, for PDFs. For this to work, the user has
to pass the appropriate commands to the configure step. This is achieved
as shown below:

<pre class="example">     <code>./configure --enable-hepmc2=/path/to/hepmc2 --enable-lhapdf=/path/to/lhapdf</code>
</pre>
<p>Here, the paths have to point to the top level installation directories of
the external packages, i.e. the ones containing the <code>lib/</code>, <code>share/</code>,
... subdirectories.

<p>For a complete list of possible configuration options run
&lsquo;<samp><span class="samp">./configure --help</span></samp>&rsquo;.

<!-- If you want to use the built-in interface to Lund fragmentation and hadron -->
<!-- decays, you have to compile with Pythia support by specifying the -->
<!-- @code{-enable-pythia} option without any argument. -->
<p>The Sherpa package has successfully been compiled, installed and
tested on SuSE, RedHat / Scientific Linux and Debian / Ubuntu Linux systems
using the GNU C++ compiler versions 3.2, 3.3, 3.4, and 4.x as
well as on Mac OS X 10 using the GNU C++ compiler version 4.0. In all cases the
GNU FORTRAN compiler g77 or gfortran has been employed.

<p>If you have multiple compilers installed on your system, you can use shell
environment variables to specify which of these are to be used. A list of
the available variables is printed with
<pre class="example">     <code>./configure --help</code>
</pre>
<p>in the Sherpa top level directory and looking at the last lines. Depending
on the shell you are using, you can set these variables e.g. with export
(bash) or setenv (csh). 
Examples:
<pre class="example">     <code>export CXX=g++-3.4
     export CC=gcc-3.4
     export CPP=cpp-3.4</code>
</pre>
<h5 class="subsubheading">Installation on Cray XE6 / XK7</h5>

<p>Sherpa has been installed successfully on Cray XE6 and Cray XK7. 
The following configure command should be used
<pre class="example">     ./configure &lt;your options&gt; --enable-mpi --host=i686-pc-linux CC=CC CXX=CC FC='ftn -fPIC' LDFLAGS=-dynamic
</pre>
<p>Sherpa can then be run with
<pre class="example">     aprun -n &lt;nofcores&gt; &lt;prefix&gt;/bin/Sherpa -lrun.log
</pre>
<p>The modularity of the code requires setting the environment variable <samp><span class="option">CRAY_ROOTFS</span></samp>,
cf. the Cray system documentation.

<h5 class="subsubheading">Installation on IBM BlueGene/Q</h5>

<p>Sherpa has been installed successfully on an IBM BlueGene/Q system. 
The following configure command should be used
<pre class="example">     ./configure &lt;your options&gt; --enable-mpi --host=powerpc64-bgq-linux CC=mpic++ CXX=mpic++ FC='mpif90 -fPIC -funderscoring' LDFLAGS=-dynamic
</pre>
<p>Sherpa can then be run with
<pre class="example">     qsub -A &lt;account&gt; -n &lt;nofcores&gt; -t 60 --mode c16 &lt;prefix&gt;/bin/Sherpa -lrun.log
</pre>
<h5 class="subsubheading">MacOS Installation</h5>

<p>Since it is more complicated to set up the necessary compiler environment
on a Mac we recommend using a package manager to install Sherpa and its
dependencies. David Hall is hosting a repository for Homebrew packages at:
<a href="http://davidchall.github.io/homebrew-hep/">http://davidchall.github.io/homebrew-hep/</a>

<p>In case you are compiling yourself, please be aware of
the following issues which have come up on Mac installations before:
     <ul>
<li>On 10.4 and 10.5 only gfortran is supported, and you will
have to install it e.g. from HPC
<li>If you want to reconfigure, i.e. run the command <code>autoreconf</code>
or <code>(g)libtoolize</code>, you have to make sure that you have a recent version
of GNU libtool (&gt;=1.5.22 has been tested). Don’t confuse this with
the native non-GNU libtool which is installed in <code>/usr/bin/libtool</code> and
of no use! Also make sure that your autools (autoconf &gt;= 2.61,
automake &gt;= 1.10 have been tested) are of recent versions. All this should
not be necessary though, if you only run <code>configure</code>. 
<li>Make sure that you don’t have two versions of g++ and libstdc++
installed and being used inconsistently. This appeared e.g. when the gcc
suite was installed through Fink to get gfortran. This caused Sherpa to
use the native MacOS compilers but link the libstdc++ from Fink (which
is located in /sw/lib). You can find out which libraries are used by Sherpa
by running <code>otool -L bin/Sherpa</code>
</ul>

<div class="node">
<a name="Running-Sherpa"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Cross-section-determination">Cross section determination</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Installation">Installation</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Getting-started">Getting started</a>

</div>

<h3 class="section">2.2 Running Sherpa</h3>

<p>The <code>Sherpa</code> executable resides in the directory <code>&lt;prefix&gt;/bin/</code>
where <code>&lt;prefix&gt;</code> denotes the path to the Sherpa installation
directory. The way a particular simulation will be accomplished is
defined by several parameters, which can all be listed in a
common file, or data card (Parameters can be
alternatively specified on the command line; more details are given
in <a href="#Input-structure">Input structure</a>). 
This steering file is called <code>Run.dat</code> and some example setups
(i.e. <code>Run.dat</code> files) are distributed with the current version
of Sherpa. They can be found in the directory
<code>&lt;prefix&gt;/share/SHERPA-MC/Examples/</code>, and descriptions of some of
their key features can be found in the section <a href="#Examples">Examples</a>.

<p><strong>Please note:</strong> It is not in general possible to reuse run
cards from previous Sherpa versions. Often there are small changes
in the parameter syntax of the run cards from
one version to the next. 
These changes are documented in our manuals. In addition,
always use the newer Hadron.dat and Decaydata directories
(and reapply any changes which you might have applied to the old ones),
see <a href="#Hadron-decays">Hadron decays</a>.

<p>The very first step in running Sherpa
is therefore to adjust all parameters to the needs of the
desired simulation. The details for doing this properly are given in
<a href="#Parameters">Parameters</a>. In this section, the focus is on the main
issues for a successful operation of Sherpa. This is illustrated by
discussing and referring to the parameter settings that come in the
default example runcard of the public version. 
This is a simple run card
created to show the basics of how to operate Sherpa. <strong>It should be
stressed that this run-card relies on many of Sherpa's default settings,
and, as such, you should understand those settings before using it to
look at physics.</strong> For more information on the settings and parameters in
Sherpa, see <a href="#Parameters">Parameters</a>, and for more
examples see the <a href="#Examples">Examples</a> section.

<p><a name="Process-selection-and-initialization"></a>

<h4 class="subsection">2.2.1 Process selection and initialization</h4>

<p>Central to any Monte Carlo simulation is the choice of the hard
processes that initiate the events. These hard processes are
described by matrix elements. In Sherpa,
the selection of processes happens in the <code>(processes)</code>
part of the steering file. 
Only a few
2-&gt;2
reactions have been hard-coded. They are available in the EXTRA_XS module. 
The more usual way to compute matrix elements is to employ one of Sherpa's
automated tree-level generators, AMEGIC++ and Comix, see <a href="#Basic-structure">Basic structure</a>. 
If no matrix-element generator is selected, using the <a href="#ME_005fSIGNAL_005fGENERATOR">ME_SIGNAL_GENERATOR</a>
tag, then Sherpa will use whichever generator is capable of calculating the
process, checking Comix first, then AMEGIC++ and then EXTRA_XS. Therefore,
for some processes, several of the options are used. In this example,
however, all processes will be calculated by Comix.

<p>To begin with the example, the Sherpa run has to be started by changing
into the <code>&lt;prefix&gt;/share/SHERPA-MC/Examples/V_plus_Jets/LHC_ZJets/</code>
directory and executing

<pre class="example">     <code>&lt;prefix&gt;/bin/Sherpa</code>
</pre>
<p>You may also run from an arbitrary directory, employing
<code>&lt;prefix&gt;/bin/Sherpa PATH=&lt;prefix&gt;/share/SHERPA-MC/Examples/V_plus_Jets/LHC_ZJets</code>. 
In the example, the keyword <code>PATH</code> is specified by an absolute path. 
It may also be specified relative to the current working directory. If it is
not specified at all or it is omitted, the current working directory
is understood.

<p>For good book-keeping, it is highly recommended to reserve different
subdirectories for different simulations as is demonstrated with
the example setups.

<p>If AMEGIC++ is used, Sherpa requires an initialization run, where
C++ source code is written to disk. This code must be compiled into dynamic libraries
by the user by running the <code>makelibs</code> script in the working directory. 
Alternatively, if <a href="http://www.scons.org/">scons</a> is installed,
you may invoke <kbd>&lt;prefix&gt;/bin/make2scons</kbd> and run <kbd>scons install</kbd>. 
After this step Sherpa is run again for the actual cross section integrations and event generation. 
For more information on and examples of how to run Sherpa using AMEGIC++, see
<a href="#Running-Sherpa-with-AMEGIC_002b_002b">Running Sherpa with AMEGIC++</a>.

<p>If the internal hard-coded matrix elements or Comix are used,
and AMEGIC++ is not, an initialization run is not needed, and Sherpa will
calculate the cross sections and generate events during the first run.

<p>As the cross sections are integrated, the
integration over phase space is optimized to arrive at an
efficient event generation. 
Subsequently events are generated if <code>EVENTS</code> was specified
either on the command line or added to the <code>(run)</code> section
in the <code>Run.dat</code> file.

<p>The generated events are not stored into a file by
default; for details on how to store the events see
<a href="#Event-output-formats">Event output formats</a>. Note that the computational effort to
go through this procedure of generating, compiling and integrating the
matrix elements of the hard processes depends on the complexity of the
parton-level final states. For low multiplicities (
2-&gt;2,3,4
), of course, it can be followed instantly.

<p><a name="Results-directory"></a>Usually more than one generation run is wanted. As long as the
parameters that affect the matrix-element integration are not changed,
it is advantageous to store the cross sections obtained during the
generation run for later use. This saves CPU time especially for large
final-state multiplicities of the matrix elements. Per default, Sherpa
stores these integration results in a directory called <code>Results/</code>. 
The name of the output directory can be customised via

<pre class="example">     <code>&lt;prefix&gt;/bin/Sherpa RESULT_DIRECTORY=&lt;result&gt;/</code>
</pre>
<p>see <a href="#RESULT_005fDIRECTORY">RESULT_DIRECTORY</a>. The storage of the integration results can
be prevented by either using

<pre class="example">     <code>&lt;prefix&gt;/bin/Sherpa GENERATE_RESULT_DIRECTORY=0</code>
</pre>
<p>or the command line option <samp><span class="option">-g</span></samp> can be invoked, see <a href="#Command-line">Command line</a>.

<p>If physics parameters change, the cross sections have to be recomputed. 
The new results should either be stored in a new directory or the
<code>&lt;result&gt;</code> directory may be re-used once it has been emptied. 
Parameters which require a recomputation are any parameters affecting
the <a href="#Models">Models</a>, <a href="#Matrix-Elements">Matrix Elements</a> or <a href="#Selectors">Selectors</a>. 
Standard examples are changing the magnitude of couplings,
renormalisation or factorisation scales, changing the PDF or
centre-of-mass energy, or, applying different cuts at the parton
level. If unsure whether a recomputation is required, a simple
test is to remove the
<code>RESULT_DIRECTORY</code> option from the run command and check
whether the new integration numbers (statistically) comply with the
stored ones.

<p>A warning on the validity of the
process libraries is in order here: it is absolutely mandatory to
generate new library files, whenever the physics model is altered,
i.e. particles are added or removed and hence new or existing
diagrams may or may not anymore contribute to the same final states. 
Also, when particle masses are switched on or off, new library files
must be generated (however, masses may be changed between non-zero
values keeping the same process libraries). The best recipe is to
create a new and separate setup directory in such cases. Otherwise the
<code>Process</code> and <code>Results</code> directories have to be erased:

<pre class="example">     <code>rm -rf Process/ Results/</code>
</pre>
<p>In either case one has to start over with the whole initialization
procedure to prepare for the generation of events.

<h4 class="subsection">2.2.2 The example set-up: Z+Jets at the LHC</h4>

<p>This setup is contained only in the full public version. Events will include effects from
parton showering, hadronisation into primary hadrons and their subsequent
decays into stable hadrons. Moreover, the example chosen here nicely
demonstrates how Sherpa is used in the context of merging matrix elements
and parton showers 
[<a href="#Hoeche2009rj">Hoe09</a>]. In addition to the aforementioned
corrections, this simulation of inclusive Drell-Yan production
(electron-positron channel) will then include higher-order jet corrections
at the tree level. As a result the transverse-momentum distribution of
the Drell-Yan pair and the individual jet multiplicities as measured by the
ATLAS and CMS collaborations at the LHC can be well described.

<p>Before event generation, the initialization procedure as described in
<a href="#Process-selection-and-initialization">Process selection and initialization</a> has to be completed. The matrix-element processes
included in the setup are the following:
<pre class="example">       proton proton -&gt; parton parton -&gt; electron positron + up to four partons
</pre>
<p>In the <code>(processes)</code> part of the steering file this translates into
<pre class="verbatim">  Process 93 93 -> 11 -11 93{4}
  Order (*,2);
  CKKW sqr(30/E_CMS)
  End process;
</pre>
The physics model for these processes is the Standard Model (<samp><span class="option">SM</span></samp>)
which is the default setting of the parameter <code>MODEL</code> and is therefore
not set explicitly. Fixing the order of electroweak couplings to <samp><span class="option">2</span></samp>,
matrix elements of all partonic subprocesses for Drell-Yan production without
any and with up to two extra QCD parton emissions will be generated. 
Proton&ndash;proton collisions are considered at beam energies of 3.5 TeV. 
The default PDF used by Sherpa is CT10. Model parameters and couplings can
be set in section <code>(run)</code> of <code>Run.dat</code>. Similarly, the way
couplings are treated can be defined. As no options are set the default
parameters and scale setting procedures are used.

<p>The QCD radiation matrix elements have to be
regularised to obtain meaningful cross sections. This is achieved by
specifying &lsquo;<samp><span class="samp">CKKW sqr(30/E_CMS)</span></samp>&rsquo; in the <code>(processes)</code> part of
<code>Run.dat</code>. Simultaneously, this tag initiates the ME-PS merging procedure. 
To eventually obtain fully hadronized events, the <code>FRAGMENTATION</code> tag
has been left on it's default setting <samp><span class="option">Ahadic</span></samp> (and therefore been
omitted from the run card), which will run Sherpa's cluster hadronisation,
and the tag <code>DECAYMODEL</code> has it's default setting <samp><span class="option">Hadrons</span></samp>,
which will run Sherpa's hadron decays. Additionally corrections owing to
photon emissions are taken into account.

<p>To run this example set-up, use the
<pre class="example">     <code>&lt;prefix&gt;/bin/Sherpa</code>
</pre>
<p>command as descibed in <a href="#Running-Sherpa">Running Sherpa</a>. Sherpa displays some output
as it runs. At the start of the run, Sherpa initializes the relevant model,
and displays a table of particles, with their <a href="#PDG-codes">PDG codes</a> and some
properties. It also displays the <a href="#Particle-containers">Particle containers</a>, and their
contents. The other relevant parts of Sherpa are initialized, including
the matrix element generator(s). The Sherpa output will look like:

<pre class="smallformat"><pre class="verbatim">Initialized the beams Monochromatic*Monochromatic
PDF set 'ct10' loaded for beam 1 (P+).
PDF set 'ct10' loaded for beam 2 (P+).
Initialized the ISR: (SF)*(SF)
Initialize the Standard Model from  / Model.dat
One_Running_AlphaS::One_Running_AlphaS() {
  Setting \alpha_s according to PDF
  perturbative order 1
  \alpha_s(M_Z) = 0.118
}
One_Running_AlphaS::One_Running_AlphaS() {
  Setting \alpha_s according to PDF
  perturbative order 1
  \alpha_s(M_Z) = 0.118
}
Initialized the Soft_Collision_Handler.
Init shower for 1.
CS_Shower::CS_Shower(): Set core m_T mode 0
Shower::Shower(asfacs: IS = 0.73, FS = 1.38)
Init shower for 2.
CS_Shower::CS_Shower(): Set core m_T mode 0
Shower::Shower(asfacs: IS = 0.73, FS = 1.38)
Initialized the Shower_Handler.
+----------------------------------+
|                                  |
|      CCC  OOO  M   M I X   X     |
|     C    O   O MM MM I  X X      |
|     C    O   O M M M I   X       |
|     C    O   O M   M I  X X      |
|      CCC  OOO  M   M I X   X     |
|                                  |
+==================================+
|  Color dressed  Matrix Elements  |
|     http://comix.freacafe.de     |
|   please cite  JHEP12(2008)039   |
+----------------------------------+
Matrix_Element_Handler::BuildProcesses(): Looking for processes . done ( 23252 kB, 0s ).
Matrix_Element_Handler::InitializeProcesses(): Performing tests . done ( 23252 kB, 0s ).
Initialized the Matrix_Element_Handler for the hard processes.
Initialized the Beam_Remnant_Handler.
Hadron_Init::Init(): Initializing kf table for hadrons.
Initialized the Fragmentation_Handler.
Initialized the Soft_Photon_Handler.
Hadron_Decay_Map::Read:   Initializing HadronDecays.dat. This may take some time.
Initialized the Hadron_Decay_Handler, Decay model = Hadrons
R</pre>
</pre>
<p>Then Sherpa will start to integrate the cross sections. The output will look
like:
<pre class="smallformat"><pre class="verbatim">Process_Group::CalculateTotalXSec(): Calculate xs for '2_2__j__j__e-__e+' (Comix)
Starting the calculation at 11:58:56. Lean back and enjoy ... .
822.035 pb +- ( 16.9011 pb = 2.05601 % ) 5000 ( 11437 -> 43.7 % )
full optimization:  ( 0s elapsed / 22s left ) [11:58:56]   
841.859 pb +- ( 11.6106 pb = 1.37916 % ) 10000 ( 18153 -> 74.4 % )
full optimization:  ( 0s elapsed / 21s left ) [11:58:57]   
...
</pre>
</pre>
<p>The first line here displays the process which is being calculated. In this
example, the integration is for the 2-&gt;2 process, parton, parton -&gt; electron,
positron. The matrix element generator used is displayed after the process. 
As the integration progresses, summary lines are displayed, like the one
shown above. The current estimate of the cross section is displayed,
along with its statistical error estimate. The number of phase space points
calculated is displayed after this (<samp><span class="option">10000</span></samp> in this example), and the
efficiency is displayed after that. On the line below, the time elapsed is
shown, and an estimate of the total time till the optimisation is complete. 
In square brackets is an output of the system clock.

<p>When the integration is complete, the output will look like:

<pre class="smallformat"><pre class="verbatim">...
852.77 pb +- ( 0.337249 pb = 0.0395475 % ) 300000 ( 313178 -> 98.8 % )
integration time:  ( 19s elapsed / 0s left ) [12:01:35]   
852.636 pb +- ( 0.330831 pb = 0.038801 % ) 310000 ( 323289 -> 98.8 % )
integration time:  ( 19s elapsed / 0s left ) [12:01:35]   
2_2__j__j__e-__e+ : 852.636 pb +- ( 0.330831 pb = 0.038801 % )  exp. eff: 13.4945 %
  reduce max for 2_2__j__j__e-__e+ to 0.607545 ( eps = 0.001 ) 
</pre>
</pre>
<p>with the final cross section result and its statistical error displayed.

<p>Sherpa will then move on to integrate the other processes specified in the
run card.

<p>When the integration is complete, the event generation will start. 
As the events are being generated, Sherpa will display a summary line stating
how many events have been generated, and an estimate of how long it will take. 
When the event generation is complete, Sherpa's
output looks like:

<pre class="smallformat"><pre class="verbatim">...
Event 10000 ( 58 s total )                                         
In Event_Handler::Finish : Summarizing the run may take some time.
+----------------------------------------------------+
|                                                    |
|  Total XS is 900.147 pb +- ( 8.9259 pb = 0.99 % )  |
|                                                    |
+----------------------------------------------------+
</pre>
</pre>
<p>A summary of the number of events generated is displayed, with the
total cross section for the process.

<p>The generated events are not stored into a file by
default; for details on how to store the events see
<a href="#Event-output-formats">Event output formats</a>.

<h4 class="subsection">2.2.3 Parton-level event generation with Sherpa</h4>

<p><a name="Parton_002dlevel-event-generation-with-Sherpa"></a>Sherpa has its own tree-level matrix-element generators called AMEGIC++ and Comix. 
Furthermore, with the module PHASIC++, sophisticated and
robust tools for phase-space integration are provided. Therefore
Sherpa obviously can be used as a cross-section integrator. Because
of the way Monte Carlo integration is accomplished, this immediately
allows for parton-level event generation. Taking the <code>LHC_ZJets</code>
setup, users have to modify just a few settings in <code>Run.dat</code> and
would arrive at a parton-level generation for the process gluon down-quark to electron
positron and down-quark, to name an example. When, for instance, the
options &ldquo;<code>EVENTS=0 OUTPUT=2</code>&rdquo; are added to the command line,
a pure cross-section integration for that process would be obtained
with the results plus integration errors written to the screen.

<p>For the example, the <code>(processes)</code> section alters to
<pre class="verbatim">  Process : 21 1 -> 11 -11 1
  Order (*,2);
  End process
</pre>
and under the assumption to start afresh, the initialization procedure has
to be followed as before. 
Picking the same collider environment as in the previous
example there are only two more changes before the <code>Run.dat</code> file
is ready for the calculation of the hadronic cross section of the
process g d to e- e+ d at LHC and subsequent
parton-level event generation with Sherpa. These changes read
<code>SHOWER_GENERATOR=None</code>, to switch off parton showering,
<code>FRAGMENTATION=Off</code>, to do so for the hadronisation effects,
<code>MI_HANDLER=None</code>, to switch off multiparton interactions, and
<code>ME_QED=Off</code>, to switch off resummed QED corrections onto the
Z -&gt; e- e+ decay. Additionally, the non-perturbative intrinsic transverse
momentum may be wished to not be taken into account, therefore set
<code>BEAM_REMNANTS=0;</code>.

<h4 class="subsection">2.2.4 Multijet merged event generation with Sherpa</h4>

<p><a name="Multijet-merged-event-generation-with-Sherpa"></a>For a large fraction of LHC final states, the application of
reconstruction algorithms leads to the identification of several
hard jets. Calculations therefore need to describe as accurately as
possible both the hard jet production as well as the subsequent
evolution and the interplay of multiple such topologies. Several
scales determine the evolution of the event.

<p>Various such merging schemes have been proposed:

<p>[<a href="#Catani2001cc">Cat01a</a>], 
[<a href="#Lonnblad2001iq">Lon01</a>], 
[<a href="#Mangano2001xp">Man01</a>],

<p>[<a href="#Krauss2002up">Kra02</a>], 
[<a href="#Mangano2006rw">Man06</a>], 
[<a href="#Lavesson2008ah">Lav08</a>],

<p>[<a href="#Hoeche2009rj">Hoe09</a>], 
[<a href="#Hamilton2009ne">Ham09a</a>], 
[<a href="#Hamilton2010wh">Ham10</a>],

<p>[<a href="#Hoeche2010kg">Hoe10</a>], 
[<a href="#Lonnblad2011xx">Lon11</a>], 
[<a href="#Hoeche2012yf">Hoe12a</a>],

<p>[<a href="#Gehrmann2012yg">Geh12</a>], 
[<a href="#Lonnblad2012ng">Lon12b</a>], 
[<a href="#Lonnblad2012ix">Lon12a</a>]. 
Comparisons of the older approaches can be found e.g. in 
[<a href="#Hoche2006ph">Hoc06</a>],

<p>[<a href="#Alwall2007fs">Alw07</a>]. The currently most advanced treatment at tree-level,
detailed in 
[<a href="#Hoeche2009rj">Hoe09</a>], 
[<a href="#Hoeche2009xc">Hoe09a</a>], 
[<a href="#Carli2009cg">Car09</a>],
is implemented in Sherpa.

<h4 class="subsection">2.2.5 Running Sherpa with AMEGIC++</h4>

<p><a name="Running-Sherpa-with-AMEGIC_002b_002b"></a>When Sherpa is run using the matrix element generator
AMEGIC++, it is necessary to run it twice. During the first run
(the initialization run) Feynman diagrams for the hard processes are
constructed and translated into helicity amplitudes. Furthermore
suitable phase-space mappings are produced. The amplitudes and
corresponding integration channels are written to disk as C++
sourcecode, placed in a subdirectory called <code>Process</code>. The
initialization run is started using the standard Sherpa executable,
as decribed in <a href="#Running-Sherpa">Running Sherpa</a>. The relevant command is

<pre class="example">     <code>&lt;prefix&gt;/bin/Sherpa</code>
</pre>
<p>The initialization run stops with the message "New libraries created. Please
compile.", which is nothing but the request to carry
out the compilation and linking procedure for the generated
matrix-element libraries. The <code>makelibs</code> script, provided for this
purpose and created in the working directory, must be invoked by the user
(see <code>./makelibs -h</code> for help):

<pre class="example">     ./makelibs
</pre>
<p>Note that the following tools have to be available for this step:
<code>autoconf</code>, <code>automake</code> and <code>libtool</code>.

<p>Alternatively, if <a href="http://www.scons.org/">scons</a> is installed,
you may invoke <kbd>&lt;prefix&gt;/bin/make2scons</kbd> and run <kbd>scons install</kbd>. 
If scons was detected during the compilation of Sherpa, also makelibs uses
<code>scons</code> per default (can be forced to use <code>autotools</code> by
<kbd>./makelibs -s</kbd>.

<p>Afterwards Sherpa can be restarted using the same command as
before. In this run (the generation run) the cross sections of the hard
processes are evaluated. Simultaneously the
integration over phase space is optimized to arrive at an
efficient event generation.

<div class="node">
<a name="Cross-section-determination"></a>
<p><hr>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Running-Sherpa">Running Sherpa</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Getting-started">Getting started</a>

</div>

<h3 class="section">2.3 Cross section determination</h3>

<p>To determine the total cross section, in particular in the context of
multijet merging with Sherpa, the final output of the event generation
run should be used, e.g.
<pre class="verbatim">+-----------------------------------------------------+
|                                                     |
|  Total XS is 1612.17 pb +- ( 8.48908 pb = 0.52 % )  |
|                                                     |
+-----------------------------------------------------+
</pre>
Note that the Monte Carlo error quoted for the total cross section is
determined during event generation. It, therefore, might differ
substantially from the errors quoted during the integration step,
and it can be reduced simply by generating more events.

<p>In contrast to plain fixed order results, Sherpa's total cross section
in multijet merging setups (MEPS, MENLOPS, MEPS@NLO)
is composed of values from various fixed order processes, namely
those which are combined by applying the multijet merging, see
<a href="#Multijet-merged-event-generation-with-Sherpa">Multijet merged event generation with Sherpa</a>. In this context, it
is important to note:

<p><b>The higher multiplicity tree-level cross sections determined during the
   integration step are meaningless by themselves, only the inclusive cross
   section printed at the end of the event generation run is to be used.</b>

<p><b>Sherpa total cross sections have leading order accuracy when the generator
   is run in LO merging mode (MEPS), in NLO merging (MENLOPS, MEPS@NLO) mode
   they have NLO accuracy.</b>

<h4 class="subsection">2.3.1 Differential cross sections from single events</h4>

<p>To calculate the expectation value of an observable defined through a series
of cuts and requirements each event produced by Sherpa has to be evaluated
whether it meets the required criteria. The expectation value is then given
by
<pre class="verbatim">&lt;O> = 1/N_trial * \sum_i^n w_i(\Phi_i) O(\Phi_i) .
</pre>
Therein the <code>w_i(\Phi_i)</code> are the weight of the event with the phase
space configuration <code>\Phi_i</code> and <code>O(\Phi_i)</code> is the value of
the observable at this point. <code>N_trial = \sum_i^n n_trial,i</code> is the sum
of number of trials <code>n_trial,i</code> of all events. A good cross check is
to reproduce the inclusive cross section as quoted by Sherpa (see above).

<p>In case of unweighted events one might want to rescale the uniform
event weight to unity using <code>w_norm</code>. The above equation then reads
<pre class="verbatim">&lt;O> = w_norm/N_trial * \sum_i^n w_i(\Phi_i)/w_norm O(\Phi_i) .
</pre>
wherein <code>w_i(\Phi_i)/w_norm = 1</code>, ie. the sum simply counts
how many events pass the observable's selection criteria. If however,
<code>PartiallyUnweighted</code> event weights or <code>Enhance_Factor</code> or
<code>Enhance_Observable</code> are used, this is no longer the case and the
full form needs to be used.

<p>All required quantities, <code>w_i</code>, <code>w_norm</code> and <code>n_trial,i</code>,
accompany each event and are written e.g. into the HepMC output
(cf. <a href="#Event-output-formats">Event output formats</a>).

<div class="node">
<a name="Command-line"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Input-structure">Input structure</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Getting-started">Getting started</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">3 Command line options</h2>

<p>The available command line options for Sherpa.

     <dl>
<dt><samp><span class="option">-f &lt;file&gt;</span></samp><dd>Read input from file &lsquo;<samp><span class="samp">&lt;file&gt;</span></samp>&rsquo;.

     <br><dt><samp><span class="option">-p &lt;path&gt;</span></samp><dd>Read input file from path &lsquo;<samp><span class="samp">&lt;path&gt;</span></samp>&rsquo;.

     <br><dt><samp><span class="option">-L &lt;path&gt;</span></samp><dd>Set Sherpa library path to &lsquo;<samp><span class="samp">&lt;path&gt;</span></samp>&rsquo;,
see <a href="#SHERPA_005fCPP_005fPATH">SHERPA_CPP_PATH</a>.

     <br><dt><samp><span class="option">-e &lt;events&gt;</span></samp><dd>Set number of events to generate &lsquo;<samp><span class="samp">&lt;events&gt;</span></samp>&rsquo;,
see <a href="#EVENTS">EVENTS</a>.

     <br><dt><samp><span class="option">-t &lt;events&gt;</span></samp><dd>Set the event type to &lsquo;<samp><span class="samp">&lt;events&gt;</span></samp>&rsquo;,
see <a href="#EVENT_005fTYPE">EVENT_TYPE</a>.

     <br><dt><samp><span class="option">-r &lt;results&gt;</span></samp><dd>Set the result directory to &lsquo;<samp><span class="samp">&lt;results&gt;</span></samp>&rsquo;,
see <a href="#RESULT_005fDIRECTORY">RESULT_DIRECTORY</a>.

     <br><dt><samp><span class="option">-R &lt;seed&gt;</span></samp><dd>Set the seed of the random number generator to &lsquo;<samp><span class="samp">&lt;seed&gt;</span></samp>&rsquo;,
see <a href="#RANDOM_005fSEED">RANDOM_SEED</a>.

     <br><dt><samp><span class="option">-m &lt;generators&gt;</span></samp><dd>Set the matrix element generator list to &lsquo;<samp><span class="samp">&lt;generators&gt;</span></samp>&rsquo;,
see <a href="#ME_005fSIGNAL_005fGENERATOR">ME_SIGNAL_GENERATOR</a>.

     <br><dt><samp><span class="option">-w &lt;mode&gt;</span></samp><dd>Set the event generation mode to &lsquo;<samp><span class="samp">&lt;mode&gt;</span></samp>&rsquo;,
see <a href="#EVENT_005fGENERATION_005fMODE">EVENT_GENERATION_MODE</a>.

     <br><dt><samp><span class="option">-s &lt;generator&gt;</span></samp><dd>Set the parton shower generator to &lsquo;<samp><span class="samp">&lt;generator&gt;</span></samp>&rsquo;,
see <a href="#SHOWER_005fGENERATOR">SHOWER_GENERATOR</a>.

     <br><dt><samp><span class="option">-F &lt;module&gt;</span></samp><dd>Set the fragmentation module to &lsquo;<samp><span class="samp">&lt;module&gt;</span></samp>&rsquo;,
see <a href="#Fragmentation">Fragmentation</a>.

     <br><dt><samp><span class="option">-D &lt;module&gt;</span></samp><dd>Set the hadron decay module to &lsquo;<samp><span class="samp">&lt;module&gt;</span></samp>&rsquo;,
see <a href="#Hadron-decays">Hadron decays</a>.

     <br><dt><samp><span class="option">-a &lt;analyses&gt;</span></samp><dd>Set the analysis handler list to &lsquo;<samp><span class="samp">&lt;analyses&gt;</span></samp>&rsquo;,
see <a href="#ANALYSIS">ANALYSIS</a>.

     <br><dt><samp><span class="option">-A &lt;path&gt;</span></samp><dd>Set the analysis output path to &lsquo;<samp><span class="samp">&lt;path&gt;</span></samp>&rsquo;,
see <a href="#ANALYSIS_005fOUTPUT">ANALYSIS_OUTPUT</a>.

     <br><dt><samp><span class="option">-O &lt;level&gt;</span></samp><dd>Set general output level &lsquo;<samp><span class="samp">&lt;level&gt;</span></samp>&rsquo;, see <a href="#OUTPUT">OUTPUT</a>.

     <br><dt><samp><span class="option">-o &lt;level&gt;</span></samp><dd>Set output level for event generation &lsquo;<samp><span class="samp">&lt;level&gt;</span></samp>&rsquo;, see <a href="#OUTPUT">OUTPUT</a>.

     <br><dt><samp><span class="option">-l &lt;logfile&gt;</span></samp><dd>Set log file name &lsquo;<samp><span class="samp">&lt;logfile&gt;</span></samp>&rsquo;, see <a href="#LOG_005fFILE">LOG_FILE</a>.

     <br><dt><samp><span class="option">-g</span></samp><dd>Do not create result directory, see <a href="#RESULT_005fDIRECTORY">RESULT_DIRECTORY</a>.

     <br><dt><samp><span class="option">-b</span></samp><dd>Switch to non-batch mode, see <a href="#BATCH_005fMODE">BATCH_MODE</a>.

     <br><dt><samp><span class="option">-V</span></samp><dd>Print extended version information at startup.

     <br><dt><samp><span class="option">-v, --version</span></samp><dd>Print versioning information.

     <br><dt><samp><span class="option">-h, --help</span></samp><dd>Print a help message.

     <br><dt><samp><span class="option">PARAMETER=VALUE</span></samp><dd>Set the value of a parameter, see <a href="#Parameters">Parameters</a>.

     <br><dt><samp><span class="option">TAG:=VALUE</span></samp><dd>Set the value of a tag, see <a href="#Tags">Tags</a>.

</dl>

<div class="node">
<a name="Input-structure"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Parameters">Parameters</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Command-line">Command line</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">4 Input structure</h2>

<p><a name="index-PATH-1"></a><a name="index-RUNDATA-2"></a>
A Sherpa setup is steered by various parameters, associated with the
different components of event generation.

<p>These have to be specified in a
run-card which by default is named &ldquo;Run.dat&rdquo; in the current working directory. 
If you want to use a different setup directory for your Sherpa run, you have to
specify it on the command line as &lsquo;<samp><span class="samp">-p &lt;dir&gt;</span></samp>&rsquo; or &lsquo;<samp><span class="samp">PATH=&lt;dir&gt;</span></samp>&rsquo;. 
To read parameters from a run-card with a different name, you may specify
&lsquo;<samp><span class="samp">-f &lt;file&gt;</span></samp>&rsquo; or &lsquo;<samp><span class="samp">RUNDATA=&lt;file&gt;</span></samp>&rsquo;.

<p>Sherpa's parameters are grouped according to the different aspects
of event generation, e.g. the beam parameters in the group &lsquo;<samp><span class="samp">(beam)</span></samp>&rsquo; and
the fragmentation parameters in the group &lsquo;<samp><span class="samp">(fragmentation)</span></samp>&rsquo;. 
In the run-card this looks like:
<pre class="verbatim">  (beam){
    BEAM_ENERGY_1 = 7000.
    ...
  }(beam)
</pre>

<p>Each of these groups is described in detail in another chapter of this
manual, see <a href="#Parameters">Parameters</a>.

<p>If such a section or file does not exist in the setup directory,
a Sherpa-wide fallback mechanism is employed, searching the file
in various locations in the following order (where $SHERPA_DAT_PATH is an
optionally set environment variable):
     <ul>
<li>&lsquo;<samp><span class="samp">$SHERPA_DAT_PATH/&lt;PATH&gt;/</span></samp>&rsquo;

     <li>&lsquo;<samp><span class="samp">$SHERPA_DAT_PATH/</span></samp>&rsquo;

     <li>&lsquo;<samp><span class="samp">$prefix/share/SHERPA-MC/&lt;PATH&gt;/</span></samp>&rsquo;

     <li>&lsquo;<samp><span class="samp">$prefix/share/SHERPA-MC/</span></samp>&rsquo;

</ul>

<p>All parameters can be overwritten on the command line, i.e. 
command-line input has the highest priority. 
The syntax is
<pre class="verbatim">  &lt;prefix>/bin/Sherpa  KEYWORD1=value1 KEYWORD2=value2 ...
</pre>

<p>To change, e.g., the default number of events, the corresponding
command line reads
<pre class="verbatim">  &lt;prefix>/bin/Sherpa  EVENTS=10000
</pre>

<p>All over Sherpa, particles are defined by the particle code proposed by the
PDG. These codes and the particle properties will be listed during each run with
&lsquo;<samp><span class="samp">OUTPUT=2</span></samp>&rsquo; for the elementary particles and &lsquo;<samp><span class="samp">OUTPUT=4</span></samp>&rsquo; for the hadrons. 
In both cases, antiparticles are characterized by a minus sign in front of their
code, e.g. a mu- has code &lsquo;<samp><span class="samp">13</span></samp>&rsquo;, while a mu+ has &lsquo;<samp><span class="samp">-13</span></samp>&rsquo;.

<p>All quantities have to be specified in units of GeV and millimeter. The same
units apply to all numbers in the event output (momenta, vertex positions). 
Scattering cross sections are denoted in pico-barn in the output.

<p>There are a few extra features for an easier handling of the parameter
file(s), namely global tag replacement, see <a href="#Tags">Tags</a>, and algebra
interpretation, see <a href="#Interpreter">Interpreter</a>.

<ul class="menu">
<li><a accesskey="1" href="#Interpreter">Interpreter</a>:       How to use the internal interpreter
<li><a accesskey="2" href="#Tags">Tags</a>:              How to use tags
</ul>

<div class="node">
<a name="Interpreter"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Tags">Tags</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Input-structure">Input structure</a>

</div>

<h3 class="section">4.1 Interpreter</h3>

<p>Sherpa has a built-in interpreter for algebraic expressions, like &lsquo;<samp><span class="samp">cos(5/180*M_PI)</span></samp>&rsquo;. 
This interpreter is employed when reading integer and floating point numbers from
input files, such that certain parameters can be written in a more convenient fashion. 
For example it is possible to specify the factorisation scale as &lsquo;<samp><span class="samp">sqr(91.188)</span></samp>&rsquo;. 
<br>
There are predefined tags to alleviate the handling

     <dl>
<dt>&lsquo;<samp><span class="samp">M_PI</span></samp>&rsquo;<dd>Ludolph's Number to a precision of 12 digits. 
<br><dt>&lsquo;<samp><span class="samp">M_C</span></samp>&rsquo;<dd>The speed of light in the vacuum. 
<br><dt>&lsquo;<samp><span class="samp">E_CMS</span></samp>&rsquo;<dd>The total centre of mass energy of the collision.

</dl>
The expression syntax is in general C-like, except for the extra function &lsquo;<samp><span class="samp">sqr</span></samp>&rsquo;,
which gives the square of its argument. Operator precedence is the same as in C. 
The interpreter can handle functions with an arbitrary list of parameters, such as
&lsquo;<samp><span class="samp">min</span></samp>&rsquo; and &lsquo;<samp><span class="samp">max</span></samp>&rsquo;. 
<br>
The interpreter can be employed to construct arbitrary variables from four momenta,
like e.g. in the context of a parton level selector, see <a href="#Selectors">Selectors</a>. 
The corresponding functions are

     <dl>
<dt>&lsquo;<samp><span class="samp">Mass(</span><var>v</var><span class="samp">)</span></samp>&rsquo;<dd>The invariant mass of <var>v</var> in GeV. 
<br><dt>&lsquo;<samp><span class="samp">Abs2(</span><var>v</var><span class="samp">)</span></samp>&rsquo;<dd>The invariant mass squared of <var>v</var> in GeV^2. 
<br><dt>&lsquo;<samp><span class="samp">PPerp(</span><var>v</var><span class="samp">)</span></samp>&rsquo;<dd>The transverse momentum of <var>v</var> in GeV. 
<br><dt>&lsquo;<samp><span class="samp">PPerp2(</span><var>v</var><span class="samp">)</span></samp>&rsquo;<dd>The transverse momentum squared of <var>v</var> in GeV^2. 
<br><dt>&lsquo;<samp><span class="samp">MPerp(</span><var>v</var><span class="samp">)</span></samp>&rsquo;<dd>The transverse mass of <var>v</var> in GeV. 
<br><dt>&lsquo;<samp><span class="samp">MPerp2(</span><var>v</var><span class="samp">)</span></samp>&rsquo;<dd>The transverse mass squared of <var>v</var> in GeV^2. 
<br><dt>&lsquo;<samp><span class="samp">Theta(</span><var>v</var><span class="samp">)</span></samp>&rsquo;<dd>The polar angle of <var>v</var> in radians. 
<br><dt>&lsquo;<samp><span class="samp">Eta(</span><var>v</var><span class="samp">)</span></samp>&rsquo;<dd>The pseudorapidity of <var>v</var>. 
<br><dt>&lsquo;<samp><span class="samp">Y(</span><var>v</var><span class="samp">)</span></samp>&rsquo;<dd>The rapidity of <var>v</var>. 
<br><dt>&lsquo;<samp><span class="samp">Phi(</span><var>v</var><span class="samp">)</span></samp>&rsquo;<dd>The azimuthal angle of <var>v</var> in radians.

     <br><dt>&lsquo;<samp><span class="samp">Comp(</span><var>v</var><span class="samp">,</span><var>i</var><span class="samp">)</span></samp>&rsquo;<dd>The <var>i</var>'th component of the vector <var>v</var>. <var>i</var>=0 is the
energy/time component, <var>i</var>=1, 2, and 3 are the x, y, and z
components. 
<br><dt>&lsquo;<samp><span class="samp">PPerpR(</span><var>v1</var><span class="samp">,</span><var>v2</var><span class="samp">)</span></samp>&rsquo;<dd>The relative transverse momentum between <var>v1</var> and <var>v2</var> in GeV. 
<br><dt>&lsquo;<samp><span class="samp">ThetaR(</span><var>v1</var><span class="samp">,</span><var>v2</var><span class="samp">)</span></samp>&rsquo;<dd>The relative angle between <var>v1</var> and <var>v2</var> in radians. 
<br><dt>&lsquo;<samp><span class="samp">DEta(</span><var>v1</var><span class="samp">,</span><var>v2</var><span class="samp">)</span></samp>&rsquo;<dd>The pseudo-rapidity difference between <var>v1</var> and <var>v2</var>. 
<br><dt>&lsquo;<samp><span class="samp">DY(</span><var>v1</var><span class="samp">,</span><var>v2</var><span class="samp">)</span></samp>&rsquo;<dd>The rapidity difference between <var>v1</var> and <var>v2</var>. 
<br><dt>&lsquo;<samp><span class="samp">DPhi(</span><var>v1</var><span class="samp">,</span><var>v2</var><span class="samp">)</span></samp>&rsquo;<dd>The relative polar angle between <var>v1</var> and <var>v2</var> in radians.

</dl>

<div class="node">
<a name="Tags"></a>
<p><hr>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Interpreter">Interpreter</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Input-structure">Input structure</a>

</div>

<h3 class="section">4.2 Tags</h3>

<p>Tag replacement in Sherpa is performed through the data
reading routines, which means that it can be performed for
virtually all inputs. 
Specifying a tag on the command line using the syntax
&lsquo;<samp><span class="samp">&lt;Tag&gt;:=&lt;Value&gt;</span></samp>&rsquo; will replace every occurrence of &lsquo;<samp><span class="samp">&lt;Tag&gt;</span></samp>&rsquo; in all files
during read-in. An example tag definition could read
<pre class="verbatim">  &lt;prefix>/bin/Sherpa QCUT:=20 NJET:=3
</pre>

<p>and then be used in the (me) and (processes) sections like
<pre class="verbatim">  (me){
    RESULT_DIRECTORY Result_QCUT;
  }(me)
  (processes){
    Process 93 93 -> 11 -11 93{NJET};
    Order (*,2);
    CKKW sqr(QCUT/E_CMS);
    End process;
  }(processes)
</pre>

<div class="node">
<a name="Parameters"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Tips-and-Tricks">Tips and Tricks</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Input-structure">Input structure</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">5 Parameters</h2>

<p>A Sherpa setup is steered by various parameters, associated with the
different components of event generation. These are set in
Sherpa's
run-card, see <a href="#Input-structure">Input structure</a> for more details. Tag replacements may be
performed in all inputs, see <a href="#Tags">Tags</a>.

<ul class="menu">
<li><a accesskey="1" href="#Run-Parameters">Run Parameters</a>:     List of general parameters
<li><a accesskey="2" href="#Beam-Parameters">Beam Parameters</a>:    List of beam parameters
<li><a accesskey="3" href="#ISR-Parameters">ISR Parameters</a>:     List of initial state radiation parameters
<li><a accesskey="4" href="#Models">Models</a>:             Interaction models for the hard process
<li><a accesskey="5" href="#Matrix-Elements">Matrix Elements</a>:    Matrix element related settings
<li><a accesskey="6" href="#Processes">Processes</a>:          Syntax of the process setup
<li><a accesskey="7" href="#Selectors">Selectors</a>:          Syntax of parton level cuts
<li><a accesskey="8" href="#Integration">Integration</a>:        List of integration parameters
<li><a accesskey="9" href="#Hard-decays">Hard decays</a>:        List of paramters to steer hard/inclusive decays
<li><a href="#Shower-Parameters">Shower Parameters</a>:  List of shower parameters
<li><a href="#MPI-Parameters">MPI Parameters</a>:     List of multiple parton interaction parameters
<li><a href="#Hadronization">Hadronization</a>:      List of hadronization parameters
<li><a href="#QED-Corrections">QED Corrections</a>:    List of QED correction parameters
<li><a href="#Minimum-Bias">Minimum Bias</a>:       List of minimum bias simulation parameters
</ul>

<div class="node">
<a name="Run-Parameters"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Beam-Parameters">Beam Parameters</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Parameters">Parameters</a>

</div>

<h3 class="section">5.1 Run parameters</h3>

<p>The following parameters describe general run information. They may be set in the <code>(run)</code> section of the run-card, see <a href="#Input-structure">Input structure</a>.

<ul class="menu">
<li><a accesskey="1" href="#EVENTS">EVENTS</a>:             Number of events to generate. 
<li><a accesskey="2" href="#EVENT_005fTYPE">EVENT_TYPE</a>:         Type of events to generate. 
<li><a accesskey="3" href="#SHERPA_005fVERSION">SHERPA_VERSION</a>:     Sherpa version that can run this run card. 
<li><a accesskey="4" href="#TUNE">TUNE</a>:               Parameter tunes. 
<li><a accesskey="5" href="#OUTPUT">OUTPUT</a>:             Screen output level. 
<li><a accesskey="6" href="#LOG_005fFILE">LOG_FILE</a>:           Log file. 
<li><a accesskey="7" href="#RANDOM_005fSEED">RANDOM_SEED</a>:        Seed for random number generator. 
<li><a accesskey="8" href="#EVENT_005fSEED_005fMODE">EVENT_SEED_MODE</a>:    Setting predefined seeds. 
<li><a accesskey="9" href="#ANALYSIS">ANALYSIS</a>:           Switch internal analysis on or off. 
<li><a href="#ANALYSIS_005fOUTPUT">ANALYSIS_OUTPUT</a>:    Directory for generated analysis histogram files. 
<li><a href="#TIMEOUT">TIMEOUT</a>:            Run time limitation. 
<li><a href="#RLIMIT_005fAS">RLIMIT_AS</a>:          Memory limitation and leak detection. 
<li><a href="#BATCH_005fMODE">BATCH_MODE</a>:         Batch mode settings. 
<li><a href="#NUM_005fACCURACY">NUM_ACCURACY</a>:       Accuracy for gauge tests.

<li><a href="#SHERPA_005fCPP_005fPATH">SHERPA_CPP_PATH</a>:    The C++ code generation path. 
<li><a href="#SHERPA_005fLIB_005fPATH">SHERPA_LIB_PATH</a>:    The runtime library path.

<li><a href="#Event-output-formats">Event output formats</a>:      Event output in different formats. 
<li><a href="#Scale-and-PDF-variations">Scale and PDF variations</a>:  On-the-fly scale and PDF variations. 
<li><a href="#MPI-parallelization">MPI parallelization</a>:       MPI parallelization with Sherpa. 
</ul>

<div class="node">
<a name="EVENTS"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#EVENT_005fTYPE">EVENT_TYPE</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Run-Parameters">Run Parameters</a>

</div>

<h4 class="subsection">5.1.1 EVENTS</h4>

<p><a name="index-EVENTS-3"></a>This parameter specifies the number of events to be generated. 
<br>
It can alternatively be set on the command line through option
<samp><span class="option">-e</span></samp>, see <a href="#Command-line">Command line</a>.

<div class="node">
<a name="EVENT_TYPE"></a>
<a name="EVENT_005fTYPE"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#SHERPA_005fVERSION">SHERPA_VERSION</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#EVENTS">EVENTS</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Run-Parameters">Run Parameters</a>

</div>

<h4 class="subsection">5.1.2 EVENT_TYPE</h4>

<p><a name="index-EVENT_005fTYPE-4"></a>This parameter specifies the kind of events to be generated. 
It can alternatively be set on the command line through option
<samp><span class="option">-t</span></samp>, see <a href="#Command-line">Command line</a>.
     <ul>
<li>        The default event type is <code>StandardPerturbative</code>, which will
        generate a hard event through exact matrix elements matched and/or
        merged with the paerton shower, eventually including hadronization,
        hadron decays, etc.. 
</ul>
Alternatively there are two more specialised modes, namely:
     <ul>
<li>        <code>MinimumBias</code>, which generates minimum bias events through the
        SHRIMPS model implemented in Sherpa, see <a href="#Minimum-Bias">Minimum Bias</a>
<li>        <code>HadronDecay</code>, which allows to simulate the decays of a specific
        hadron. 
</ul>

<div class="node">
<a name="SHERPA_VERSION"></a>
<a name="SHERPA_005fVERSION"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#TUNE">TUNE</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#EVENT_005fTYPE">EVENT_TYPE</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Run-Parameters">Run Parameters</a>

</div>

<h4 class="subsection">5.1.3 SHERPA_VERSION</h4>

<p><a name="index-SHERPA_005fVERSION-5"></a>This parameter ties a run card to a specific Sherpa version, e.g. 
<code>2.2.0</code>. If two parameters are given they are interpreted as
a range of Sherpa versions.

<div class="node">
<a name="TUNE"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#OUTPUT">OUTPUT</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#SHERPA_005fVERSION">SHERPA_VERSION</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Run-Parameters">Run Parameters</a>

</div>

<h4 class="subsection">5.1.4 TUNE</h4>

<p><a name="index-TUNE-6"></a>This parameter specifies which tune is to be used. Setting different
tunes using this parameter ensures, that consistent settings are
employed. This affects mostly <a href="#MPI-Parameters">MPI Parameters</a> and
<a href="#Intrinsic-Transverse-Momentum">Intrinsic Transverse Momentum</a> parameters. Possible values are:
     <ul>
<li><code>CT10</code> MPI tune for the Sherpa's default PDF, CT10. This is the default tune. 
<li><code>CT10_UEup</code> Upward variation of MPI activity, variation of the CT10 tune to
assess MPI uncertainties. 
<li><code>CT10_UEdown</code> Downward variation of MPI activity, variation of the CT10 tune to
assess MPI uncertainties. 
</ul>

<div class="node">
<a name="OUTPUT"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#LOG_005fFILE">LOG_FILE</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#TUNE">TUNE</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Run-Parameters">Run Parameters</a>

</div>

<h4 class="subsection">5.1.5 OUTPUT</h4>

<p><a name="index-OUTPUT-7"></a><a name="index-EVT_005fOUTPUT-8"></a>This parameter specifies the screen output level (verbosity) of the program. 
If you are looking for event file output options please refer to section
<a href="#Event-output-formats">Event output formats</a>. 
<br>
It can alternatively be set on the command line through option
<samp><span class="option">-O</span></samp>, see <a href="#Command-line">Command line</a>. A different output level can be
specified for the event generation step through <samp><span class="option">EVT_OUTPUT</span></samp>
or command line option <samp><span class="option">-o</span></samp>, see <a href="#Command-line">Command line</a>

<p>The value can be any sum of the following:
     <ul>
<li>0: Error messages (-&gt; always displayed). 
<li>1: Event display. 
<li>2: Informational messages during the run. 
<li>4: Tracking messages (lots of output). 
<li>8: Debugging messages (even more output). 
</ul>

<p>E.g. <samp><span class="option">OUTPUT=3</span></samp> would display information, events and errors.

<div class="node">
<a name="LOG_FILE"></a>
<a name="LOG_005fFILE"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#RANDOM_005fSEED">RANDOM_SEED</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#OUTPUT">OUTPUT</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Run-Parameters">Run Parameters</a>

</div>

<h4 class="subsection">5.1.6 LOG_FILE</h4>

<p><a name="index-LOG_005fFILE-9"></a>This parameter specifies the log file. If set, the standard output
from Sherpa is written to the specified file, but output from child
processes is not redirected. This option is particularly useful to produce
clean log files when running the code in MPI mode, see <a href="#MPI-parallelization">MPI parallelization</a>. 
A file name can alternatively be specified on the command line through option
<samp><span class="option">-l</span></samp>, see <a href="#Command-line">Command line</a>.

<div class="node">
<a name="RANDOM_SEED"></a>
<a name="RANDOM_005fSEED"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#EVENT_005fSEED_005fMODE">EVENT_SEED_MODE</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#LOG_005fFILE">LOG_FILE</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Run-Parameters">Run Parameters</a>

</div>

<h4 class="subsection">5.1.7 RANDOM_SEED</h4>

<p><a name="index-RANDOM_005fSEED-10"></a>Sherpa uses different random-number generators. The default is the Ran3
generator described in [<a href="http://www.nr.com/">ISBN-10:0521880688</a>]. 
Alternatively, a combination of George Marsaglias KISS and SWB
[<a href="http://dx.doi.org/10.1214/aoap/1177005878">Ann.Appl.Probab.1</a>3(1991)462]
can be employed, see <a href="http://groups.google.co.uk/group/sci.stat.math/msg/edcb117233979602">this</a>
<a href="http://groups.google.co.uk/group/sci.math.num-analysis/msg/eb4ddde782b17051">website</a>. 
The integer-valued seeds of the generators are specified by
<samp><span class="option">RANDOM_SEED=A .. D</span></samp>. They can also be set directly using
<samp><span class="option">RANDOM_SEED1=A</span></samp> through <samp><span class="option">RANDOM_SEED4=D</span></samp>. The Ran3 generator
takes only one argument. This value can also be set using the command line
option <samp><span class="option">-R</span></samp>, see <a href="#Command-line">Command line</a>.

<div class="node">
<a name="EVENT_SEED_MODE"></a>
<a name="EVENT_005fSEED_005fMODE"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#ANALYSIS">ANALYSIS</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#RANDOM_005fSEED">RANDOM_SEED</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Run-Parameters">Run Parameters</a>

</div>

<h4 class="subsection">5.1.8 EVENT_SEED_MODE</h4>

<p>The tag <samp><span class="option">EVENT_SEED_MODE</span></samp> can be used to enforce the same seeds in different
runs of the generator. When set to 1, seed files are written to disk. These files are
gzip compressed, if Sherpa was compiled with option <samp><span class="option">--enable-gzip</span></samp>. 
When set to 2, existing random seed files are read and the seed is set to the
next available value in the file before each event. When set to 3, Sherpa uses
an internal bookkeeping mechanism to advance to the next predefined seed. 
No seed files are written out or read in.

<div class="node">
<a name="ANALYSIS"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#ANALYSIS_005fOUTPUT">ANALYSIS_OUTPUT</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#EVENT_005fSEED_005fMODE">EVENT_SEED_MODE</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Run-Parameters">Run Parameters</a>

</div>

<h4 class="subsection">5.1.9 ANALYSIS</h4>

<p><a name="index-ANALYSIS-11"></a>Analysis routines can be switched on or off by setting the ANALYSIS flag. 
The default is no analysis, corresponding to option <samp><span class="option">0</span></samp>. 
This parameter can also be specified on the command line using option
<samp><span class="option">-a</span></samp>, see <a href="#Command-line">Command line</a>.

<p>The following analysis handlers are currently available
     <dl>
<dt><samp><span class="option">Internal</span></samp><dd>Sherpa's internal analysis handler. 
<br>
To use this option, the package must be configured with option <samp><span class="option">--enable-analysis</span></samp>. 
<br>
An output directory can be specified using <a href="#ANALYSIS_005fOUTPUT">ANALYSIS_OUTPUT</a>. 
<br><dt><samp><span class="option">Rivet</span></samp><dd>The Rivet package, see <a href="http://projects.hepforge.org/rivet/">Rivet Website</a>. 
<br>
To enable it, Rivet and HepMC have to be installed and Sherpa must be configured
as described in <a href="#Rivet-analyses">Rivet analyses</a>. 
<br><dt><samp><span class="option">HZTool</span></samp><dd>The HZTool package, see <a href="http://hztool.hepforge.org/">HZTool Website</a>. 
<br>
To enable it, HZTool and CERNLIB have to be installed and Sherpa must be configured
as described in <a href="#HZTool-analyses">HZTool analyses</a>. 
</dl>

<p>Multiple options can be combined using a comma, e.g. &lsquo;<samp><span class="samp">ANALYSIS=Internal,Rivet</span></samp>&rsquo;.

<div class="node">
<a name="ANALYSIS_OUTPUT"></a>
<a name="ANALYSIS_005fOUTPUT"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#TIMEOUT">TIMEOUT</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#ANALYSIS">ANALYSIS</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Run-Parameters">Run Parameters</a>

</div>

<h4 class="subsection">5.1.10 ANALYSIS_OUTPUT</h4>

<p><a name="index-ANALYSIS_005fOUTPUT-12"></a>Name of the directory for histogram files when using the internal analysis
and name of the Aida file when using Rivet, see <a href="#ANALYSIS">ANALYSIS</a>. 
The directory / file will be created w.r.t. the working directory. The default
value is <samp><span class="option">Analysis/</span></samp>. This parameter can also be specified on the
command line using option <samp><span class="option">-A</span></samp>, see <a href="#Command-line">Command line</a>.

<div class="node">
<a name="TIMEOUT"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#RLIMIT_005fAS">RLIMIT_AS</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#ANALYSIS_005fOUTPUT">ANALYSIS_OUTPUT</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Run-Parameters">Run Parameters</a>

</div>

<h4 class="subsection">5.1.11 TIMEOUT</h4>

<p><a name="index-TIMEOUT-13"></a>A run time limitation can be given in user CPU seconds through TIMEOUT. This option is of
some relevance when running SHERPA on a batch system. Since in many cases jobs are just
terminated, this allows to interrupt a run, to store all relevant information and to restart
it without any loss. This is particularly useful when carrying out long integrations. 
Alternatively, setting the TIMEOUT variable to -1, which is the default setting, translates into
having no run time limitation at all. The unit is seconds.

<div class="node">
<a name="RLIMIT_AS"></a>
<a name="RLIMIT_005fAS"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#BATCH_005fMODE">BATCH_MODE</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#TIMEOUT">TIMEOUT</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Run-Parameters">Run Parameters</a>

</div>

<h4 class="subsection">5.1.12 RLIMIT_AS</h4>

<p><a name="index-RLIMIT_005fAS-14"></a><a name="index-RLIMIT_005fBY_005fCPU-15"></a><a name="index-MEMLEAK_005fWARNING_005fTHRESHOLD-16"></a>A memory limitation can be given to prevent Sherpa to crash the system it is
running on as it continues to build up matrix elements and loads additional
libraries at run time. Per default the maximum RAM of the system is determined
and set as the memory limit. This can be changed by giving
<samp><span class="option">RLIMIT_AS=&lt;size&gt;</span></samp> where the size is given in the format <code>500 MB</code>,
<code>4 GB</code>, or <code>10 %</code>. The space between number and unit is mandatory. 
When running with <a href="#MPI-parallelization">MPI parallelization</a> it might be necessary to divide
the total maximum by the number of cores. This can be done by setting
<code>RLIMIT_BY_CPU=1</code>.

<p>Sherpa checks for memory leaks during integration and event generation. 
If the allocated memory after start of integration or event generation exceeds
the parameter <samp><span class="option">MEMLEAK_WARNING_THRESHOLD</span></samp>, a warning is printed. 
Like <samp><span class="option">RLIMIT_AS</span></samp>, <samp><span class="option">MEMLEAK_WARNING_THRESHOLD</span></samp> can be set
using units. However, no spaces are allowed between the number and the unit. 
The warning threshold defaults to <code>16MB</code>.

<div class="node">
<a name="BATCH_MODE"></a>
<a name="BATCH_005fMODE"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#NUM_005fACCURACY">NUM_ACCURACY</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#RLIMIT_005fAS">RLIMIT_AS</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Run-Parameters">Run Parameters</a>

</div>

<h4 class="subsection">5.1.13 BATCH_MODE</h4>

<p><a name="index-BATCH_005fMODE-17"></a><a name="index-EVENT_005fDISPLAY_005fINTERVAL-18"></a>Whether or not to run Sherpa in batch mode. The default is <samp><span class="option">1</span></samp>,
meaning Sherpa does not attempt to save runtime information when catching
a signal or an exception. On the contrary, if option <samp><span class="option">0</span></samp> is used,
Sherpa will store potential integration information and analysis results,
once the run is terminated abnormally. All possible settings are:
     <ul>
<li><var>0</var> Sherpa attempts to write out integration and analysis
results when catching an exception. 
<li><var>1</var> Sherpa does not attempt to write out integration and
analysis results when catching an exception. 
<li><var>2</var> Sherpa outputs the event counter continously, instead
of overwriting the previous one (default when using <a href="#LOG_005fFILE">LOG_FILE</a>). 
<li><var>4</var> Sherpa increases the on-screen event counter in constant
steps of 100 instead of an increase relative to the current event
number. The interval length can be adjusted with <code>EVENT_DISPLAY_INTERVAL</code>. 
</ul>
The settings are additive such that multiple settings can be employed
at the same time.

<p><em>Note that when running the code on a cluster or in a grid environment, BATCH_MODE should always contain setting 1 (i.e. BATCH_MODE=[1|3|5|7]).</em>

<p>The command line option <samp><span class="option">-b</span></samp> should therefore not be used in this case, see
<a href="#Command-line">Command line</a>.

<div class="node">
<a name="NUM_ACCURACY"></a>
<a name="NUM_005fACCURACY"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#SHERPA_005fCPP_005fPATH">SHERPA_CPP_PATH</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#BATCH_005fMODE">BATCH_MODE</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Run-Parameters">Run Parameters</a>

</div>

<h4 class="subsection">5.1.14 NUM_ACCURACY</h4>

<p><a name="index-NUM_005fACCURACY-19"></a>The targeted numerical accuracy can be specified through NUM ACCURACY, e.g. for comparing
two numbers. This might have to be reduced if gauge tests fail for numerical reasons.

<div class="node">
<a name="SHERPA_CPP_PATH"></a>
<a name="SHERPA_005fCPP_005fPATH"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#SHERPA_005fLIB_005fPATH">SHERPA_LIB_PATH</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#NUM_005fACCURACY">NUM_ACCURACY</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Run-Parameters">Run Parameters</a>

</div>

<h4 class="subsection">5.1.15 SHERPA_CPP_PATH</h4>

<p><a name="index-SHERPA_005fCPP_005fPATH-20"></a>The path in which Sherpa will eventually store dynamically created C++ source code. 
If not specified otherwise, sets <samp><span class="option">SHERPA_LIB_PATH</span></samp> to
&lsquo;<samp><span class="samp">$SHERPA_CPP_PATH/Process/lib</span></samp>&rsquo;. This value can also be set using the command line
option <samp><span class="option">-L</span></samp>, see <a href="#Command-line">Command line</a>.

<div class="node">
<a name="SHERPA_LIB_PATH"></a>
<a name="SHERPA_005fLIB_005fPATH"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Event-output-formats">Event output formats</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#SHERPA_005fCPP_005fPATH">SHERPA_CPP_PATH</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Run-Parameters">Run Parameters</a>

</div>

<h4 class="subsection">5.1.16 SHERPA_LIB_PATH</h4>

<p><a name="index-SHERPA_005fLIB_005fPATH-21"></a>The path in which Sherpa looks for dynamically linked libraries from previously created
C++ source code, cf. <a href="#SHERPA_005fCPP_005fPATH">SHERPA_CPP_PATH</a>.

<div class="node">
<a name="Event-output-formats"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Scale-and-PDF-variations">Scale and PDF variations</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#SHERPA_005fLIB_005fPATH">SHERPA_LIB_PATH</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Run-Parameters">Run Parameters</a>

</div>

<h4 class="subsection">5.1.17 Event output formats</h4>

<p><a name="index-HepMC_005fGenEvent-22"></a><a name="index-HepMC_005fShort-23"></a><a name="index-HEPEVT-24"></a><a name="index-LHEF-25"></a><a name="index-Root-26"></a><a name="index-Delphes-27"></a><a name="index-FILE_005fSIZE-28"></a><a name="index-EVT_005fFILE_005fPATH-29"></a><a name="index-OUTPUT_005fPRECISION-30"></a><a name="index-EVENT_005fOUTPUT-31"></a><a name="index-EVENT_005fINPUT-32"></a>
Sherpa provides the possibility to output events in various formats,
e.g. the HepEVT common block structure or the HepMC format. 
The authors of Sherpa assume that the user is sufficiently acquainted with
these formats when selecting them.

<p>If the events are to be written to file, the parameter <samp><span class="option">EVENT_OUTPUT</span></samp>
must be specified together with a file name. An example would be
<code>EVENT_OUTPUT=HepMC_GenEvent[MyFile]</code>, where <code>MyFile</code> stands
for the desired file base name. The following formats are currently available:

     <dl>
<dt><samp><span class="option">HepMC_GenEvent</span></samp><dd>Generates output in HepMC::IO_GenEvent format. The HepMC::GenEvent::m_weights
weight vector stores the following items: <code>[0]</code> event weight, <code>[1]</code>
combined matrix element and PDF weight (missing only phase space weight
information, thus directly suitable for evaluating the matrix element value of
the given configuration), <code>[2]</code> event weight
normalisation (in case of unweighted events event weights of ~ +/-1
can be obtained by (event weight)/(event weight normalisation)), and
<code>[3]</code> number of trials. The total cross section of the simulated event sample
can be computed as the sum of event weights divided by the sum of the number of trials. 
This value must agree with the total cross section quoted by Sherpa at the end of
the event generation run, and it can serve as a cross-check on the consistency
of the HepMC event file.  Note that Sherpa conforms to the Les Houches 2013
suggestion (<a href="http://phystev.in2p3.fr/wiki/2013:groups:tools:hepmc">http://phystev.in2p3.fr/wiki/2013:groups:tools:hepmc</a>)
of indicating interaction types through the GenVertex type-flag.  Multiple
event weights can also be enabled with HepMC versions &gt;2.06, cf. 
<a href="#Scale-and-PDF-variations">Scale and PDF variations</a>. The following additional customisations
can be used

     <p><code>HEPMC_USE_NAMED_WEIGHTS=&lt;0|1&gt;</code>
Enable filling weights with an associated name. The nominal event weight
has the key <code>Weight</code>. <code>MEWeight</code>, <code>WeightNormalisation</code> and
<code>NTrials</code> provide additional information for each event as described
above. Needs HepMC version &gt;2.06.

     <p><code>HEPMC_EXTENDED_WEIGHTS=&lt;0|1&gt;</code>
Write additional event weight information needed for a posteriori reweighting
into the WeightContainer, cf. <a href="#A-posteriori-scale-and-PDF-variations-using-the-HepMC-GenEvent-Output">A posteriori scale and PDF variations using the HepMC GenEvent Output</a>. Necessitates
the use of <code>HEPMC_USE_NAMED_WEIGHTS</code>.

     <p><code>HEPMC_TREE_LIKE=&lt;0|1&gt;</code>
Force the event record to be stricly tree-like. Please note that this removes
some information from the matrix-element-parton-shower interplay which would
be otherwise stored.

     <br><dt><samp><span class="option">HepMC_Short</span></samp><dd>Generates output in HepMC::IO_GenEvent format, however, only incoming beams and
outgoing particles are stored. Intermediate and decayed particles are not
listed. The event weights stored as the same as above, and
<code>HEPMC_USE_NAMED_WEIGHTS</code> and <code>HEPMC_EXTENDED_WEIGHTS</code> can be used to
customise. 
<br><dt><samp><span class="option">Delphes_GenEvent</span></samp><dd>Generates output in <a href="http://root.cern.ch">Root</a> format, which can be passed to
<a href="http://cp3.irmp.ucl.ac.be/projects/delphes">Delphes</a> for analyses. 
Input events are taken from the HepMC interface. Storage space can be reduced
by up to 50% compared to gzip compressed HepMC. This output format is available
only if Sherpa was configured and installed with options <samp><span class="option">--enable-root</span></samp>
and <samp><span class="option">--enable-delphes=/path/to/delphes</span></samp>. 
<br><dt><samp><span class="option">Delphes_Short</span></samp><dd>Generates output in <a href="http://root.cern.ch">Root</a> format, which can be passed to
<a href="http://cp3.irmp.ucl.ac.be/projects/delphes">Delphes</a> for analyses. 
Only incoming beams and outgoing particles are stored. 
<br><dt><samp><span class="option">PGS</span></samp><dd>Generates output in <a href="http://cepa.fnal.gov/psm/stdhep">StdHEP</a> format, which can be
passed to <a href="http://www.physics.ucdavis.edu/~conway/research/software/pgs/pgs4-general.htm">PGS</a>
for analyses. This output format is available only if Sherpa was configured and installed
with options <samp><span class="option">--enable-hepevtsize=4000</span></samp> and <samp><span class="option">--enable-pgs=/path/to/pgs</span></samp>. 
Please refer to the PGS documentation for how to pass StdHEP event files on to PGS. 
If you are using the LHC olympics executeable, you may run
<samp><span class="option">./olympics --stdhep events.lhe &lt;other options&gt;</span></samp>.

     <br><dt><samp><span class="option">PGS_Weighted</span></samp><dd>Generates output in <a href="http://cepa.fnal.gov/psm/stdhep">StdHEP</a> format, which can be
passed to <a href="http://www.physics.ucdavis.edu/~conway/research/software/pgs/pgs4-general.htm">PGS</a>
for analyses. Event weights in the HEPEV4 common block are stored in the event file. 
<br><dt><samp><span class="option">HEPEVT</span></samp><dd>Generates output in HepEvt format. 
<br><dt><samp><span class="option">LHEF</span></samp><dd>Generates output in Les Houches Event File format. This output format is
intended for output of <strong>matrix element configurations only</strong>. Since the
format requires PDF information to be written out in the outdated
PDFLIB/LHAGLUE enumeration format this is only available automatically if
LHAPDF is used, the identification numbers otherwise have to be given
explicitly via <code>LHEF_PDF_NUMBER</code> (<code>LHEF_PDF_NUMBER_1</code> and
<code>LHEF_PDF_NUMBER_2</code> if both beams carry different structure functions). 
This format currently outputs matrix element information only, no information
about the large-Nc colour flow is given as the LHEF output format is not
suited to communicate enough information for meaningful parton showering
on top of multiparton final states. 
<br><dt><samp><span class="option">Root</span></samp><dd>Generates output in ROOT ntuple format <strong>for NLO event generation only</strong>. 
For details on the ntuple format, see <a href="#A-posteriori-scale-and-PDF-variations-using-the-ROOT-NTuple-Output">A posteriori scale and PDF variations using the ROOT NTuple Output</a>. 
This output option is available only if Sherpa was linked to ROOT during
installation by using the configure option <code>--enable-root=/path/to/root</code>. 
ROOT ntuples can be read back into Sherpa and analyzed using the option
<samp><span class="option">EVENT_INPUT</span></samp>. 
</dl>

<p>The output can be further customized using the following options:

     <dl>
<dt><samp><span class="option">FILE_SIZE</span></samp><dd>Number of events per file (default: unlimited). 
<br><dt><samp><span class="option">NTUPLE_SIZE</span></samp><dd>File size per NTuple file (default: unlimited). 
This option is deprecated. It may lead to errors in the subsequent
processing of NTuple files. Please use <samp><span class="option">FILE_SIZE</span></samp> instead. 
<br><dt><samp><span class="option">EVT_FILE_PATH</span></samp><dd>Directory where the files will be stored. 
<br><dt><samp><span class="option">OUTPUT_PRECISION</span></samp><dd>Steers the precision of all numbers written to file. 
</dl>

<p>For all output formats except ROOT and Delphes, events can be written directly
to gzipped files instead of plain text. The option <samp><span class="option">--enable-gzip</span></samp>
must be given during installation to enable this feature.

<div class="node">
<a name="Scale-and-PDF-variations"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#MPI-parallelization">MPI parallelization</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Event-output-formats">Event output formats</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Run-Parameters">Run Parameters</a>

</div>

<h4 class="subsection">5.1.18 Scale and PDF variations</h4>

<p>Sherpa can compute alternative event weights for different scale and
PDF choices on-the-fly, resulting in alternative weights for the generated
event. The can be evoked with the following syntax
<pre class="verbatim">SCALE_VARIATIONS &lt;muR-fac-1>,&lt;muF-fac-1>[,&lt;PDF-1>]  &lt;muR-fac-2>,&lt;muF-fac-2>[,&lt;PDF-2>] ...
</pre>
The key word <code>SCALE_VARIATIONS</code> takes a space separated list of
variation factors for the nominal renormalisation and factorisation scale
and an associated PDF set. Any set present in any of the PDF library interfaces
loaded through <code>PDF_LIBRARY</code> can be used. If no PDF set is given it
defaults to the nominal one. Specific PDF members can be
specified by appending the PDF set name with <code>/&lt;member-id&gt;</code>. The
short-hand appendix <code>[all]</code> will provide the variations for all
members of the given set (only works with LHAPDF6). Please note: scales
are, as always in Sherpa, given in their quadratic form. Thus, a variation
of factor 4 of the squared scale [GeV^2] means a variation of factor 2 on the
scale itself [GeV].

<p>PDF variations on their own can also be invoked by giving the list of
PDF sets to be reweighted to to <code>PDF_VARIATIONS</code>.

<p>Thus, a complete variation using the PDF4LHC convention would read
<pre class="verbatim">  SCALE_VARIATIONS 0.25,0.25 0.25,1. 1.,0.25 1.,1. 1.,4. 4.,1. 4.,4.;
  PDF_VARIATIONS CT10nlo[all] MMHT2014nlo68cl[all] NNPDF30_nlo_as_0118[all];
</pre>
Please note, this syntax will create 7+53+51+101=212 additional weights
for each event.

<p>The additional event weights can then be written into the event output. 
However, this is currently only supported for <code>HepMC_GenEvent</code> and
<code>HepMC_Short</code> with versions &gt;2.06 and <code>HEPMC_USE_NAMED_WEIGHTS=1</code>. 
The alternative event weights follow the Les Houches naming convention
for such variations, ie. they are named <code>MUR&lt;fac&gt;_MUF&lt;fac&gt;_PDF&lt;id&gt;</code>. 
When using Sherpa's interface to Rivet, <a href="#Rivet-analyses">Rivet analyses</a>, separate
instances of Rivet, one for each alternative event weight in addition to
the nominal one, are instantiated leading to one set of histograms each. 
They are again named using the <code>MUR&lt;fac&gt;_MUF&lt;fac&gt;_PDF&lt;id&gt;</code> convention.

<p>The user must also be aware that, of course, the cross section of the
event sample, changes when using an alternative event weight as compared
to the nominal one. Any histograming therefore haas to account for this
and recompute the total cross section as the sum of weights devided by the
number of trials, cf. <a href="#Cross-section-determination">Cross section determination</a>.

<p><b>Important:</b> The on-the-fly reweighting currently works for LO, LOPS,
MEPS, NLO, NLOPS type of calculations, but not yet for MENLOPS and MEPS@NLO
type calculations.

<div class="node">
<a name="MPI-parallelization"></a>
<p><hr>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Scale-and-PDF-variations">Scale and PDF variations</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Run-Parameters">Run Parameters</a>

</div>

<h4 class="subsection">5.1.19 MPI parallelization</h4>

<p>MPI parallelization in Sherpa can be enabled using the configuration
option <samp><span class="option">--enable-mpi</span></samp>. Sherpa supports
<a href="http://www.open-mpi.org/">OpenMPI</a>
and
<a href="http://www.mcs.anl.gov/research/projects/mpich2/">MPICH2</a>
. For detailed instructions on how to run a parallel program, please refer
to the documentation of your local cluster resources or the many excellent
introductions on the internet. MPI parallelization is mainly intended to speed up
the integration process, as event generation can be parallelized trivially
by starting multiple instances of Sherpa with different random seed, cf. 
<a href="#RANDOM_005fSEED">RANDOM_SEED</a>. However, both the internal analysis module and the Root
NTuple writeout can be used with MPI. Note that these require substantial
data transfer.

<p>Please note that the process information contained in the <code>Process</code>
directory for both Amegic and Comix needs to be generated without
MPI parallelization first. Therefore, first run
<pre class="verbatim">Sherpa -f &lt;run-card> INIT_ONLY=1
</pre>
and, in case of using Amegic, compile the libraries. Then start your
parallized integration, e.g.
<pre class="verbatim">mpirun -n &lt;n> Sherpa -f &lt;run-card>
</pre>

<div class="node">
<a name="Beam-Parameters"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#ISR-Parameters">ISR Parameters</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Run-Parameters">Run Parameters</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Parameters">Parameters</a>

</div>

<h3 class="section">5.2 Beam parameters</h3>

<p><a name="index-BEAM_005f1-33"></a><a name="index-BEAM_005f2-34"></a><a name="index-BEAM_005fENERGY_005f1-35"></a><a name="index-BEAM_005fENERGY_005f2-36"></a>
The setup of the colliding beams is covered by the <code>(beam)</code>
section of the steering file or the beam data file <code>Beam.dat</code>,
respectively, see <a href="#Input-structure">Input structure</a>. The <em>mandatory settings</em> to be made are

     <ul>
<li>The initial beam particles specified through
<samp><span class="option">BEAM_1</span></samp> and <samp><span class="option">BEAM_2</span></samp>, given by their PDG
particle number. For (anti)protons and (positrons) electrons,
for example, these are given by (-)2212 or (-)11, respectively. 
The code for photons is 22. 
<li>The energies of both incoming beams, defined through
<samp><span class="option">BEAM_ENERGY_1</span></samp> and <samp><span class="option">BEAM_ENERGY_2</span></samp>,
given in units of GeV. Beam energies may also be specified
as a second argument to <samp><span class="option">BEAM_1</span></samp> and <samp><span class="option">BEAM_2</span></samp>. 
</ul>

<p>More options related to beamstrahlung and intrinsic transverse momentum can
be found in the following subsections.

<ul class="menu">
<li><a accesskey="1" href="#Beam-Spectra">Beam Spectra</a>:   Options related to beamstrahlung
<li><a accesskey="2" href="#Intrinsic-Transverse-Momentum">Intrinsic Transverse Momentum</a>:  Options related to primordial transverse momentum
</ul>

<div class="node">
<a name="Beam-Spectra"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Intrinsic-Transverse-Momentum">Intrinsic Transverse Momentum</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Beam-Parameters">Beam Parameters</a>

</div>

<h4 class="subsection">5.2.1 Beam Spectra</h4>

<p><a name="index-BEAM_005fSPECTRUM_005f1-37"></a><a name="index-BEAM_005fSPECTRUM_005f2-38"></a><a name="index-SPECTRUM_005fFILE_005f1-39"></a><a name="index-SPECTRUM_005fFILE_005f2-40"></a><a name="index-BEAM_005fSMIN-41"></a><a name="index-BEAM_005fSMAX-42"></a>
If desired, you can also specify spectra for beamstrahlung through
<code>BEAM_SPECTRUM_1</code> and <code>BEAM_SPECTRUM_2</code>. The possible values are
Possible values are
     <dl>
<dt><samp><span class="option">Monochromatic</span></samp><dd>The beam energy is unaltered and the beam particles remain unchanged. 
That is the default and corresponds to ordinary hadron-hadron or
lepton-lepton collisions. 
<br><dt><samp><span class="option">Laser_Backscattering</span></samp><dd>This can be used to describe the backscattering of a laser beam
off initial leptons. The energy distribution of the emerging
photon beams is modelled by the CompAZ parametrization, see

     <p>[<a href="#Zarnecki2002qr">Zar02</a>]. 
Note that this parametrization is valid only for the proposed
TESLA photon collider, as various assumptions about the laser
parameters and the initial lepton beam energy have been made. 
See details below. 
<br><dt><samp><span class="option">Simple_Compton</span></samp><dd>This corresponds to a simple light backscattering
off the initial lepton beam and produces initial-state
photons with a corresponding energy spectrum.  See details below. 
<br><dt><samp><span class="option">EPA</span></samp><dd>This enables the equivalent photon approximation for
colliding protons, see 
[<a href="#Archibald2008aa">Arc08</a>]. The resulting beam particles are photons that
follow a dipole form factor parametrization, cf. 
[<a href="#Budnev1974de">Bud74</a>]. 
The authors would like to thank T. Pierzchala for his help in
implementing and testing the corresponding code. See details below. 
<br><dt><samp><span class="option">Spectrum_Reader</span></samp><dd>A user defined spectrum is used to describe the energy spectrum
of the assumed new beam particles. The name of the corresponding
spectrum file needs to be given through the keywords
<code>SPECTRUM_FILE_1</code> and <code>SPECTRUM_FILE_2</code>. 
</dl>

<p>The <code>BEAM_SMIN</code> and <code>BEAM_SMAX</code> parameters may be used to specify the
minimum/maximum fraction of cms energy
squared after Beamstrahlung. The reference value is the total centre
of mass energy squared of the collision, <em>not</em> the
centre of mass energy after eventual Beamstrahlung. 
<br>
The parameter can be specified using the internal interpreter, see
<a href="#Interpreter">Interpreter</a>, e.g. as &lsquo;<samp><span class="samp">BEAM_SMIN sqr(20/E_CMS)</span></samp>&rsquo;.

<h5 class="subsubsection">5.2.1.1 Laser Backscattering</h5>

<p><a name="index-E_005fLASER_005f-43"></a><a name="index-E_005fLASER_005f-44"></a><a name="index-P_005fLASER_005f-45"></a><a name="index-P_005fLASER_005f-46"></a><a name="index-LASER_005fMODE-47"></a><a name="index-LASER_005fANGLES-48"></a><a name="index-LASER_005fNONLINEARITY-49"></a>The energy distribution of the photon beams is modelled by the CompAZ
parametrisation, see 
[<a href="#Zarnecki2002qr">Zar02</a>], with various assumptions
valid only for the proposed TESLA photon collider. The laser energies
can be set by <code>E_LASER_1/2</code> for the respective beam. <code>P_LASER_1/2</code>
sets their polarisations, defaulting to <code>0.</code>. The <code>LASER_MODE</code>
takes the values <code>-1</code>, <code>0</code>, and <code>1</code>, defaulting to <code>0</code>. 
<code>LASER_ANGLES</code> and <code>LASER_NONLINEARITY</code> take the values <code>On</code>
and <code>Off</code>, both defaulting to <code>Off</code>.

<h5 class="subsubsection">5.2.1.2 Simple Compton</h5>

<p>This corresponds to a simple light backscattering off the initial lepton
beam and produces initial-state photons with a corresponding energy spectrum. 
It is a special case of the above Laser Backscattering with
<code>LASER_MODE=-1</code>.

<h5 class="subsubsection">5.2.1.3 EPA</h5>

<p><a name="index-EPA_005fq2Max_005f1-50"></a><a name="index-EPA_005fq2Max_005f2-51"></a><a name="index-EPA_005fptMin_005f1-52"></a><a name="index-EPA_005fptMin_005f2-53"></a><a name="index-EPA_005fForm_005fFactor_005f1-54"></a><a name="index-EPA_005fForm_005fFactor_005f2-55"></a><a name="index-EPA_005fAlphaQED-56"></a>
The equivalent photon approximation,
cf. 
[<a href="#Archibald2008aa">Arc08</a>], 
[<a href="#Budnev1974de">Bud74</a>],
has a few free parameters:
     <dl>
<dt><samp><span class="option">EPA_q2Max_1/2</span></samp><dd>Parameter of the EPA spectrum of the respective beam, defaults to <code>2.</code>
in units of GeV squared. 
<br><dt><samp><span class="option">EPA_ptMin_1/2</span></samp><dd>Infrared regulator to EPA spectrum. Given in GeV, the value must be
between <code>0.</code> and <code>1.</code> for EPA approximation to hold. 
Defaults to <code>0.</code>, i.e. the spectrum
has to be regulated by cuts on the observable, cf <a href="#Selectors">Selectors</a>. 
<br><dt><samp><span class="option">EPA_Form_Factor_1/2</span></samp><dd>Form factor model to be used on the respective beam. The options are
<code>0</code> (pointlike), <code>1</code> (homogeneously charged sphere,
<code>2</code> (gaussian shaped nucleus), and <code>3</code> (homogeneously charged
sphere, smoothed at low and high x). Applicable only to heavy ion beams. 
Defaults to <code>0</code>. 
<br><dt><samp><span class="option">EPA_AlphaQED</span></samp><dd>Value of alphaQED to be used in the EPA. Defaults to <code>0.0072992701</code>. 
</dl>

<div class="node">
<a name="Intrinsic-Transverse-Momentum"></a>
<p><hr>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Beam-Spectra">Beam Spectra</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Beam-Parameters">Beam Parameters</a>

</div>

<h4 class="subsection">5.2.2 Intrinsic Transverse Momentum</h4>

<p><a name="index-K_005fPERP_005fMEAN_005f1-57"></a><a name="index-K_005fPERP_005fMEAN_005f2-58"></a><a name="index-K_005fPERP_005fSIGMA_005f1-59"></a><a name="index-K_005fPERP_005fSIGMA_005f2-60"></a><a name="index-BEAM_005fREMNANTS-61"></a>
     <dl>
<dt><samp><span class="option">K_PERP_MEAN_1</span></samp><dd>This parameter specifies the mean intrinsic transverse
momentum for the first (left) beam in case of hadronic
beams, such as protons. 
<br>
The default value for protons is 0.8 GeV.

     <br><dt><samp><span class="option">K_PERP_MEAN_2</span></samp><dd>This parameter specifies the mean intrinsic transverse
momentum for the second (right) beam in case of hadronic
beams, such as protons. 
<br>
The default value for protons is 0.8 GeV.

     <br><dt><samp><span class="option">K_PERP_SIGMA_1</span></samp><dd>This parameter specifies the width of the Gaussian distribution
of intrinsic transverse momentum for the first (left) beam in
case of hadronic beams, such as protons. 
<br>
The default value for protons is 0.8 GeV.

     <br><dt><samp><span class="option">K_PERP_SIGMA_2</span></samp><dd>This parameter specifies the width of the Gaussian distribution
of intrinsic transverse momentum for the first (left) beam in
case of hadronic beams, such as protons. 
<br>
The default value for protons is 0.8 GeV.

</dl>

<p>If the option <samp><span class="option">BEAM_REMNANTS=0</span></samp> is specified, pure parton-level
events are simulated, i.e. no beam remnants are generated. Accordingly,
partons entering the hard scattering process do not acquire primordial
transverse momentum.

<div class="node">
<a name="ISR-Parameters"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Models">Models</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Beam-Parameters">Beam Parameters</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Parameters">Parameters</a>

</div>

<h3 class="section">5.3 ISR parameters</h3>

<p><a name="index-BUNCH_005f1-62"></a><a name="index-BUNCH_005f2-63"></a><a name="index-ISR_005fSMIN-64"></a><a name="index-ISR_005fSMAX-65"></a><a name="index-ISR_005fE_005fORDER-66"></a><a name="index-ISR_005fE_005fSCHEME-67"></a><a name="index-PDF_005fLIBRARY-68"></a><a name="index-PDF_005fLIBRARY_005f1-69"></a><a name="index-PDF_005fLIBRARY_005f2-70"></a><a name="index-PDF_005fSET-71"></a><a name="index-PDF_005fSET_005f1-72"></a><a name="index-PDF_005fSET_005f2-73"></a><a name="index-PDF_005fSET_005fVERSION-74"></a><a name="index-PDF_005fSET_005fMEMBER-75"></a><a name="index-SHOW_005fPDF_005fSETS-76"></a>
The following parameters are used to steer the setup of beam substructure and
initial state radiation (ISR). They may be set in the
<code>(isr)</code> section of the run-card, see <a href="#Input-structure">Input structure</a>.

     <dl>
<dt><code>BUNCH_1/BUNCH_2</code><dd>Specify the PDG ID of the first
(left) and second (right) bunch particle, i.e. the particle after eventual
Beamstrahlung specified through the beam parameters, see <a href="#Beam-Parameters">Beam Parameters</a>. 
Per default these are taken to be identical to the parameters
<code>BEAM_1</code>/<code>BEAM_2</code>, assuming the default beam spectrum is
Monochromatic. In case the Simple Compton or Laser Backscattering spectra are
enabled the bunch particles would have to be set to 22, the PDG code of the
photon.

     <br><dt><code>ISR_SMIN/ISR_SMAX</code><dd>This parameter specifies the minimum fraction of cms energy
squared after ISR. The reference value is the total centre
of mass energy squared of the collision, <em>not</em> the
centre of mass energy after eventual Beamstrahlung. 
<br>
The parameter can be specified using the internal interpreter,
see <a href="#Interpreter">Interpreter</a>, e.g. as &lsquo;<samp><span class="samp">ISR_SMIN=sqr(20/E_CMS)</span></samp>&rsquo;. 
</dl>

<p>Sherpa provides access to a variety of structure functions. 
They can be configured with the following parameters.

     <dl>
<dt><code>PDF_LIBRARY</code><dd>Takes a space separated list of PDF interfaces to load. If the two colliding beams
are of different type, e.g. protons and electrons or photons and electrons,
it is possible to specify two different PDF libraries using <a name="PDF_005fLIBRARY_005f1"></a><samp><span class="option">PDF_LIBRARY_1</span></samp> and <a name="PDF_005fLIBRARY_005f2"></a><samp><span class="option">PDF_LIBRARY_2</span></samp>. 
The following options are distributed with Sherpa:
          <dl>
<dt><code>LHAPDFSherpa</code><dd>Use PDF's from LHAPDF 
[<a href="#Whalley2005nh">Wha05</a>]. The interface is only
available if Sherpa has been compiled with support for LHAPDF, see
<a href="#Installation">Installation</a>. 
<br><dt><code>CT12Sherpa</code><dd>Built-in library for some PDF sets from the CTEQ collaboration, cf.

          <p>[<a href="#Gao2013xoa">Gao13</a>]. 
<br><dt><code>CT10Sherpa</code><dd>Built-in library for some PDF sets from the CTEQ collaboration, cf.

          <p>[<a href="#Lai2010vv">Lai10</a>]. This is the
default, if Sherpa has not been compiled with LHAPDF support. 
<br><dt><code>CTEQ6Sherpa</code><dd>Built-in library for some PDF sets from the CTEQ collaboration, cf.

          <p>[<a href="#Nadolsky2008zw">Nad08</a>]. 
<br><dt><code>MSTW08Sherpa</code><dd>Built-in library for PDF sets from the MSTW group, cf. 
[<a href="#Martin2009iq">Mar09a</a>]. 
<br><dt><code>MRST04QEDSherpa</code><dd>Built-in library for photon PDF sets from the MRST group, cf. 
[<a href="#Martin2004dh">Mar04</a>]. 
<br><dt><code>MRST01LOSherpa</code><dd>Built-in library for the 2001 leading-order PDF set from the MRST group, cf. 
[<a href="#Martin2001es">Mar01</a>]. 
<br><dt><code>MRST99Sherpa</code><dd>Built-in library for the 1999 PDF sets from the MRST group, cf. 
[<a href="#Martin1999ww">Mar99</a>]. 
<br><dt><code>GRVSherpa</code><dd>Built-in library for the GRV photon PDF 
[<a href="#Gluck1991jc">Glu91a</a>], 
[<a href="#Gluck1991ee">Glu91</a>]
<br><dt><code>PDFESherpa</code><dd>Built-in library for the electron structure function. 
The perturbative order of the fine structure constant can be set using the
parameter <a name="ISR_005fE_005fORDER"></a><code>ISR_E_ORDER</code> (default: 1). The
switch <a name="ISR_005fE_005fSCHEME"></a><code>ISR_E_SCHEME</code> allows
to set the scheme of respecting non-leading terms. Possible options are 0
("mixed choice"), 1 ("eta choice"), or 2 ("beta choice", default). 
<br><dt><code>None</code><dd>No PDF. Fixed beam energy. 
</dl>
     <br>
Furthermore it is simple to build an external interface to an arbitrary PDF
and load that dynamically in the Sherpa run. See <a href="#External-PDF">External PDF</a> for
instructions. 
<br><dt><code>PDF_SET</code><dd>Specifies the PDF set for hadronic bunch particles. All sets available in the
chosen <code>PDF_LIBRARY</code> can be figured by running Sherpa with the parameter
<code>SHOW_PDF_SETS=1</code>, e.g.:
<pre class="verbatim">       Sherpa PDF_LIBRARY=CTEQ6Sherpa SHOW_PDF_SETS=1
</pre>
If the two colliding beams are of different type, e.g. protons and electrons
or photons and electrons, it is possible to specify two different PDF sets using
<a name="PDF_005fSET_005f1"></a><samp><span class="option">PDF_SET_1</span></samp> and <a name="PDF_005fSET_005f2"></a><samp><span class="option">PDF_SET_2</span></samp>. 
<br><dt><code>PDF_SET_VERSION or PDF_SET_MEMBER</code><dd>This parameter allows to eventually select a specific version (member)
within the chosen PDF set. 
<!-- Specifying a negative value, e.g. -->
<!-- @verbatim -->
<!-- PDF_LIBRARY LHAPDFSherpa; -->
<!-- PDF_SET NNPDF12_100.LHgrid; PDF_SET_VERSION -100; -->
<!-- @end verbatim -->
<!-- results in Sherpa sampling all sets 1..100, which can be used to obtain -->
<!-- the averaging required when employing PDF's from the NNPDF -->
<!-- collaboration @mycite{Ball2008by}, @mycite{Ball2009mk}. -->
</dl>

<div class="node">
<a name="Models"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Matrix-Elements">Matrix Elements</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#ISR-Parameters">ISR Parameters</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Parameters">Parameters</a>

</div>

<h3 class="section">5.4 Models</h3>

<p><a name="index-MODEL-77"></a>
The main switch <code>MODEL</code> in the <code>(run){...}(run)</code> section of
the run card sets the model that Sherpa uses throughout the simulation
run. The default is <samp><span class="option">SM</span></samp>, the built-in Standard Model
implementation of Sherpa. For BSM simulations, Sherpa offers an option
to use the Universal FeynRules Output Format (UFO)

<p>[<a href="#Degrande2011ua">Deg11</a>].

<p>Please note: AMEGIC can only be used for the built-in models (SM and
HEFT). For anything else, please use Comix.

<ul class="menu">
<li><a accesskey="1" href="#Built_002din-Models">Built-in Models</a>:     SM and Higgs Effective Theory
<li><a accesskey="2" href="#UFO-Model-Interface">UFO Model Interface</a>: Generic Interface for BSM models in the UFO format
</ul>

<div class="node">
<a name="Built-in-Models"></a>
<a name="Built_002din-Models"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#UFO-Model-Interface">UFO Model Interface</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Models">Models</a>

</div>

<h4 class="subsection">5.4.1 Built-in Models</h4>

<ul class="menu">
<li><a accesskey="1" href="#SM">SM</a>:   Standard Model
<li><a accesskey="2" href="#HEFT">HEFT</a>: Higgs Effective Coupling
</ul>

<div class="node">
<a name="SM"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#HEFT">HEFT</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Built_002din-Models">Built-in Models</a>

</div>

<h5 class="subsubsection">5.4.1.1 Standard Model</h5>

<p><a name="index-g_t1_002fALPHAQED_00280_0029-78"></a><a name="index-SIN2THETAW-79"></a><a name="index-VEV-80"></a><a name="index-LAMBDA-81"></a><a name="index-EW_005fSCHEME-82"></a><a name="index-CKMORDER-83"></a><a name="index-CABIBBO-84"></a><a name="index-A-85"></a><a name="index-ETA-86"></a><a name="index-RHO-87"></a><a name="index-ALPHAS_0028MZ_0029-88"></a><a name="index-ALPHAQED_005fDEFAULT_005fSCALE-89"></a><a name="index-ORDER_005fALPHAS-90"></a><a name="index-USE_005fPDF_005fALPHAS-91"></a><a name="index-WIDTH_005fSCHEME-92"></a><a name="index-MASS_005b_003cid_003e_005d-93"></a><a name="index-MASSIVE_005b_003cid_003e_005d-94"></a><a name="index-WIDTH_005b_003cid_003e_005d-95"></a><a name="index-ACTIVE_005b_003cid_003e_005d-96"></a><a name="index-STABLE_005b_003cid_003e_005d-97"></a><a name="index-YUKAWA_005b_003cid_003e_005d-98"></a>
The SM inputs for the electroweak sector can be given in four different
schemes, that correspond to different choices of which SM physics
parameters are considered fixed and which are derived from the given
quantities. The input schemes are selected through the <code>EW_SCHEME</code>
parameter, whose default is <samp><span class="option">1</span></samp>. The following options are provided:
     <ul>
  <li>Case <code>0</code>:

     <p>all EW parameters are explicitly given. 
    Here the W, Z and Higgs masses are taken as inputs, and
    the parameters <code>1/ALPHAQED(0)</code>, <code>ALPHAQED_DEFAULT_SCALE</code>
    (cf. below), <code>SIN2THETAW</code> (weak mixing angle), <code>VEV</code> (Higgs field
    vacuum expectation value) and <code>LAMBDA</code> (Higgs quartic coupling) have
    to be specified.

     <p>Note that this mode allows to violate the tree-level relations between
    some of the parameters and might thus lead to gauge violations in some
    regions of phase space. 
  <li>Case <code>1</code>:

     <p>all EW parameters are calculated from the W, Z and Higgs masses and
    <code>1/ALPHAQED(0)</code> + <code>ALPHAQED_DEFAULT_SCALE</code> (cf. below) using
    tree-level relations. 
  <li>Case <code>3</code>:

     <p>this choice corresponds to the G_mu-scheme. The EW parameters are
    calculated out of the weak gauge boson masses M_W, M_Z, the Higgs
    boson mass M_H and the Fermi constant <code>GF</code> using tree-level relations. 
  </ul>

<p>The electro-weak coupling is by default not running, unless its running has been
enabled (cf. <a href="#COUPLINGS">COUPLINGS</a>). In EW schemes 0 and 1, the squared scale at which
the fixed EW coupling is to be evaluated can be specified by
<code>ALPHAQED_DEFAULT_SCALE</code>, which defaults to the Z mass squared (note that
this scale has to be specified in GeV squared).

<p>To account for quark mixing the CKM matrix elements have to be assigned. 
For this purpose the Wolfenstein parametrization 
[<a href="#Wolfenstein1983yz">Wol83</a>] is
employed. The order of expansion in the lambda parameter is defined
through <code>CKMORDER</code>, with default <samp><span class="option">0</span></samp> corresponding to a unit matrix. 
The parameter convention for higher expansion terms reads:

     <ul>
<li><code>CKMORDER = 1</code>, the <code>CABIBBO</code> parameter has to be set,
it parametrizes lambda and has the default value <samp><span class="option">0.2272</span></samp>. 
<li><code>CKMORDER = 2</code>, in addition the value of <code>A</code> has to
be set, its default is <samp><span class="option">0.818</span></samp>. 
<li><code>CKMORDER = 3</code>, the order lambda^3 expansion, <code>ETA</code>
and <code>RHO</code> have to be specified. Their default values are <samp><span class="option">0.349</span></samp>
and <samp><span class="option">0.227</span></samp>, respectively. 
</ul>

<p>The remaining parameter to fully specify the Standard Model
is the strong coupling constant at the Z-pole, given through
<code>ALPHAS(MZ)</code>. Its default value is <samp><span class="option">0.118</span></samp>. If the setup
at hand involves hadron collisions and thus PDFs, the value of the
strong coupling constant is automatically set consistent with the PDF fit
and can not be changed by the user. If Sherpa is compiled with LHAPDF
support, it is also possible to use the alphaS evolution provided
in LHAPDF by specifying <code>USE_PDF_ALPHAS=1</code>. The perturbative order
of the running of the strong coupling can be set via <code>ORDER_ALPHAS</code>,
where the default <samp><span class="option">0</span></samp> corresponds to one-loop running and
<code>1</code>,<code>2</code>,<code>3</code> to 2,3,4-loops, respectively. If the setup
at hand involves PDFs, this parameter is set consistent with the information
provided by the PDF set.

<p>If unstable particles (e.g. W/Z bosons) appear as intermediate propagators
in the process, Sherpa uses the complex mass scheme to construct MEs
in a gauge-invariant way. For full consistency with this scheme,
by default the dependent EW parameters are also calculated from the complex
masses (<samp><span class="option">WIDTHSCHEME=CMS</span></samp>), yielding complex values e.g. for
the weak mixing angle. 
To keep the parameters real one can set <samp><span class="option">WIDTHSCHEME=Fixed</span></samp>. This may
spoil gauge invariance though.

<p>With the following switches it is possible to change the properties of
all fundamental particles:

     <dl>
<dt><code>MASS[&lt;id&gt;]</code><dd>Sets the mass (in GeV) of the particle with PDG id <samp><span class="option">&lt;id&gt;</span></samp>. 
<br>
Masses of particles and corresponding anti-particles are always set
simultaneously. 
<br>
For particles with Yukawa couplings, those are enabled/disabled consistent with the
mass (taking into account the MASSIVE flag) by default, but that can be modified
using the <samp><span class="option">YUKAWA[&lt;id&gt;]</span></samp> parameter. Note that by default the Yukawa
couplings are treated as running, cf. <a href="#YUKAWA_005fMASSES">YUKAWA_MASSES</a>.

     <br><dt><code>MASSIVE[&lt;id&gt;]</code><dd>Specifies whether the finite mass of particle with PDG id <samp><span class="option">&lt;id&gt;</span></samp>
is to be considered in matrix-element calculations or not.

     <br><dt><code>WIDTH[&lt;id&gt;]</code><dd>Sets the width (in GeV) of the particle with PDG id <samp><span class="option">&lt;id&gt;</span></samp>.

     <br><dt><code>ACTIVE[&lt;id&gt;]</code><dd>Enables/disables the particle with PDG id <samp><span class="option">&lt;id&gt;</span></samp>.

     <br><dt><code>STABLE[&lt;id&gt;]</code><dd>Sets the particle with PDG id <samp><span class="option">&lt;id&gt;</span></samp> either stable or unstable according
to the following options:
          <dl>
<dt><samp><span class="option">0</span></samp><dd>Particle and anti-particle are unstable
<br><dt><samp><span class="option">1</span></samp><dd>Particle and anti-particle are stable
<br><dt><samp><span class="option">2</span></samp><dd>Particle is stable, anti-particle is unstable
<br><dt><samp><span class="option">3</span></samp><dd>Particle is unstable, anti-particle is stable
</dl>
     This option applies to decays of hadrons (cf. <a href="#Hadron-decays">Hadron decays</a>) as well
as particles produced in the hard scattering (cf. <a href="#Hard-decays">Hard decays</a>). 
For the latter, alternatively the decays can be specified explicitly in the
process setup (see <a href="#Processes">Processes</a>) to avoid the narrow-width approximation.

     <br><dt><code>PRIORITY[&lt;id&gt;]</code><dd>Allows to overwrite the default automatic flavour sorting in a process by specifying a priority for the given flavour. This way one can identify certain particles which are part of a container (e.g. massless b-quarks), such that their position can be used reliably in selectors and scale setters.

</dl>

<p>Note: To set properties of hadrons, you can use the same switches (except for
<code>MASSIVE</code>) in the fragmentation section, see <a href="#Hadronization">Hadronization</a>.

<div class="node">
<a name="HEFT"></a>
<p><hr>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#SM">SM</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Built_002din-Models">Built-in Models</a>

</div>

<h5 class="subsubsection">5.4.1.2 Effective Higgs Couplings</h5>

<p><a name="index-FINITE_005fTOP_005fMASS-99"></a><a name="index-FINITE_005fW_005fMASS-100"></a><a name="index-DEACTIVATE_005fPPH-101"></a><a name="index-DEACTIVATE_005fGGH-102"></a>
The HEFT describes the effective coupling of gluons and photons to Higgs bosons
via a top-quark loop, and a W-boson loop in case of photons. This supplement
to the Standard Model can be invoked by specifying <code>MODEL = HEFT</code> in
the <code>(model)</code> section of the run card.

<p>The effective coupling of gluons to the Higgs boson, g_ggH, can be
calculated either for a finite top-quark mass or in the limit of an
infinitely heavy top using the switch <code>FINITE_TOP_MASS=1</code> or
<code>FINITE_TOP_MASS=0</code>, respectively. Similarily, the
photon-photon-Higgs coupling, g_ppH, can be calculated both for finite
top and/or W masses or in the infinite mass limit using the switches
<code>FINITE_TOP_MASS</code> and <code>FINITE_W_MASS</code>. The default choice for
both is the infinite mass limit in either case. Note that these switches
affect only the calculation of the value of the effective coupling
constants.

<p>Either one of these couplings can be switched off using the
<code>DEACTIVATE_GGH=1</code> and <code>DEACTIVATE_PPH=1</code> switches. 
Both default to 0.

<div class="node">
<a name="UFO-Model-Interface"></a>
<p><hr>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Built_002din-Models">Built-in Models</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Models">Models</a>

</div>

<h4 class="subsection">5.4.2 UFO Model Interface</h4>

<p><a name="index-UFO_005fPARAM_005fCARD-103"></a>

<p>To use a model generated by the FeynRules package

<p>[<a href="#Christensen2008py">Chr08</a>],
[<a href="#Christensen2009jx">Chr09</a>], the model must be
made available to Sherpa by running
<pre class="verbatim">  &lt;prefix>/bin/Sherpa-generate-model &lt;path-to-ufo-model>
</pre>
where &lt;path-to-ufo-model&gt; specifies the location of the directory where
the UFO model can be found. This requires Python version 2.6 or later
and an installation of SCons. Furthermore, Sherpa must be compiled with
Python suppert using <samp><span class="option">--enable-pyext</span></samp>, as described in
See <a href="#Installation">Installation</a>.

<p>The above command generates source code for the UFO model, compiles it,
and installs the corresponding library, making it available for event
generation. Python, SCons, and the UFO model directory are not required
for event generation once the above command has finished.

<p>An example run card will be written to the working directory while the
model is generated with <code>Sherpa-generate-model</code>. This run card
shows the syntax for the respective model parameters and can be used as
a template. It is also possible to use an external parameter card by
specifying the path to the card with the switch <samp><span class="option">UFO_PARAM_CARD</span></samp>
in the <code>(run){...}(run)</code> section of the run card. Relative and
absolute file paths are allowed. This option allows it to use the native
UFO parameter cards, as used by MadGraph for example.

<p>Note that the use of the SM switches <samp><span class="option">MASS[&lt;id&gt;]</span></samp>,
<samp><span class="option">MASSIVE[&lt;id&gt;]</span></samp>, <samp><span class="option">WIDTH[&lt;id&gt;]</span></samp>, and <samp><span class="option">STABLE[&lt;id&gt;]</span></samp>
is discouraged when using UFO models as the UFO model completely defines
all particle properties and their relation to the independent model
parameters. These model parameters should be set using the standard UFO
parameter syntax as shown in the example run card generated by the
<code>Sherpa-generate-model</code> command.

<p>For parts of the simulation other than the hard process (hadronization,
underlying event, running of the SM couplings) Sherpa uses internal
default values for the Standard Model fermion masses if they are
massless in the UFO model. This is necessary for a meaningful
simulation. In the hard process however, the UFO model masses are always
respected.

<p>Please note that AMEGIC can only be used for the built-in models (SM and
HEFT). The use of UFO models is only supported by Comix.

<!-- @node MSSM -->
<!-- @subsection Minimal Supersymmetric Standard Model -->
<!-- The MSSM is implemented via UFO, cf. -->
<!-- @uref{https://feynrules.irmp.ucl.ac.be/wiki/MSSM}. -->
<!-- In order to use this model, Sherpa must be installed with python support, -->
<!-- using @option{-enable-pyext}, as described in @xref{Installation}. -->
<!-- Once installed, the model is made available to Sherpa by running -->
<!-- @verbatim -->
<!-- Sherpa-generate-model MODEL/MSSM -->
<!-- @end verbatim -->
<div class="node">
<a name="Matrix-Elements"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Processes">Processes</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Models">Models</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Parameters">Parameters</a>

</div>

<h3 class="section">5.5 Matrix elements</h3>

<p>The setup of matrix elements is covered by the `(me)' section of
the steering file or the ME data file `ME.dat', respectively. 
There are no mandatory settings to be made.

<p>The following parameters are used to steer the matrix element setup.

<ul class="menu">
<li><a accesskey="1" href="#ME_005fSIGNAL_005fGENERATOR">ME_SIGNAL_GENERATOR</a>:      The matrix element generator(s). 
<li><a accesskey="2" href="#RESULT_005fDIRECTORY">RESULT_DIRECTORY</a>:         The directory to store integration results. 
<li><a accesskey="3" href="#EVENT_005fGENERATION_005fMODE">EVENT_GENERATION_MODE</a>:    The event generation mode. 
<li><a accesskey="4" href="#SCALES">SCALES</a>:                   How to compute scales. 
<li><a accesskey="5" href="#COUPLING_005fSCHEME">COUPLING_SCHEME</a>:          Running of SM gauge couplings. 
<li><a accesskey="6" href="#COUPLINGS">COUPLINGS</a>:                How to evaluate couplings. 
<li><a accesskey="7" href="#KFACTOR">KFACTOR</a>:                  Whether and how to apply a K-factor. 
<li><a accesskey="8" href="#YUKAWA_005fMASSES">YUKAWA_MASSES</a>:            Running of Yukawa couplings. 
<li><a accesskey="9" href="#Dipole-subtraction">Dipole subtraction</a>:       Parameters for calculations with dipole subtraction. 
</ul>

<div class="node">
<a name="ME_SIGNAL_GENERATOR"></a>
<a name="ME_005fSIGNAL_005fGENERATOR"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#RESULT_005fDIRECTORY">RESULT_DIRECTORY</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Matrix-Elements">Matrix Elements</a>

</div>

<h4 class="subsection">5.5.1 ME_SIGNAL_GENERATOR</h4>

<p><a name="index-ME_005fSIGNAL_005fGENERATOR-104"></a>The list of matrix element generators to be employed during the run. 
When setting up hard processes from the <samp><span class="option">(processes)</span></samp> section of the
input file (see <a href="#Processes">Processes</a>), Sherpa calls these generators in order
to check whether either one is capable of generating the corresponding
matrix element. This parameter can also be set on the command line using
option <samp><span class="option">-m</span></samp>, see <a href="#Command-line">Command line</a>.

<p>The built-in generators are

     <dl>
<dt><samp><span class="option">Internal</span></samp><dd>Simple matrix element library, implementing a variety of 2-&gt;2 processes. 
<br><dt><samp><span class="option">Amegic</span></samp><dd>The AMEGIC++ generator published under 
[<a href="#Krauss2001iv">Kra01</a>]
<br><dt><samp><span class="option">Comix</span></samp><dd>The <a href="http://comix.freacafe.de">Comix</a> generator published under

     <p>[<a href="#Gleisberg2008fv">Gle08</a>]
</dl>

<p>It is possible to employ an external matrix element generator within Sherpa. 
For advice on this topic please contact the authors, <a href="#Authors">Authors</a>.

<div class="node">
<a name="RESULT_DIRECTORY"></a>
<a name="RESULT_005fDIRECTORY"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#EVENT_005fGENERATION_005fMODE">EVENT_GENERATION_MODE</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#ME_005fSIGNAL_005fGENERATOR">ME_SIGNAL_GENERATOR</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Matrix-Elements">Matrix Elements</a>

</div>

<h4 class="subsection">5.5.2 RESULT_DIRECTORY</h4>

<p><a name="index-RESULT_005fDIRECTORY-105"></a>This parameter specifies the name of the directory
which is used by Sherpa to store integration results
and phasespace mappings. The default is &lsquo;<samp><span class="samp">Results/</span></samp>&rsquo;. 
It can also be set using the command line parameter <samp><span class="option">-r</span></samp>,
see <a href="#Command-line">Command line</a>. The directory will be created automatically,
unless the option <samp><span class="option">GENERATE_RESULT_DIRECTORY=0</span></samp> is specified. 
Its location is relative to a potentially specified input path,
see <a href="#Command-line">Command line</a>.

<div class="node">
<a name="EVENT_GENERATION_MODE"></a>
<a name="EVENT_005fGENERATION_005fMODE"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#SCALES">SCALES</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#RESULT_005fDIRECTORY">RESULT_DIRECTORY</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Matrix-Elements">Matrix Elements</a>

</div>

<h4 class="subsection">5.5.3 EVENT_GENERATION_MODE</h4>

<p><a name="index-EVENT_005fGENERATION_005fMODE-106"></a>This parameter specifies the event generation mode. 
It can also be set on the command line
using option <samp><span class="option">-w</span></samp>, see <a href="#Command-line">Command line</a>. 
The three possible options are <samp><span class="option">Weighted</span></samp> (shortcut
<samp><span class="option">W</span></samp>), <samp><span class="option">Unweighted</span></samp> (shortcut <samp><span class="option">U</span></samp>) and
<samp><span class="option">PartiallyUnweighted</span></samp> (shortcut <samp><span class="option">P</span></samp>). For partially
unweighted events, the weight is allowed to exceed a given maximum,
which is lower than the true maximum weight. In such cases the
event weight will exceed the otherwise constant value.

<div class="node">
<a name="SCALES"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#COUPLING_005fSCHEME">COUPLING_SCHEME</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#EVENT_005fGENERATION_005fMODE">EVENT_GENERATION_MODE</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Matrix-Elements">Matrix Elements</a>

</div>

<h4 class="subsection">5.5.4 SCALES</h4>

<p><a name="index-SCALES-107"></a>This parameter specifies how to compute the renormalization and
factorization scale and potential additional scales.

<ul class="menu">
<li><a accesskey="1" href="#Scale-setters">Scale setters</a>
<li><a accesskey="2" href="#Custom-scale-implementation">Custom scale implementation</a>
<li><a accesskey="3" href="#Predefined-scale-tags">Predefined scale tags</a>
<li><a accesskey="4" href="#Scale-schemes-for-NLO-calculations">Scale schemes for NLO calculations</a>
<li><a accesskey="5" href="#Explicit-scale-variations">Explicit scale variations</a>
<li><a accesskey="6" href="#METS-scale-setting-with-multiparton-core-processes">METS scale setting with multiparton core processes</a>
</ul>

<p>Sherpa provides several built-in scale setting schemes. For each scheme
the scales are then set using expressions understood by the <a href="#Interpreter">Interpreter</a>. 
Each scale setter's syntax is
<pre class="verbatim">SCALES &lt;scale-setter>{&lt;scale-definition>}
</pre>
to define a single scale for both the factorisation and renormalisation scale. 
They can be set to different values using
<pre class="verbatim">SCALES &lt;scale-setter>{&lt;fac-scale-definition>}{&lt;ren-scale-definition>}
</pre>

<p>In parton shower matched/merged calculations a third perturbative scale
is present, the resummation or parton shower starting scale. It can be
set by the user in the third argument like
<pre class="verbatim">SCALES &lt;scale-setter>{&lt;fac-scale-definition>}{&lt;ren-scale-definition>}{&lt;res-scale-definition>}
</pre>
If the final state of your hard scattering process contains QCD partons,
their kinematics fix the resummation scale for subsequent emissions
(cf. the description of the <samp><span class="option">METS</span></samp> scale setter below).  If
instead you want to specify your own resummation scale also in such a
case, you have to set <code>CSS_RESPECT_Q2=1</code> and use the third argument
to specify your resummation scale as above.

<p><b>Note: for all scales their squares have to be given.</b> See
<a href="#Predefined-scale-tags">Predefined scale tags</a> for some predefined scale tags.

<p>More than three scales can be set as well to be subsequently used, e.g. 
by different couplings, see <a href="#COUPLINGS">COUPLINGS</a>.

<div class="node">
<a name="Scale-setters"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Custom-scale-implementation">Custom scale implementation</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#SCALES">SCALES</a>

</div>

<h5 class="subsubsection">5.5.4.1 Scale setters</h5>

<p>The scale setter options which are currently available are
     <dl>
<dt><samp><span class="option">VAR</span></samp><dd>
The variable scale setter is the simplest scale setter available. Scales
are simply specified by additional parameters in a form which is understood
by the internal interpreter, see <a href="#Interpreter">Interpreter</a>. If, for example the invariant
mass of the lepton pair in Drell-Yan production is the desired scale,
the corresponding setup reads
<pre class="verbatim">     SCALES VAR{Abs2(p[2]+p[3])}
</pre>
Renormalization and factorization scales can be chosen differently. 
For example in Drell-Yan + jet production one could set
<pre class="verbatim">     SCALES VAR{Abs2(p[2]+p[3])}{MPerp2(p[2]+p[3])}
</pre>

     <br><dt><samp><span class="option">FASTJET</span></samp><dd>If <a href="http://www.fastjet.fr">FastJet</a> is enabled by including
<code>--enable-fastjet=/path/to/fastjet</code> in the <code>configure</code> options,
this scale setter can be used to set a scale based on jet-, rather than
parton-momenta.

     <p>The final state parton configuration is first clustered using FastJet and
resulting jet momenta are then added back to the list of non strongly
interacting particles. The numbering of momenta therefore stays effectively
the same as in standard Sherpa, except that final state partons are replaced
with jets, if applicable (a parton might not pass the jet criteria and get
"lost"). In particular, the indices of the initial state partons and all EW
particles are uneffected. Jet momenta can then be accessed as described in
<a href="#Predefined-scale-tags">Predefined scale tags</a> through the identifiers <code>p[i]</code>,
and the nodal values of the clustering sequence can be used through <code>MU_n2</code>. 
The syntax is

     <pre class="verbatim">     SCALES FASTJET[&lt;jet-algo-parameter>]{&lt;scale-definition>}
</pre>

     <p>Therein the parameters of the jet algorithm to be used to define the jets
are given as a comma separated list of

          <ul>
<li>the jet algorithm <code>A:kt,antikt,cambridge,siscone</code>
      (default <code>antikt</code>)
<li>phase space restrictions, i.e. <code>PT:&lt;min-pt&gt;</code>, <code>ET:&lt;min-et&gt;</code>,
      <code>Eta:&lt;max-eta&gt;</code>, <code>Y:&lt;max-rap&gt;</code> (otherwise unrestricted)
<li>radial parameter <code>R:&lt;rad-param&gt;</code> (default <code>0.4</code>)
<li>f-parameter for Siscone <code>f:&lt;f-param&gt;</code> (default <code>0.75</code>)
<li>recombination scheme <code>C:E,pt,pt2,Et,Et2,BIpt,BIpt2</code>
      (default <code>E</code>)
<li>b-tagging mode <code>B:0,1,2</code> (default <code>0</code>)
      This parameter, if specified different from its default 0, allows
      to use b-tagged jets only, based on the parton-level constituents of the jets. 
      There are two options: With <code>B:1</code> both b and anti-b quarks are
      counted equally towards b-jets, while for <code>B:2</code> they are added with a
      relative sign as constituents, i.e. a jet containing b and anti-b is not tagged. 
<li>scale setting mode <code>M:0,1</code> (default <code>1</code>)
      It is possible to specify multiple scale definition blocks, each enclosed
      in curly brackets. The scale setting mode parameter then determines, how
      those are interpreted:
      In the <code>M:0</code> case, they specify factorisation, renormalisation and
      resummation scale separately in that order. 
      In the <code>M:1</code> case, the <code>n</code> given scales are used to calculate a
      mean scale such that <code>alpha_s^n(mu_mean)=alpha_s(mu_1)...alpha_s(mu_n)</code>
      This scale is then used for factorisation, renormalisation and resummation
      scale. 
</ul>

     <p>Consider the example of lepton pair production in association with jets. The
following scale setter

     <pre class="verbatim">     SCALES FASTJET[A:kt,PT:10,R:0.4,M:0]{sqrt(PPerp2(p[4])*PPerp2(p[5]))}
</pre>

     <p>reconstructs jets using the kt-algorithm with R=0.4 and a minimum transverse
momentum of 10 GeV. The scale of all strong couplings is then set to the
geometric mean of the hardest and second hardest jet. Note <code>M:0</code>.

     <p>Similarly, in processes with multiple strong couplings, their renormalisation
scales can be set to different values, e.g.

     <pre class="verbatim">     SCALES FASTJET[A:kt,PT:10,R:0.4,M:1]{PPerp2(p[4])}{PPerp2(p[5])}
</pre>

     <p>sets the scale of one strong coupling to the transverse momentum of the
hardest jet, and the scale of the second strong coupling to the transverse
momentum of second hardest jet. Note <code>M:1</code> in this case.

     <p>The additional tags <var>MU_22</var> .. <var>MU_n2</var>  (n=2..njet+1), hold the nodal
values of the jet clustering in descending order.

     <p>Please note that currently this type of scale setting can only be done within
the process block (<a href="#Processes">Processes</a>) and not within the (me) section.

     <!-- @item QCD -->
     <!-- The matrix element is clustered onto a core 2->2 configuration using a -->
     <!-- k_T-type algorithm with recombination into on-shell partons. -->
     <!-- Scales are defined as the minimum of the largest transverse momentum -->
     <!-- during clustering and the lowest invariant mass in the core process. -->
     <br><dt><samp><span class="option">METS</span></samp><dd>The matrix element is clustered onto a core 2-&gt;2 configuration using an
inversion of current parton shower, cf. <a href="#SHOWER_005fGENERATOR">SHOWER_GENERATOR</a>, recombining
(n+1) particles into n on-shell particles. Their corresponding flavours are
determined using run-time information from the matrix element generator. 
It defines the three tags <code>MU_F2</code>, <code>MU_R2</code> and <code>MU_Q2</code>
whose values are assigned through this clustering procedure. While
<code>MU_F2</code> and <code>MU_Q2</code> are defined as the lowest invariant mass or
negative virtuality in the core process (for core interactions
which are pure QCD processes scales are set to the maximum transverse
mass squared of the outgoing particles), <code>MU_R2</code> is determined using
this core scale and the individual clustering scales such that
<pre class="verbatim">       alpha_s(MU_R2)^{n+k} = alpha_s(core-scale)^k alpha_s(kt_1) ... alpha_s(kt_n)
</pre>
where k is the order in strong coupling of the core process and k is
the number of clusterings, kt_i are the relative transverse momenta
at each clustering. 
The tags <code>MU_F2</code>, <code>MU_R2</code> and <code>MU_Q2</code> can then be used
on equal footing with the tags of <a href="#Predefined-scale-tags">Predefined scale tags</a> to define
the final scale.

     <p><code>METS</code> is the default scale scheme in Sherpa, since it is employed
for truncated shower merging, see <a href="#Multijet-merged-event-generation-with-Sherpa">Multijet merged event generation with Sherpa</a>, both at
leading and next-to-leading order. Thus, Sherpa's default is
<pre class="verbatim">     SCALES METS{MU_F2}{MU_R2}{MU_Q2}
</pre>
As the tags <code>MU_F2</code>, <code>MU_R2</code> and <code>MU_Q2</code> are predefined by
the <code>METS</code> scale setter, they may be omitted, i.e. 
<pre class="verbatim">     SCALES METS
</pre>
leads to an identical scale definition.

     <p>The <code>METS</code> scale setter comes in two variants: <code>STRICT_METS</code> and
<code>LOOSE_METS</code>. While the former employs the exact inverse of the
parton shower for the clustering procedure, and therefore is rather time
consuming for multiparton final state, the latter is a simplified version
and much faster. Giving <code>METS</code> as the scale setter results in using
<code>LOOSE_METS</code> for the integration and <code>STRICT_METS</code> during event
generation. Giving either <code>STRICT_METS</code> or <code>LOOSE_METS</code> as the
scale setter results in using the respective one during both integration
and event generation.

     <p>Clusterings onto 2-&gt;n (n&gt;2) configurations is possible, see
<a href="#METS-scale-setting-with-multiparton-core-processes">METS scale setting with multiparton core processes</a>.

     <p>This scheme might be subject to
changes to enable further classes of processes for merging in the
future and should therefore be seen with care. Integration results
might change slightly between different Sherpa versions.

     <p>Occasionally, users might encounter the warning message
<pre class="verbatim">     METS_Scale_Setter::CalculateScale(): No CSS history for '&lt;process name>' in &lt;percentage>% of calls. Set \hat{s}.
</pre>
As long as the percentage quoted here is not too high, this does not pose
a serious problem. The warning occurs when - based on the current colour
configuration and matrix element information - no suitable clustering is
found by the algorithm. In such cases the scale is set to the invariant mass
of the partonic process.

</dl>

<div class="node">
<a name="Custom-scale-implementation"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Predefined-scale-tags">Predefined scale tags</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Scale-setters">Scale setters</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#SCALES">SCALES</a>

</div>

<h5 class="subsubsection">5.5.4.2 Custom scale implementation</h5>

<p>When the flexibility of the <samp><span class="option">VAR</span></samp> scale setter above is not sufficient,
it is also possible to implement a completely custom scale scheme within Sherpa
as C++ class plugin. For details please refer to the <a href="#Customization">Customization</a>
section.

<div class="node">
<a name="Predefined-scale-tags"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Scale-schemes-for-NLO-calculations">Scale schemes for NLO calculations</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Custom-scale-implementation">Custom scale implementation</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#SCALES">SCALES</a>

</div>

<h5 class="subsubsection">5.5.4.3 Predefined scale tags</h5>

<p>There exist a few predefined tags to facilitate commonly used scale
choices or easily implement a user defined scale.
     <dl>
<dt><samp><span class="option">p[n]</span></samp><dd>Access to the four momentum of the nth particle. The initial state particles
carry n=0 and n=1, the final state momenta start from n=2. Their ordering
is determined by Sherpa's internal particle ordering and can be read e.g. 
from the process names displayed at run time. Please note, that when building
jets out of the final state partons first, e.g. through the <code>FASTJET</code>
scale setter, these parton momenta will be replaced by the jet momenta
ordered in transverse momenta. For example the process u ub -&gt; e- e+ G G
will have the electron and the positron at positions <code>p[2]</code> and
<code>p[3]</code> and the gluons on postions <code>p[4]</code> and <code>p[5]</code>. However,
when finding jets first, the electrons will still be at <code>p[2]</code> and
<code>p[3]</code> while the harder jet will be at <code>p[4]</code> and the softer one
at <code>p[6]</code>.

     <br><dt><samp><span class="option">H_T2</span></samp><dd>Square of the scalar sum of the transverse momenta of all final state particles.

     <br><dt><samp><span class="option">H_TY2(&lt;factor&gt;,&lt;exponent&gt;)</span></samp><dd>Square of the scalar sum of the transverse momenta of all final state particles
weighted by their rapidity distance from the final state boost vector. Thus,
takes the form
<pre class="verbatim">       H_T^{(Y)} = sum_i pT_i exp [ fac |y-yboost|^exp ]
</pre>
Typical values to use would by <code>0.3</code> and <code>1</code>.

     <!-- @item TAU_B2 -->
     <!-- Square of the beam thrust. -->
     <br><dt><samp><span class="option">MU_F2, MU_R2, MU_Q2</span></samp><dd>Tags holding the values of the factorisation, renormalisation scale and
resummation scale determined through backwards clustering in the
<code>METS</code> scale setter.

     <br><dt><samp><span class="option">MU_22, MU_32, ..., MU_n2</span></samp><dd>Tags holding the nodal values of the jet clustering in the <code>FASTJET</code>
scale setter, cf. <a href="#Scale-setters">Scale setters</a>. 
</dl>

<p>All of those objects can be operated upon by any operator/function known
to the <a href="#Interpreter">Interpreter</a>.

<div class="node">
<a name="Scale-schemes-for-NLO-calculations"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Explicit-scale-variations">Explicit scale variations</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Predefined-scale-tags">Predefined scale tags</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#SCALES">SCALES</a>

</div>

<h5 class="subsubsection">5.5.4.4 Scale schemes for NLO calculations</h5>

<p>For next-to-leading order calculations it must be guaranteed that the scale is
calculated separately for the real correction and the subtraction terms,
such that within the subtraction procedure the same amount is subtracted
and added back. Starting from version 1.2.2 this is the case for all
scale setters in Sherpa. Also, the definition of the scale must be
infrared safe w.r.t. to the radiation of an extra parton. Infrared safe
(for QCD-NLO calculations) are:

     <ul>
<li>any function of momenta of NOT strongly interacting particles
<li>sum of transverse quantities of all partons (e.g. <code>H_T2</code>)
<li>any quantity refering to jets, constructed by an IR safe
jet algorithm, see below. 
</ul>

<p>Not infrared safe are

     <ul>
<li>any function of momenta of specific partons
<li>for processes with hadrons in the initial state:
any quantity that depends on parton momenta along the beam axis,
including the initial state partons itself
</ul>

<p>Since the total number of partons is different for different pieces
of the NLO calculation any explicit reference to a parton momentum
will lead to an inconsistent result.

<div class="node">
<a name="Explicit-scale-variations"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#METS-scale-setting-with-multiparton-core-processes">METS scale setting with multiparton core processes</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Scale-schemes-for-NLO-calculations">Scale schemes for NLO calculations</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#SCALES">SCALES</a>

</div>

<h5 class="subsubsection">5.5.4.5 Explicit scale variations</h5>

<p>The factorisation and renormalisation scales in the fixed-order matrix
elements can be varied separately simply by introducing a prefactor into
the scale definition, e.g.
<pre class="verbatim">SCALES VAR{0.25*H_T2}{0.25*H_T2}
</pre>
for setting both the renormalisation and factorisation scales to H_T/2.

<p>Similarly, the starting scale of the parton shower resummation in a
ME+PS merged sample can be varied using the METS scale setter's third
argument like:
<pre class="verbatim">SCALES METS{MU_F2}{MU_R2}{4.0*MU_Q2}
</pre>

<div class="node">
<a name="METS-scale-setting-with-multiparton-core-processes"></a>
<p><hr>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Explicit-scale-variations">Explicit scale variations</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#SCALES">SCALES</a>

</div>

<h5 class="subsubsection">5.5.4.6 METS scale setting with multiparton core processes</h5>

<p><a name="index-CORE_005fSCALE-108"></a>
The METS scale setter stops clustering when no combination
is found that corresponds to a parton shower branching, or if
two subsequent branchings are unordered in terms of the parton shower
evolution parameter. The core scale of the remaining 2-&gt;n process then
needs to be defined. This is done by specifying a core scale through
<pre class="verbatim">CORE_SCALE &lt;core-scale-setter>{&lt;core-fac-scale-definition>}{&lt;core-ren-scale-definition>}{&lt;core-res-scale-definition>}
</pre>
As always, for scale setters which define <code>MU_F2</code>, <code>MU_R2</code>
and <code>MU_Q2</code> the scale definition can be dropped. Possible core
scale setters are
     <dl>
<dt><samp><span class="option">VAR</span></samp><dd>Variable core scale setter. Syntax is identical to variable scale setter. 
<br><dt><samp><span class="option">QCD</span></samp><dd>QCD core scale setter. Scales are set to harmonic mean of s, t and u. Only
useful for 2-&gt;2 cores as alternatives to the usual core scale of the METS
scale setter. 
<br><dt><samp><span class="option">TTBar</span></samp><dd>Core scale setter for processes involving top quarks. Implementation details
are described in Appendix C of 
[<a href="#Hoeche2013mua">Hoe13</a>]. 
</dl>

<div class="node">
<a name="COUPLING_SCHEME"></a>
<a name="COUPLING_005fSCHEME"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#COUPLINGS">COUPLINGS</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#SCALES">SCALES</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Matrix-Elements">Matrix Elements</a>

</div>

<h4 class="subsection">5.5.5 COUPLING_SCHEME</h4>

<p><a name="index-COUPLING_005fSCHEME-109"></a>
The parameter <code>COUPLING_SCHEME</code> is used to enable the running of the gauge couplings. The
default setting is <code>COUPLING_SCHEME=Running_alpha_S</code>, assuming only the strong coupling
as running. The QED coupling is considered running as well by setting
<code>COUPLING_SCHEME=Running</code>. To solely have a running QED coupling set
<code>COUPLING_SCHEME=Running_alpha_QED</code>. If not considered running the values specified by
<code>ALPHAS(default)</code> and <code>1/ALPHAQED(default)</code> are used, respectively.

<div class="node">
<a name="COUPLINGS"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#KFACTOR">KFACTOR</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#COUPLING_005fSCHEME">COUPLING_SCHEME</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Matrix-Elements">Matrix Elements</a>

</div>

<h4 class="subsection">5.5.6 COUPLINGS</h4>

<p><a name="index-COUPLINGS-110"></a>Within Sherpa, strong and electroweak couplings can be computed at any scale
specified by a scale setter (cf. <a href="#SCALES">SCALES</a>). The <samp><span class="option">COUPLINGS</span></samp> tag
links the argument of a running coupling to one of the respective scales. 
This is better seen in an example. Assuming the following input
<pre class="verbatim">SCALES    VAR{...}{PPerp2(p[2])}{Abs2(p[2]+p[3])}
COUPLINGS Alpha_QCD 1, Alpha_QED 2
</pre>
Sherpa will compute any strong couplings at scale one, i.e. &lsquo;<samp><span class="samp">PPerp2(p[2])</span></samp>&rsquo;
and electroweak couplings at scale two, i.e. &lsquo;<samp><span class="samp">Abs2(p[2]+p[3])</span></samp>&rsquo;. 
Note that counting starts at zero.

<div class="node">
<a name="KFACTOR"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#YUKAWA_005fMASSES">YUKAWA_MASSES</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#COUPLINGS">COUPLINGS</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Matrix-Elements">Matrix Elements</a>

</div>

<h4 class="subsection">5.5.7 KFACTOR</h4>

<p><a name="index-KFACTOR-111"></a>This parameter specifies how to evaluate potential K-factors in the hard
process. This is equivalent to the <samp><span class="option">COUPLINGS</span></samp> specification of Sherpa
versions prior to 1.2.2. Currently available options are

     <dl>
<dt><samp><span class="option">NO</span></samp><dd>No reweighting
<br><dt><samp><span class="option">VAR</span></samp><dd>Couplings specified by an additional parameter in a form which is understood
by the internal interpreter, see <a href="#Interpreter">Interpreter</a>. The tags <kbd>Alpha_QCD</kbd>
and <kbd>Alpha_QED</kbd> serve as links to the built-in running coupling implementation.

     <p>If for example the process &lsquo;<samp><span class="samp">g g -&gt; h g</span></samp>&rsquo; in effective theory is computed,
one could think of evaluating two powers of the strong coupling at the Higgs mass scale
and one power at the transverse momentum squared of the gluon. 
Assuming the Higgs mass to be 120 GeV, the corresponding reweighting would read
<pre class="verbatim">     SCALES    VAR{...}{PPerp2(p[3])}
     COUPLINGS Alpha_QCD 1
     KFACTOR   VAR{sqr(Alpha_QCD(sqr(120))/Alpha_QCD(MU_12))}
</pre>
As can be seen from this example, scales are referred to as <kbd>MU_&lt;i&gt;2</kbd>,
where <kbd>&lt;i&gt;</kbd> is replaced with the appropriate number. 
Note that counting starts at zero. 
</dl>

<p>It is possible to implement a dedicated K-factor scheme within Sherpa. 
For advice on this topic please contact the authors, <a href="#Authors">Authors</a>.

<div class="node">
<a name="YUKAWA_MASSES"></a>
<a name="YUKAWA_005fMASSES"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Dipole-subtraction">Dipole subtraction</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#KFACTOR">KFACTOR</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Matrix-Elements">Matrix Elements</a>

</div>

<h4 class="subsection">5.5.8 YUKAWA_MASSES</h4>

<p><a name="index-YUKAWA_005fMASSES-112"></a>
This parameter specifies whether the Yukawa couplings are evaluated using
running or fixed quark masses: <code>YUKAWA_MASSES=Running</code> is the default since
version 1.2.2 while <code>YUKAWA_MASSES=Fixed</code> was the default until 1.2.1.

<div class="node">
<a name="Dipole-subtraction"></a>
<p><hr>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#YUKAWA_005fMASSES">YUKAWA_MASSES</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Matrix-Elements">Matrix Elements</a>

</div>

<h4 class="subsection">5.5.9 Dipole subtraction</h4>

<p><a name="index-DIPOLE_005fALPHA-113"></a><a name="index-DIPOLE_005fKAPPA-114"></a><a name="index-DIPOLE_005fNF_005fGSPLIT-115"></a><a name="index-DIPOLE_005fAMIN-116"></a>This list of parameters can be used to optimize the performance
when employing the Catani-Seymour dipole subtraction

<p>[<a href="#Catani1996vz">Cat96b</a>] as implemented in Amegic 
[<a href="#Gleisberg2007md">Gle07</a>].

     <dl>
<dt><samp><span class="option">`DIPOLE_ALPHA'</span></samp><dd>Specifies a dipole cutoff in the nonsingular region 
[<a href="#Nagy2003tz">Nag03</a>]. 
Changing this parameter shifts contributions from the subtracted real
correction piece (RS) to the piece including integrated dipole terms (I),
while their sum remains constant. This parameter can be used to optimize
the integration performance of the individual pieces. 
Also the average calculation time for the subtracted real correction
is reduced with smaller choices of `DIPOLE_ALPHA' due to the (on average)
reduced number of contributing dipole terms. For most processes
a reasonable choice is between 0.01 and 1 (default). See also
<a href="#Choosing-DIPOLE_005fALPHA">Choosing DIPOLE_ALPHA</a>
<br><dt><samp><span class="option">`DIPOLE_AMIN'</span></samp><dd>Specifies the cutoff of real correction terms in the infrared reagion
to avoid numerical problems with the subtraction. The default is 1.e-8. 
<br><dt><samp><span class="option">`DIPOLE_NF_GSPLIT'</span></samp><dd>Specifies the number of quark flavours that are produced from
gluon splittings. This number must be at least the number of massless
flavours (default). If this number is larger than the number of massless
quarks the massive dipole subtraction 
[<a href="#Catani2002hc">Cat02</a>] is employed. 
<br><dt><samp><span class="option">`DIPOLE_KAPPA'</span></samp><dd>Specifies the kappa-parameter in the massive dipole subtraction formalism

     <p>[<a href="#Catani2002hc">Cat02</a>]. 
</dl>

<div class="node">
<a name="Processes"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Selectors">Selectors</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Matrix-Elements">Matrix Elements</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Parameters">Parameters</a>

</div>

<h3 class="section">5.6 Processes</h3>

<p>The process setup is covered by the `(processes)' section of
the steering file or the process data file `Processes.dat', respectively.

<p>The following parameters are used to steer the process setup.

<ul class="menu">
<li><a accesskey="1" href="#Process">Process</a>:                  The process setup start tag. 
<li><a accesskey="2" href="#Decay">Decay</a>:                    Tag to add an exclusive decay. 
<li><a accesskey="3" href="#DecayOS">DecayOS</a>:                  Tag to add an exclusive on-shell decay. 
<li><a accesskey="4" href="#No_005fDecay">No_Decay</a>:                 Tag to remove resonant diagrams. 
<li><a accesskey="5" href="#Scales">Scales</a>:                   Tag to set a process-specific scale. 
<li><a accesskey="6" href="#Couplings">Couplings</a>:                Tag to set process-specific couplings. 
<li><a accesskey="7" href="#CKKW">CKKW</a>:                     Tag to setup multijet merging. 
<li><a accesskey="8" href="#Selector_005fFile">Selector_File</a>:            Tag to specify a specific selector file. 
<li><a accesskey="9" href="#Order">Order</a>:                    Tag to fix the coupling order. 
<li><a href="#Max_005fOrder">Max_Order</a>:                Tag to fix the maximum coupling order. 
<li><a href="#Min_005fOrder">Min_Order</a>:                Tag to fix the minimum coupling order. 
<li><a href="#Min_005fN_005fQuarks">Min_N_Quarks</a>:             Tag to set the minimum number of quarks. 
<li><a href="#Max_005fN_005fQuarks">Max_N_Quarks</a>:             Tag to set the maximum number of quarks. 
<li><a href="#Min_005fN_005fTChannels">Min_N_TChannels</a>:          Tag to request a minimum number of t-channels. 
<li><a href="#Max_005fN_005fTChannels">Max_N_TChannels</a>:          Tag to request a maximum number of t-channels. 
<li><a href="#Print_005fGraphs">Print_Graphs</a>:             Tag to enable writeout of feynman graphs. 
<li><a href="#Name_005fSuffix">Name_Suffix</a>:              Tag to set a unique name suffix. 
<li><a href="#Integration_005fError">Integration_Error</a>:        Tag to set a specific integration error. 
<li><a href="#Max_005fEpsilon">Max_Epsilon</a>:              Tag to set a specific epsilon for overweighting. 
<li><a href="#Enhance_005fFactor">Enhance_Factor</a>:           Tag to set an enhance factor. 
<li><a href="#RS_005fEnhance_005fFactor">RS_Enhance_Factor</a>:        Tag to set an enhance factor for the RS-piece of
                            an MC@NLO process. 
<li><a href="#Enhance_005fFunction">Enhance_Function</a>:         Tag to set an enhance function. 
<li><a href="#Enhance_005fObservable">Enhance_Observable</a>:       Tag to set an enhance observable. 
<li><a href="#NLO_005fQCD_005fMode">NLO_QCD_Mode</a>:             Tag to setup QCD NLO processes. 
<li><a href="#NLO_005fQCD_005fPart">NLO_QCD_Part</a>:             Tag to refine the setup of QCD NLO processes. 
<li><a href="#NLO_005fEW_005fMode">NLO_EW_Mode</a>:              Tag to setup electroweak NLO processes. 
<li><a href="#NLO_005fEW_005fPart">NLO_EW_Part</a>:              Tag to refine the setup of electroweak NLO processes. 
<li><a href="#Subdivide_005fVirtual">Subdivide_Virtual</a>:        Tag to split virtual contribution into pieces. 
<li><a href="#ME_005fGenerator">ME_Generator</a>:             Tag to specifiy the tree ME generator. 
<li><a href="#RS_005fME_005fGenerator">RS_ME_Generator</a>:          Tag to specifiy the real-subtracted ME generator
                            of an MC@NLO process. 
<li><a href="#Loop_005fGenerator">Loop_Generator</a>:           Tag to specifiy the loop ME generator. 
<li><a href="#Integrator">Integrator</a>:               Tag to specifiy the integrator. 
<li><a href="#PSI_005fItMin">PSI_ItMin</a>:                Tag to set the number of points per optimization step. 
<li><a href="#RS_005fPSI_005fItMin">RS_PSI_ItMin</a>:             Tag to set the number of points per optimization step
                            in real-minus-subtraction parts. 
<li><a href="#End-process">End process</a>:              The process setup end tag. 
</ul>

<div class="node">
<a name="Process"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Decay">Decay</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Processes">Processes</a>

</div>

<h4 class="subsection">5.6.1 Process</h4>

<p>This tag starts the setup of a process or a set of processes
with common properties. It must be followed by the specification
of the (core) process itself. The setup is completed by the
<samp><span class="option">End process</span></samp> tag, see <a href="#End-process">End process</a>. The initial and
final state particles are specified by their PDG codes, or by
particle containers, see <a href="#Particle-containers">Particle containers</a>. Examples are

     <dl>
<dt>Process 93 93 -&gt; 11 -11<dd>Sets up a Drell-Yan process group with light quarks
in the initial state. 
<br><dt>Process 11 -11 -&gt; 93 93 93{3}<dd>Sets up jet production in e+e- collisions with up to three
additional jets. 
</dl>

<p>The syntax for specifying processes is explained in the following
sections:

<ul class="menu">
<li><a accesskey="1" href="#PDG-codes">PDG codes</a>
<li><a accesskey="2" href="#Particle-containers">Particle containers</a>
<li><a accesskey="3" href="#Curly-brackets">Curly brackets</a>
</ul>

<div class="node">
<a name="PDG-codes"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Particle-containers">Particle containers</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Process">Process</a>

</div>

<h5 class="subsubsection">5.6.1.1 PDG codes</h5>

<p>Initial and final state particles are specified using their
PDG codes
(cf. <a href="http://pdg.lbl.gov/2009/mcdata/mc_particle_id_contents.html">PDG</a>). 
A list of particles with their codes, and some of their properties,
is printed at the start of each Sherpa run, when the <a href="#OUTPUT">OUTPUT</a> is set
at level <samp><span class="option">2</span></samp>.

<div class="node">
<a name="Particle-containers"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Curly-brackets">Curly brackets</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#PDG-codes">PDG codes</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Process">Process</a>

</div>

<h5 class="subsubsection">5.6.1.2 Particle containers</h5>

<p>Sherpa contains a set of containers that collect
particles with similar properties, namely

     <ul>
  <li>lepton (carrying number <code>90</code>),
  <li>neutrino (carrying number <code>91</code>),
  <li>fermion (carrying number <code>92</code>),
  <li>jet (carrying number <code>93</code>),
  <li>quark (carrying number <code>94</code>). 
</ul>

<p>These containers hold all massless particles and anti-particles
of the denoted type and allow for a more efficient definition of
initial and final states to be considered. The jet container consists
of the gluon and all massless quarks (as set by <code>MASS[..]=0.0</code> or
<code>MASSIVE[..]=0</code>). A list of particle containers
is printed at the start of each Sherpa run, when the <a href="#OUTPUT">OUTPUT</a> is set
at level <samp><span class="option">2</span></samp>.

<p><a name="index-PARTICLE_005fCONTAINER-117"></a>It is also possible to define a custom particle container using the keyword
<code>PARTICLE_CONTAINER</code> either on the command line or in the <code>(run)</code>
section of the input file. The container must be given an unassigned particle
ID (kf-code) and its name (freely chosen by you) and content must be specified. 
An example would be the collection of all down-type quarks, which could be
declared as
<pre class="verbatim">  PARTICLE_CONTAINER 98 downs 1 -1 3 -3 5 -5;
</pre>
Note that, if wanted, you have to add both particles and anti-particles.

<div class="node">
<a name="Curly-brackets"></a>
<p><hr>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Particle-containers">Particle containers</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Process">Process</a>

</div>

<h5 class="subsubsection">5.6.1.3 Curly brackets</h5>

<p>The curly bracket notation when specifying a process allows up to
a certain number of jets to be included in the final state. This
is easily seen from an example,
     <dl>
<dt>Process 11 -11 -&gt; 93 93 93{3}<dd>Sets up jet production in e+e- collisions. The matix element final state may be
2, 3, 4 or 5 light partons or gluons. 
</dl>

<div class="node">
<a name="Decay"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#DecayOS">DecayOS</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Process">Process</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Processes">Processes</a>

</div>

<h4 class="subsection">5.6.2 Decay</h4>

<p>Specifies the exclusive decay of a particle produced in the
matrix element. The virtuality of the decaying particle is sampled
according to a Breit-Wigner distribution. 
An example would be
<pre class="verbatim">Process 11 -11 -> 6[a] -6[b]
Decay 6[a] -> 5 24[c]
Decay -6[b] -> -5 -24[d]
Decay 24[c] -> -13 14
Decay -24[d] -> 94 94
</pre>

<div class="node">
<a name="DecayOS"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#No_005fDecay">No_Decay</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Decay">Decay</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Processes">Processes</a>

</div>

<h4 class="subsection">5.6.3 DecayOS</h4>

<p>Specifies the exclusive decay of a particle produced in the
matrix element. The decaying particle is on mass-shell, i.e. 
a strict narrow-width approximation is used. This tag can be
specified alternatively as <samp><span class="option">DecayOS</span></samp>. 
An example would be
<pre class="verbatim">Process 11 -11 -> 6[a] -6[b]
DecayOS 6[a] -> 5 24[c]
DecayOS -6[b] -> -5 -24[d]
DecayOS 24[c] -> -13 14
DecayOS -24[d] -> 94 94
</pre>

<div class="node">
<a name="No_Decay"></a>
<a name="No_005fDecay"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Scales">Scales</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#DecayOS">DecayOS</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Processes">Processes</a>

</div>

<h4 class="subsection">5.6.4 No_Decay</h4>

<p>Remove all diagrams associated with the decay of the given flavours. 
Serves to avoid resonant contributions in processes like W-associated
single-top production. Note that this method breaks gauge invariance! 
At the moment this flag can only be set for Comix. 
An example would be
<pre class="verbatim">Process 93 93 -> 6[a] -24[b] 93{1}
Decay 6[a] -> 5 24[c]
DecayOS 24[c] -> -13 14
DecayOS -24[b] -> 11 -12
No_Decay -6
</pre>

<div class="node">
<a name="Scales"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Couplings">Couplings</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#No_005fDecay">No_Decay</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Processes">Processes</a>

</div>

<h4 class="subsection">5.6.5 Scales</h4>

<p>Sets a process-specific scale. 
For the corresponding syntax see <a href="#SCALES">SCALES</a>.

<div class="node">
<a name="Couplings"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#CKKW">CKKW</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Scales">Scales</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Processes">Processes</a>

</div>

<h4 class="subsection">5.6.6 Couplings</h4>

<p>Sets process-specific couplings. 
For the corresponding syntax see <a href="#COUPLINGS">COUPLINGS</a>.

<div class="node">
<a name="CKKW"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Selector_005fFile">Selector_File</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Couplings">Couplings</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Processes">Processes</a>

</div>

<h4 class="subsection">5.6.7 CKKW</h4>

<p>Sets up multijet merging according to 
[<a href="#Hoeche2009rj">Hoe09</a>]. 
The additional argument specifies the separation cut
in the form (Q_{cut}/E_{cms})^2. 
It can be given in any form which is understood by the internal
interpreter, see <a href="#Interpreter">Interpreter</a>. 
Examples are

     <ul>
<li>CKKW pow(10,-2.5)
<li>CKKW sqr(20/E_CMS)
</ul>

<div class="node">
<a name="Selector_File"></a>
<a name="Selector_005fFile"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Order">Order</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#CKKW">CKKW</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Processes">Processes</a>

</div>

<h4 class="subsection">5.6.8 Selector_File</h4>

<p>Sets a process-specific selector file name.

<div class="node">
<a name="Order"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Max_005fOrder">Max_Order</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Selector_005fFile">Selector_File</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Processes">Processes</a>

</div>

<h4 class="subsection">5.6.9 Order</h4>

<p>Sets a process-specific coupling order. 
Orders are counted at the amplitude level. 
For example, the process 1 -1 -&gt; 2 -2 would have
orders (2,0), (1,1) and (0,2). The first number always
refers to QCD, the second to electroweak. The third
and following numbers are model specific. Half-integer
orders are so far supported only by Comix. 
An asterisk can be used as a wildcard.

<p>Note that for decay chains this setting applies to
the full process, see <a href="#Decay">Decay</a> and <a href="#DecayOS">DecayOS</a>.

<div class="node">
<a name="Max_Order"></a>
<a name="Max_005fOrder"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Min_005fOrder">Min_Order</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Order">Order</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Processes">Processes</a>

</div>

<h4 class="subsection">5.6.10 Max_Order</h4>

<p>Sets a process-specific maximum coupling order. 
Orders are counted at the amplitude level. 
For example, the process 1 -1 -&gt; 2 -2 would have
orders (2,0), (1,1) and (0,2). The first number always
refers to QCD, the second to electroweak. The third
and following numbers are model specific. Half-integer
orders are so far supported only by Comix.

<p>Note that for decay chains this setting applies to
the full process, see <a href="#Decay">Decay</a> and <a href="#DecayOS">DecayOS</a>.

<div class="node">
<a name="Min_Order"></a>
<a name="Min_005fOrder"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Min_005fN_005fQuarks">Min_N_Quarks</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Max_005fOrder">Max_Order</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Processes">Processes</a>

</div>

<h4 class="subsection">5.6.11 Min_Order</h4>

<p>Sets a process-specific minimum coupling order. 
Orders are counted at the amplitude level. 
For example, the process 1 -1 -&gt; 2 -2 would have
orders (2,0), (1,1) and (0,2). The first number always
refers to QCD, the second to electroweak. The third
and following numbers are model specific. Half-integer
orders are so far supported only by Comix.

<p>Note that for decay chains this setting applies to
the full process, see <a href="#Decay">Decay</a> and <a href="#DecayOS">DecayOS</a>.

<div class="node">
<a name="Min_N_Quarks"></a>
<a name="Min_005fN_005fQuarks"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Max_005fN_005fQuarks">Max_N_Quarks</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Min_005fOrder">Min_Order</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Processes">Processes</a>

</div>

<h4 class="subsection">5.6.12 Min_N_Quarks</h4>

<p>Limits the minimum number of quarks in the process to the
given value.

<div class="node">
<a name="Max_N_Quarks"></a>
<a name="Max_005fN_005fQuarks"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Min_005fN_005fTChannels">Min_N_TChannels</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Min_005fN_005fQuarks">Min_N_Quarks</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Processes">Processes</a>

</div>

<h4 class="subsection">5.6.13 Max_N_Quarks</h4>

<p>Limits the maximum number of quarks in the process to the
given value.

<div class="node">
<a name="Min_N_TChannels"></a>
<a name="Min_005fN_005fTChannels"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Max_005fN_005fTChannels">Max_N_TChannels</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Max_005fN_005fQuarks">Max_N_Quarks</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Processes">Processes</a>

</div>

<h4 class="subsection">5.6.14 Min_N_TChannels</h4>

<p>Limits the minimum number of t-channel propagators in the process
to the given value.

<div class="node">
<a name="Max_N_TChannels"></a>
<a name="Max_005fN_005fTChannels"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Print_005fGraphs">Print_Graphs</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Min_005fN_005fTChannels">Min_N_TChannels</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Processes">Processes</a>

</div>

<h4 class="subsection">5.6.15 Max_N_TChannels</h4>

<p>Limits the maximum number of t-channel propagators in the process
to the given value.

<div class="node">
<a name="Print_Graphs"></a>
<a name="Print_005fGraphs"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Name_005fSuffix">Name_Suffix</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Max_005fN_005fTChannels">Max_N_TChannels</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Processes">Processes</a>

</div>

<h4 class="subsection">5.6.16 Print_Graphs</h4>

<p>Writes out Feynman graphs in LaTeX format. The parameter specifies a
directory name in which the diagram information is stored. This directory
is created automatically by Sherpa. The LaTeX source files can be compiled
using the command
<pre class="verbatim">  ./plot_graphs &lt;graphs directory>
</pre>
which creates an html page in the graphs directory that can be viewed
in a web browser.

<div class="node">
<a name="Name_Suffix"></a>
<a name="Name_005fSuffix"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Integration_005fError">Integration_Error</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Print_005fGraphs">Print_Graphs</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Processes">Processes</a>

</div>

<h4 class="subsection">5.6.17 Name_Suffix</h4>

<p>Defines a unique name suffix for the process.

<div class="node">
<a name="Integration_Error"></a>
<a name="Integration_005fError"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Max_005fEpsilon">Max_Epsilon</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Name_005fSuffix">Name_Suffix</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Processes">Processes</a>

</div>

<h4 class="subsection">5.6.18 Integration_Error</h4>

<p>Sets a process-specific relative integration error target.

<p>For multijet processes, this parameter can be specified
per final state multiplicity. An example would be
<pre class="verbatim">Process 93 93 -> 93 93 93{2}
Integration_Error 0.02 {3,4}
</pre>

<p>Here, the integration error target is set to 2% for
2-&gt;3 and 2-&gt;4 processes.

<div class="node">
<a name="Max_Epsilon"></a>
<a name="Max_005fEpsilon"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Enhance_005fFactor">Enhance_Factor</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Integration_005fError">Integration_Error</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Processes">Processes</a>

</div>

<h4 class="subsection">5.6.19 Max_Epsilon</h4>

<p>Sets epsilon for maximum weight reduction. 
The key idea is to allow weights larger than
the maximum during event generation,
as long as the fraction of the cross section
represented by corresponding events is
at most the epsilon factor times the total
cross section. In other words, the relative
contribution of overweighted events to the
inclusive cross section is at most epsilon.

<div class="node">
<a name="Enhance_Factor"></a>
<a name="Enhance_005fFactor"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#RS_005fEnhance_005fFactor">RS_Enhance_Factor</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Max_005fEpsilon">Max_Epsilon</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Processes">Processes</a>

</div>

<h4 class="subsection">5.6.20 Enhance_Factor</h4>

<p>Sets a process specific enhance factor.

<p>For multijet processes, this parameter can be specified
per final state multiplicity. An example would be
<pre class="verbatim">Process 93 93 -> 93 93 93{2}
Enhance_Factor 4 {3}
Enhance_Factor 16 {4}
</pre>

<p>Here, 3-jet processes are enhanced by a factor of 4,
4-jet processes by a factor of 16.

<div class="node">
<a name="RS_Enhance_Factor"></a>
<a name="RS_005fEnhance_005fFactor"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Enhance_005fFunction">Enhance_Function</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Enhance_005fFactor">Enhance_Factor</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Processes">Processes</a>

</div>

<h4 class="subsection">5.6.21 RS_Enhance_Factor</h4>

<p>Sets an enhance factor for the RS-piece of an MC@NLO process.

<p>For multijet processes, this parameter can be specified
per final state multiplicity. An example would be
<pre class="verbatim">Process 93 93 -> 90 91 93{3};
NLO_QCD_Mode MC@NLO {2,3};
RS_Enhance_Factor 10 {2};
RS_Enhance_Factor 20 {3};
</pre>

<p>Here, the RS-pieces of the MC@NLO subprocesses of the 2 particle final
state processes are enhanced by a factor of 10, while those of the 3
particle final state processes are enhanced by a factor of 20.

<div class="node">
<a name="Enhance_Function"></a>
<a name="Enhance_005fFunction"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Enhance_005fObservable">Enhance_Observable</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#RS_005fEnhance_005fFactor">RS_Enhance_Factor</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Processes">Processes</a>

</div>

<h4 class="subsection">5.6.22 Enhance_Function</h4>

<p>Sets a process specific enhance function.

<p><em>This feature can only be used when generating weighted events.</em>

<p>For multijet processes, the parameter can be specified
per final state multiplicity. An example would be
<pre class="verbatim">Process 93 93 -> 11 -11 93{1}
Enhance_Function VAR{PPerp2(p[4])} {3}
</pre>

<p>Here, the 1-jet process is enhanced with the
transverse momentum squared of the jet.

<p>Note that the convergence of the Monte Carlo integration can be worse
if enhance functions are employed and therefore the integration can take
significantly longer. The reason is that the default phase space
mapping, which is constructed according to diagrammatic information from
hard matrix elements, is not suited for event generation including
enhancement. It must first be adapted, which, depending on the enhance
function and the final state multiplicity, can be an intricate task.

<p><em>If Sherpa cannot achieve an integration error target due to the use
 of enhance functions, it might be appropriate to locally redefine this
 error target</em>, see <a href="#Integration_005fError">Integration_Error</a>.

<div class="node">
<a name="Enhance_Observable"></a>
<a name="Enhance_005fObservable"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#NLO_005fQCD_005fMode">NLO_QCD_Mode</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Enhance_005fFunction">Enhance_Function</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Processes">Processes</a>

</div>

<h4 class="subsection">5.6.23 Enhance_Observable</h4>

<p>Allows for the specification of a ME-level observable in which the event
generation should be flattened. Of course, this induces an appropriate weight
for each event. This option is available for both weighted and unweighted event
generation, but for the latter as mentioned above the weight stemming from the
enhancement is introduced. 
For multijet processes, the parameter can be specified
per final state multiplicity.

<p>An example would be
<pre class="verbatim">Process 93 93 -> 11 -11 93{1}
Enhance_Observable VAR{log10(PPerp(p[2]+p[3]))}|1|3 {3}
</pre>

<p>Here, the 1-jet process is flattened with respect to the logarithmic transverse
momentum of the lepton pair in the limits 1.0 (10 GeV) to 3.0 (1 TeV). 
For the calculation of the observable one can use any function available in
the algebra interpreter (see <a href="#Interpreter">Interpreter</a>).

<p>Note that the convergence of the Monte Carlo integration can be worse
if enhance observables are employed and therefore the integration can take
significantly longer. The reason is that the default phase space
mapping, which is constructed according to diagrammatic information from
hard matrix elements, is not suited for event generation including
enhancement. It must first be adapted, which, depending on the enhance
function and the final state multiplicity, can be an intricate task.

<p><em>If Sherpa cannot achieve an integration error target due to the use
 of enhance functions, it might be appropriate to locally redefine this
 error target</em>, see <a href="#Integration_005fError">Integration_Error</a>.

<div class="node">
<a name="NLO_QCD_Mode"></a>
<a name="NLO_005fQCD_005fMode"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#NLO_005fQCD_005fPart">NLO_QCD_Part</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Enhance_005fObservable">Enhance_Observable</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Processes">Processes</a>

</div>

<h4 class="subsection">5.6.24 NLO_QCD_Mode</h4>

<p>This setting specifies whether and in which mode an QCD NLO calculation
should be performed. Possible values are:

     <ul>
<li><code>Fixed_Order</code> ... perform a fixed-order next-to-leading order
                             calculation
<li><code>MC@NLO</code> ... perform an MC@NLO-type matching of a fixed-order
                         next-to-leading order calculation to the resummation
                         of the parton shower
</ul>

<p>The usual multiplicity identifier apply to this switch as well. 
Note that this setting implies <code>NLO_QCD_Part BVIRS</code> for the relevant
multiplicities. This can be overridden by setting <code>NLO_QCD_Part</code>
explicitly in case of fixed-order calculations.

<p>Note that Sherpa includes only a very limited selection of one-loop
corrections. For processes not included external codes can be interfaced,
see <a href="#External-one_002dloop-ME">External one-loop ME</a>

<div class="node">
<a name="NLO_QCD_Part"></a>
<a name="NLO_005fQCD_005fPart"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#NLO_005fEW_005fMode">NLO_EW_Mode</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#NLO_005fQCD_005fMode">NLO_QCD_Mode</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Processes">Processes</a>

</div>

<h4 class="subsection">5.6.25 NLO_QCD_Part</h4>

<p>In case of fixed-order NLO calculations this switch specifies which pieces
of a QCD NLO calculation are computed. Possible choices are

     <ul>
<li>B  ... born term
<li>V  ... virtual (one-loop) correction
<li>I  ... integrated subtraction terms
<li>RS ... real correction, regularized using Catani-Seymour subtraction terms
</ul>

<p>Different pieces can be combined in one processes setup. Only pieces with the
same number of final state particles and the same order in alpha_S can be
treated as one process, otherwise they will be automatically split up.

<div class="node">
<a name="NLO_EW_Mode"></a>
<a name="NLO_005fEW_005fMode"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#NLO_005fEW_005fPart">NLO_EW_Part</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#NLO_005fQCD_005fPart">NLO_QCD_Part</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Processes">Processes</a>

</div>

<h4 class="subsection">5.6.26 NLO_EW_Mode</h4>

<p>This setting specifies whether and in which mode an electroweak NLO calculation
should be performed. Possible values are:

     <ul>
<li><code>Fixed_Order</code> ... perform a fixed-order next-to-leading order
                             calculation
</ul>

<div class="node">
<a name="NLO_EW_Part"></a>
<a name="NLO_005fEW_005fPart"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Subdivide_005fVirtual">Subdivide_Virtual</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#NLO_005fEW_005fMode">NLO_EW_Mode</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Processes">Processes</a>

</div>

<h4 class="subsection">5.6.27 NLO_EW_Part</h4>

<p>In case of fixed-order NLO calculations this switch specifies which pieces
of a electroweak NLO calculation are computed. Possible choices are

     <ul>
<li>B  ... born term
<li>V  ... virtual (one-loop) correction
<li>I  ... integrated subtraction terms
<li>RS ... real correction, regularized using Catani-Seymour subtraction terms
</ul>

<p>Different pieces can be combined in one processes setup. Only pieces with the
same number of final state particles and the same order in alpha_QED can be
treated as one process, otherwise they will be automatically split up.

<div class="node">
<a name="Subdivide_Virtual"></a>
<a name="Subdivide_005fVirtual"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#ME_005fGenerator">ME_Generator</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#NLO_005fEW_005fPart">NLO_EW_Part</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Processes">Processes</a>

</div>

<h4 class="subsection">5.6.28 Subdivide_Virtual</h4>

<p>Allows to split the virtual contribution to the total cross section into pieces. 
Currently supported options when run with <a href="http://projects.hepforge.org/blackhat">BlackHat</a>
are <samp><span class="option">LeadingColor</span></samp> and <samp><span class="option">FullMinusLeadingColor</span></samp>. For high-multiplicity
calculations these settings allow to adjust the relative number of points in the
sampling to reduce the overall computation time.

<div class="node">
<a name="ME_Generator"></a>
<a name="ME_005fGenerator"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#RS_005fME_005fGenerator">RS_ME_Generator</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Subdivide_005fVirtual">Subdivide_Virtual</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Processes">Processes</a>

</div>

<h4 class="subsection">5.6.29 ME_Generator</h4>

<p>Set a process specific nametag for the desired
tree-ME generator, see <a href="#ME_005fSIGNAL_005fGENERATOR">ME_SIGNAL_GENERATOR</a>.

<div class="node">
<a name="RS_ME_Generator"></a>
<a name="RS_005fME_005fGenerator"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Loop_005fGenerator">Loop_Generator</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#ME_005fGenerator">ME_Generator</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Processes">Processes</a>

</div>

<h4 class="subsection">5.6.30 RS_ME_Generator</h4>

<p>Set a process specific nametag for the desired
ME generator used for the real minus subtraction part
of NLO calculations. See also <a href="#ME_005fSIGNAL_005fGENERATOR">ME_SIGNAL_GENERATOR</a>.

<div class="node">
<a name="Loop_Generator"></a>
<a name="Loop_005fGenerator"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Integrator">Integrator</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#RS_005fME_005fGenerator">RS_ME_Generator</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Processes">Processes</a>

</div>

<h4 class="subsection">5.6.31 Loop_Generator</h4>

<p>Set a process specific nametag for the desired
loop-ME generator. The only Sherpa-native option is <code>Internal</code> with a few
hard coded loop matrix elements.

<h5 class="subsubsection">5.6.31.1 BlackHat Interface</h5>

<p><a name="index-BH_005fSETTINGS_005fFILE-118"></a>
Another source for loop matrix elements is <a href="http://projects.hepforge.org/blackhat">BlackHat</a>. 
To use this Sherpa has to be linked to BlackHat during installation by using the configure option
<code>--enable-blackhat=/path/to/blackhat</code>. The BlackHat settings file can be specified using
<samp><span class="option">BH_SETTINGS_FILE</span></samp>.

<div class="node">
<a name="Integrator"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#PSI_005fItMin">PSI_ItMin</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Loop_005fGenerator">Loop_Generator</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Processes">Processes</a>

</div>

<h4 class="subsection">5.6.32 Integrator</h4>

<p>Sets a process-specific integrator, see <a href="#INTEGRATOR">INTEGRATOR</a>.

<div class="node">
<a name="PSI_ItMin"></a>
<a name="PSI_005fItMin"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#RS_005fPSI_005fItMin">RS_PSI_ItMin</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Integrator">Integrator</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Processes">Processes</a>

</div>

<h4 class="subsection">5.6.33 PSI_ItMin</h4>

<p>Sets the number of points per optimization step, see <a href="#PSI_005fITMIN">PSI_ITMIN</a>.

<div class="node">
<a name="RS_PSI_ItMin"></a>
<a name="RS_005fPSI_005fItMin"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#End-process">End process</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#PSI_005fItMin">PSI_ItMin</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Processes">Processes</a>

</div>

<h4 class="subsection">5.6.34 RS_PSI_ItMin</h4>

<p>Sets the number of points per optimization step in real-minus-subtraction
parts of fixed-order and MC@NLO calculations, see <a href="#PSI_005fITMIN">PSI_ITMIN</a>.

<div class="node">
<a name="End-process"></a>
<p><hr>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#RS_005fPSI_005fItMin">RS_PSI_ItMin</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Processes">Processes</a>

</div>

<h4 class="subsection">5.6.35 End process</h4>

<p>Completes the setup of a process or a list of processes
with common properties.

<div class="node">
<a name="Selectors"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Integration">Integration</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Processes">Processes</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Parameters">Parameters</a>

</div>

<h3 class="section">5.7 Selectors</h3>

<p>The setup of cuts at the matrix element level is covered
by the `(selector)' section of the steering file or the
selector data file `Selector.dat', respectively.

<p>Sherpa provides the following selectors

<ul class="menu">
<li><a accesskey="1" href="#One-particle-selectors">One particle selectors</a>:     one particle selectors
<li><a accesskey="2" href="#Two-particle-selectors">Two particle selectors</a>:     two particle selectors
<li><a accesskey="3" href="#Decay-selectors">Decay selectors</a>:            decay selectors
<li><a accesskey="4" href="#Jet-finders">Jet finders</a>:                cuts on QCD partons
<li><a accesskey="5" href="#Universal-selector">Universal selector</a>:         user-defined cuts
<li><a accesskey="6" href="#Minimum-selector">Minimum selector</a>:           cuts that are inclusive for several selectors
<li><a accesskey="7" href="#NLO-selectors">NLO selectors</a>:              selectors for NLO QCD calculations
<li><a accesskey="8" href="#Fastjet-selector">Fastjet selector</a>:           selector using jets built by Fastjet
</ul>

<div class="node">
<a name="One-particle-selectors"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Two-particle-selectors">Two particle selectors</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Selectors">Selectors</a>

</div>

<h4 class="subsection">5.7.1 One particle selectors</h4>

<p>The selectors listed here implement cuts on the
matrix element level, based on single particle kinematics. 
The corresponding  syntax in <samp><span class="file">Selector.dat</span></samp> is
<pre class="verbatim">&lt;keyword> &lt;flavour code> &lt;min value> &lt;max value>
</pre>

<p><samp><span class="option">&lt;min value&gt;</span></samp> and <samp><span class="option">&lt;max value&gt;</span></samp> are floating point
numbers, which can also be given in a form that is understood
by the internal algebra interpreter, see <a href="#Interpreter">Interpreter</a>. 
The selectors act on <em>all</em> possible particles with
the given flavour. Their respective keywords are

     <dl>
<dt><samp><span class="option">Energy</span></samp><dd>energy cut
<br><dt><samp><span class="option">ET</span></samp><dd>transverse energy cut
<br><dt><samp><span class="option">PT</span></samp><dd>transverse momentum cut
<br><dt><samp><span class="option">Rapidity</span></samp><dd>rapidity cut
<br><dt><samp><span class="option">PseudoRapidity</span></samp><dd>pseudorapidity cut
</dl>

<div class="node">
<a name="Two-particle-selectors"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Decay-selectors">Decay selectors</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#One-particle-selectors">One particle selectors</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Selectors">Selectors</a>

</div>

<h4 class="subsection">5.7.2 Two particle selectors</h4>

<p>The selectors listed here implement cuts on the
matrix element level, based on two particle kinematics. 
The corresponding  syntax in <samp><span class="file">Selector.dat</span></samp> is
<pre class="verbatim">&lt;keyword> &lt;flavour1 code> &lt;flavour2 code> &lt;min value> &lt;max value>
</pre>

<p><samp><span class="option">&lt;min value&gt;</span></samp> and <samp><span class="option">&lt;max value&gt;</span></samp> are floating point
numbers, which can also be given in a form that is understood
by the internal algebra interpreter, see <a href="#Interpreter">Interpreter</a>. 
The selectors act on <em>all</em> possible particles with
the given flavour. Their respective keywords are

     <dl>
<dt><samp><span class="option">Mass</span></samp><dd>invariant mass
<br><dt><samp><span class="option">Angle</span></samp><dd>angular separation (rad)
<br><dt><samp><span class="option">BeamAngle</span></samp><dd>angular separation w.r.t. beam

     <p>(&lsquo;<samp><span class="samp">&lt;flavour2 code&gt;</span></samp>&rsquo; is 0 or 1, referring to beam 1 or 2)
<br><dt><samp><span class="option">DeltaEta</span></samp><dd>pseudorapidity separation
<br><dt><samp><span class="option">DeltaY</span></samp><dd>rapidity separation
<br><dt><samp><span class="option">DeltaPhi</span></samp><dd>azimuthal angle separation (rad)
<br><dt><samp><span class="option">DeltaR</span></samp><dd>R separation
</dl>

<div class="node">
<a name="Decay-selectors"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Jet-finders">Jet finders</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Two-particle-selectors">Two particle selectors</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Selectors">Selectors</a>

</div>

<h4 class="subsection">5.7.3 Decay selectors</h4>

<p>The selectors listed here implement cuts on the matrix element level,
based on particle decays, see <a href="#Decay">Decay</a> and <a href="#DecayOS">DecayOS</a>.

     <dl>
<dt><samp><span class="option">DecayMass</span></samp><dd>Invariant mass of a decaying particle. The syntax is
<pre class="verbatim">     DecayMass &lt;flavour code> &lt;min value> &lt;max value>
</pre>
<br><dt><samp><span class="option">Decay</span></samp><dd>Any kinematic variable of a decaying particle. The syntax is
<pre class="verbatim">     Decay(&lt;expression>) &lt;flavour code> &lt;min value> &lt;max value>
</pre>
where <code>&lt;expression&gt;</code> is an expression handled by the
internal interpreter, see <a href="#Interpreter">Interpreter</a>. 
<br><dt><samp><span class="option">Decay2</span></samp><dd>Any kinematic variable of a pair of decaying particles. The syntax is
<pre class="verbatim">       Decay2(&lt;expression>) &lt;flavour1 code> &lt;flavour2 code> &lt;min value> &lt;max value>
</pre>
where <code>&lt;expression&gt;</code> is an expression handled by the
internal interpreter, see <a href="#Interpreter">Interpreter</a>. 
</dl>
Particles are identified by flavour, i.e. the cut is applied
on <em>all</em> decaying particles that match <samp><span class="option">&lt;flavour code&gt;</span></samp>. 
<samp><span class="option">&lt;min value&gt;</span></samp> and <samp><span class="option">&lt;max value&gt;</span></samp> are floating point
numbers, which can also be given in a format that is understood
by the internal algebra interpreter, see <a href="#Interpreter">Interpreter</a>.

<div class="node">
<a name="Jet-finders"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Universal-selector">Universal selector</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Decay-selectors">Decay selectors</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Selectors">Selectors</a>

</div>

<h4 class="subsection">5.7.4 Jet finders</h4>

<p>There are three different types of jet finders

     <dl>
<dt><samp><span class="option">JetFinder</span></samp><dd>k_T-algorithm
<br><dt><samp><span class="option">ConeFinder</span></samp><dd>cone-algorithm
<br><dt><samp><span class="option">NJetFinder</span></samp><dd>k_T-type algorithm to select on a given number of jets
</dl>

<p>Their respective syntax is
<pre class="verbatim">JetFinder  &lt;ycut>[&lt;ycut decay 1>[&lt;ycut decay 11>...]...]... &lt;D parameter>
ConeFinder &lt;min R> 
NJetFinder &lt;n> &lt;ptmin> &lt;etmin> &lt;D parameter> [&lt;exponent>] [&lt;eta max>] [&lt;mass max>]
FastjetFinder &lt;algorithm> &lt;n> &lt;ptmin> &lt;etmin> &lt;dr> [&lt;f(siscone)>=0.75] [&lt;eta-max>] [&lt;y-max>] [&lt;bmode>]
</pre>

<p>For <samp><span class="option">JetFinder</span></samp>, it is possible to give different values
of ycut in individual subprocesses of a production-decay chain. 
The square brackets are then used to denote the decays. 
In case only one uniform set of ycut is to be used, the square brackets
are left out.

<p><samp><span class="option">&lt;ycut&gt;</span></samp>, <samp><span class="option">&lt;min R&gt;</span></samp> and <samp><span class="option">&lt;D parameter&gt;</span></samp> are
floating point numbers, which can also be given in a form that is
understood by the internal algebra interpreter, see <a href="#Interpreter">Interpreter</a>.

<p>The <samp><span class="option">NJetFinder</span></samp> allows to select for kinematic configurations with
at least <samp><span class="option">&lt;n&gt;</span></samp> jets that satisfy both, the <samp><span class="option">&lt;ptmin&gt;</span></samp> and
the <samp><span class="option">&lt;etmin&gt;</span></samp> minimum requirements and that are in a PseudoRapidity region
|eta|&lt;<samp><span class="option">&lt;eta max&gt;</span></samp>. The <samp><span class="option">&lt;exponent&gt;</span></samp> allows to apply a kt-algorithm
(1) or an anti-kt algorithm (-1). As only massless partons are clustered by
default, the <samp><span class="option">&lt;mass max&gt;</span></samp> allows to also include partons with a mass
up to the specified values. This is useful e.g. in calculations with massive
b-quarks which shall nonetheless satisfy jet criteria.

<p>The final option <samp><span class="option">FastjetFinder</span></samp> allows to use the
<a href="http://www.fastjet.fr">FastJet</a> plugin if enabled during configuration. 
It takes the following mandatory arguments:
<code>&lt;algorithm&gt;</code> can take the values <code>kt,antikt,cambridge,siscone</code>,
<code>&lt;n&gt;</code> is the minimum number of jets to be found, <code>&lt;ptmin&gt;</code> and
<code>&lt;etmin&gt;</code> are the minimum transverse momentum and/or energy,
<code>&lt;dr&gt;</code> is the radial parameter. Optional arguments are:
<code>&lt;f(siscone)&gt;</code> (default 0.75), <code>&lt;eta-max&gt;</code> and <code>&lt;y-max&gt;</code> as
maximal absolute (pseudo-)rapidity (default infinity), <code>&lt;b-mode&gt;</code> sets
the B-tagging mode (default 0). For details see
<a href="#Scale-setters">Scale setters</a>.

<p>The option <samp><span class="option">FastjetVeto</span></samp> allows to use the
<a href="http://www.fastjet.fr">FastJet</a> plugin to apply
jet veto cuts. The syntax is identical to option <samp><span class="option">FastjetFinder</span></samp>.

<div class="node">
<a name="Universal-selector"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Minimum-selector">Minimum selector</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Jet-finders">Jet finders</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Selectors">Selectors</a>

</div>

<h4 class="subsection">5.7.5 Universal selector</h4>

<p><a name="index-SHOW_005fVARIABLE_005fSYNTAX-119"></a>
The universal selector is intended to implement non-standard cuts
on the matrix element level. Its syntax is
<pre class="verbatim">"&lt;variable>" &lt;kf1>,..,&lt;kfn> &lt;min1>,&lt;max1>:..:&lt;minn>,&lt;maxn> [&lt;order1>,...,&lt;orderm>]
</pre>

<p><em>No additional white spaces are allowed</em>

<p>The first word has to be double-quoted, and contains the name
of the variable to cut on. The keywords for available predefined
&lt;variable&gt;s can be figured by running Sherpa <samp><span class="option">SHOW_VARIABLE_SYNTAX=1</span></samp>. 
Or alternatively, an arbitrary cut variable can be constructed using
the internal interpreter, see <a href="#Interpreter">Interpreter</a>. This is invoked
with the command &lsquo;<samp><span class="samp">Calc(...)</span></samp>&rsquo;. In the formula specified there
you have to use place holders for the momenta of the particles:
&lsquo;<samp><span class="samp">p[0]</span></samp>&rsquo; ... &lsquo;<samp><span class="samp">p[n]</span></samp>&rsquo; hold the momenta of the respective particles
&lsquo;<samp><span class="samp">kf1</span></samp>&rsquo; ... &lsquo;<samp><span class="samp">kfn</span></samp>&rsquo;. A list of available vector functions and
operators can be found here <a href="#Interpreter">Interpreter</a>.

<p><samp><span class="option">&lt;kf1&gt;,..,&lt;kfn&gt;</span></samp> specify the PDG codes of the particles
the variable has to be calculated from. In case this choice is
not unique in the final state, you have to specify multiple cut ranges
(<samp><span class="option">&lt;min1&gt;,&lt;max1&gt;:..:&lt;minn&gt;,&lt;maxn&gt;</span></samp>) for all (combinations
of) particles you want to cut on, separated by semicolons.

<p>If no fourth argument is given, the order of cuts is determined
internally, according to Sherpa's process classification scheme. 
This then has to be matched if you want to have different cuts
on certain different particles in the matrix element. To do this,
you should put enough (for the possible number of combinations
of your particles) arbitrary ranges at first and run Sherpa
with debugging output for the universal selector:
&lsquo;<samp><span class="samp">Sherpa OUTPUT=2[Variable_Selector::Trigger|15]</span></samp>&rsquo;. 
This will start to produce lots of output during integration,
at which point you can interrupt the run (Ctrl-c). In the
&lsquo;<samp><span class="samp">Variable_Selector::Trigger(): {...}</span></samp>&rsquo; output you can see,
which particle combinations have been found and which cut range
your selector has held for them (vs. the arbitrary range you
specified). From that you should get an idea, in which order
the cuts have to be specified.

<p>If the fourth argument is given, particles are ordered
before the cut is applied. Possible orderings are <samp><span class="option">PT_UP</span></samp>,
<samp><span class="option">ET_UP</span></samp>, <samp><span class="option">E_UP</span></samp>, <samp><span class="option">ETA_UP</span></samp> and <samp><span class="option">ETA_DOWN</span></samp>,
(increasing p_T, E_T, E, eta, and decreasing eta). They have to be specified
for each of the particles, separated by commas.

<p>Examples

     <dl>
<dt>Two-body transverse mass<dd>
      "mT" 11,-12 50,E_CMS

     <br><dt>Cut on the pT of only the hardest lepton in the event<dd>
      "PT"   90   50.0,E_CMS   [PT_UP]

     <br><dt>Using bool operations to restrict eta of the electron to |eta| &lt; 1.1 or 1.5 &lt; |eta| &lt; 2.5<dd>
      "Calc(abs(Eta(p[0]))&lt;1.1||(abs(Eta(p[0]))&gt;1.5&amp;&amp;abs(Eta(p[0]))&lt;2.5))" 11 1,1

     <p>Note the range 1,1 meaning true for bool operations.

     <br><dt>Requesting opposite side tag jets in VBF would for example need a setup like this<dd>
      "Calc(Eta(p[0])*Eta(p[1]))" 93,93 -100,0 [PT_UP,PT_UP]

     <br><dt>Restricting electron+photon mass to be outside of [87.0,97.0]:<dd>
      "Calc(Mass(p[0]+p[1])&lt;87.0||Mass(p[0]+p[1])&gt;97.0)" 11,22 1,1

     <br><dt>In &lsquo;<samp><span class="samp">Z[lepton lepton] Z[lepton lepton]</span></samp>&rsquo;, cut on mass of lepton-pairs produced from Z's:<dd>
      "m"   90,90   80,100:0,E_CMS:0,E_CMS:0,E_CMS:0,E_CMS:80,100

     <p>Here we use knowledge about the internal ordering to cut only on the correct lepton pairs.

</dl>

<div class="node">
<a name="Minimum-selector"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#NLO-selectors">NLO selectors</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Universal-selector">Universal selector</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Selectors">Selectors</a>

</div>

<h4 class="subsection">5.7.6 Minimum selector</h4>

<p>This selector can combine several selectors to pass an event if either those passes the event. 
It is mainly designed to generate more inclusive samples that, for instance, include several
jet finders and that allows a specification later. The syntax is

<pre class="verbatim">MinSelector {
  Selector 1
  Selector 2
  ...
} 
</pre>

<div class="node">
<a name="NLO-selectors"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Fastjet-selector">Fastjet selector</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Minimum-selector">Minimum selector</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Selectors">Selectors</a>

</div>

<h4 class="subsection">5.7.7 NLO selectors</h4>

<p>Phase-space cuts that are applied on next-to-leading order calculations must be defined in a
infrared safe way. Technically there is also a special treatment for the real (subtracted)
correction required. Currently only the following selectors meet this requirement:

     <dl>
<dt>QCD parton cuts<dd>
<pre class="verbatim">     NJetFinder &lt;n> &lt;ptmin> &lt;etmin> &lt;D parameter> [&lt;exponent>] [&lt;eta max>] [&lt;mass max>]
</pre>
(see <a href="#Jet-finders">Jet finders</a>)

     <br><dt>Cuts on not strongly interacting particles<dd>
<a href="#One-particle-selectors">One particle selectors</a>
<pre class="verbatim">     PTNLO &lt;flavour code> &lt;min value> &lt;max value>
     RapidityNLO &lt;flavour code> &lt;min value> &lt;max value>
     PseudoRapidityNLO &lt;flavour code> &lt;min value> &lt;max value>
</pre>

     <p><a href="#Two-particle-selectors">Two particle selectors</a>
<pre class="verbatim">     PT2NLO &lt;flavour1 code> &lt;flavour2 code> &lt;min value> &lt;max value>
     Mass &lt;flavour1 code> &lt;flavour2 code> &lt;min value> &lt;max value>
</pre>

     <br><dt>Cuts on photons<dd>
<pre class="verbatim">     IsolationCut 22 &lt;dR> &lt;exponent> &lt;epsilon>
</pre>
implements the Frixione isolation cone 
[<a href="#Frixione1998jh">Fri98</a>].

     <br><dt>The <a href="#Minimum-selector">Minimum selector</a> can be used if constructed with other selectors mentioned in this section<dd>
</dl>

<div class="node">
<a name="Fastjet-selector"></a>
<p><hr>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#NLO-selectors">NLO selectors</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Selectors">Selectors</a>

</div>

<h4 class="subsection">5.7.8 Fastjet selector</h4>

<p>If <a href="http://www.fastjet.fr">FastJet</a> is enabled, the momenta and nodal
values of the jets found with Fastjet can be used to calculate more elaborate
selector criteria. The syntax of this selector is

<pre class="verbatim">FastjetSelector &lt;expression> &lt;algorithm> &lt;n> &lt;ptmin> &lt;etmin> &lt;dr> [&lt;f(siscone)>=0.75] [&lt;eta-max>] [&lt;y-max>] [&lt;bmode>]
</pre>

<p>wherein <code>algorithm</code> can take the values <code>kt,antikt,cambridge,siscone</code>. 
In the algebraic <code>expression</code> <code>MU_n2</code> (n=2..njet+1) signify the nodal
values of the jets found and <code>p[i]</code> are their momenta. For details see
<a href="#Scale-setters">Scale setters</a>. For example, in lepton pair production in
association with jets

<pre class="verbatim">FastjetSelector Mass(p[4]+p[5])>100. antikt 2 40. 0. 0.5
</pre>

<p>selects all phase space points where two anti-kt jets with at least 40 GeV of
transverse momentum and an invariant mass of at least 100 GeV are found. The
expression must calculate a boolean value. 
The <code>bmode</code> parameter, if specified different from its default 0, allows
to use b-tagged jets only, based on the parton-level constituents of the jets. 
There are two options: With <code>&lt;bmode&gt;=1</code> both b and anti-b quarks are
counted equally towards b-jets, while for <code>&lt;bmode&gt;=2</code> they are added with a
relative sign as constituents, i.e. a jet containing b and anti-b is not tagged.

<div class="node">
<a name="Integration"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Hard-decays">Hard decays</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Selectors">Selectors</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Parameters">Parameters</a>

</div>

<h3 class="section">5.8 Integration</h3>

<p>The integration setup is covered by the `(integration)' section of
the steering file or the integration data file `Integration.dat',
respectively.

<p>The following parameters are used to steer the integration.

<ul class="menu">
<li><a accesskey="1" href="#INTEGRATION_005fERROR">INTEGRATION_ERROR</a>:     The relative integration error
<li><a accesskey="2" href="#INTEGRATOR">INTEGRATOR</a>:            The integrator type
<li><a accesskey="3" href="#VEGAS">VEGAS</a>:                 Whether to enable Vegas
<li><a accesskey="4" href="#FINISH_005fOPTIMIZATION">FINISH_OPTIMIZATION</a>:   Whether to fully optimise the Vegas grid
<li><a accesskey="5" href="#PSI_005fNMAX">PSI_NMAX</a>:              Maximum number of points per process
<li><a accesskey="6" href="#PSI_005fITMIN">PSI_ITMIN</a>:             Minimum number of points per iteration cycle
<li><a accesskey="7" href="#PSI_005fITMAX">PSI_ITMAX</a>:             Maximum number of points per iteration cycle
</ul>

<div class="node">
<a name="INTEGRATION_ERROR"></a>
<a name="INTEGRATION_005fERROR"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#INTEGRATOR">INTEGRATOR</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Integration">Integration</a>

</div>

<h4 class="subsection">5.8.1 INTEGRATION_ERROR</h4>

<p><a name="index-INTEGRATION_005fERROR-120"></a>Specifies the relative integration error target.

<div class="node">
<a name="INTEGRATOR"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#VEGAS">VEGAS</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#INTEGRATION_005fERROR">INTEGRATION_ERROR</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Integration">Integration</a>

</div>

<h4 class="subsection">5.8.2 INTEGRATOR</h4>

<p><a name="index-INTEGRATOR-121"></a>Specifies the integrator. The possible integrator types
depend on the matrix element generator. In general users
should rely on the default value and otherwise seek the
help of the authors, see <a href="#Authors">Authors</a>. 
Within AMEGIC++ the options <samp><span class="option">AMEGIC_INTEGRATOR</span></samp> and
<samp><span class="option">AMEGIC_RS_INTEGRATOR</span></samp> can be used to steer the behaviour
of the default integrator
     <ul>
<li><samp><span class="option">4</span></samp>: building up the channels is achieved through
respecting the peak structure given by the propagators. The
algorithm works recursively starting from the initial state. 
<li><samp><span class="option">5</span></samp>: this is an extension of option 4. In the case of competing peaks (e.g. a Higgs boson decaying into W+W−, which further decay), additional channels are produced to account for all kinematical conﬁgurations where one
of the propagating particles is produced on its mass shell. 
<li><samp><span class="option">6</span></samp>: in contrast to option 4 the algorithm now starts from the
ﬁnal state. The extra channels described in option 5 are produced as well. 
This is the default integrator. 
<li><samp><span class="option">7</span></samp>: Same as option <samp><span class="option">4</span></samp> but with tweaked
exponents. Optimised for the integration of real-subtracted
matrix-elements. 
</ul>
In addition, a few ME-generator independent integrators
have been implemented for specific processes:
     <ul>
<li><samp><span class="option">Rambo</span></samp>: RAMBO 
[<a href="#Kleiss1985gy">Kle85a</a>]. Generates isotropic
final states. 
<li><samp><span class="option">VHAAG</span></samp>: Vegas-improved HAAG integrator 
[<a href="#vanHameren2002tc">Ham02</a>]. 
<li><samp><span class="option">VHAAG_res</span></samp>: is an integrator for a final state of a weak boson,
decaying into two particles plus two or more jets based on HAAG 
[<a href="#vanHameren2002tc">Ham02</a>]. 
When this integrator is used the keyword <code>VHAAG_RES_KF</code> specifies
the kf-code of the weak boson, the default is W (<code>24</code>). 
<code>VHAAG_RES_D1</code> and <code>VHAAG_RES_D2</code> define the
positions of the Boson decay products within the internal
naming scheme, where <code>2</code> is the position of the first
outgoing particle. The defaults are <code>VHAAG_RES_D1=2</code>
and <code>VHAAG_RES_D2=3</code>, which is the correct choice for
all processes where the decay products are the only not
strongly interacting final state particles. 
</ul>

<div class="node">
<a name="VEGAS"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#FINISH_005fOPTIMIZATION">FINISH_OPTIMIZATION</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#INTEGRATOR">INTEGRATOR</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Integration">Integration</a>

</div>

<h4 class="subsection">5.8.3 VEGAS</h4>

<p><a name="index-VEGAS-122"></a>Specifies whether or not to employ Vegas for adaptive integration. 
The two possible values are <samp><span class="option">On</span></samp> and <samp><span class="option">Off</span></samp>, the
default being <samp><span class="option">On</span></samp>.

<div class="node">
<a name="FINISH_OPTIMIZATION"></a>
<a name="FINISH_005fOPTIMIZATION"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#PSI_005fNMAX">PSI_NMAX</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#VEGAS">VEGAS</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Integration">Integration</a>

</div>

<h4 class="subsection">5.8.4 FINISH_OPTIMIZATION</h4>

<p><a name="index-FINISH_005fOPTIMIZATION-123"></a>Specifies whether the full Vegas optimization is to be carried out. 
The two possible options are <samp><span class="option">On</span></samp> and <samp><span class="option">Off</span></samp>, the
default being <samp><span class="option">On</span></samp>.

<div class="node">
<a name="PSI_NMAX"></a>
<a name="PSI_005fNMAX"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#PSI_005fITMIN">PSI_ITMIN</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#FINISH_005fOPTIMIZATION">FINISH_OPTIMIZATION</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Integration">Integration</a>

</div>

<h4 class="subsection">5.8.5 PSI_NMAX</h4>

<p><a name="index-PSI_005fNMAX-124"></a>The maximum number of points before cuts to be generated during integration. 
This parameter acts on a process-by-process basis.

<div class="node">
<a name="PSI_ITMIN"></a>
<a name="PSI_005fITMIN"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#PSI_005fITMAX">PSI_ITMAX</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#PSI_005fNMAX">PSI_NMAX</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Integration">Integration</a>

</div>

<h4 class="subsection">5.8.6 PSI_ITMIN</h4>

<p><a name="index-PSI_005fITMIN-125"></a>The minimum number of points used for every optimisation cycle. Please note
that it might be increased automatically for complicated processes.

<div class="node">
<a name="PSI_ITMAX"></a>
<a name="PSI_005fITMAX"></a>
<p><hr>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#PSI_005fITMIN">PSI_ITMIN</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Integration">Integration</a>

</div>

<h4 class="subsection">5.8.7 PSI_ITMAX</h4>

<p><a name="index-PSI_005fITMAX-126"></a>The maximum number of points used for every optimisation cycle. Please note
that for complicated processes the number given might be insufficient for
a meaningful optimisation.

<div class="node">
<a name="Hard-decays"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Shower-Parameters">Shower Parameters</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Integration">Integration</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Parameters">Parameters</a>

</div>

<h3 class="section">5.9 Hard decays</h3>

<p><a name="index-HARD_005fDECAYS-127"></a><a name="index-STABLE_005b_003cid_003e_005d-128"></a>
The handler for decays of particles produced in the hard scattering process
(e.g. W, Z, top, Higgs) can be enabled using the <samp><span class="option">HARD_DECAYS=1</span></samp> switch. 
Which (anti)particles should be treated as unstable is determined by the
<samp><span class="option">STABLE[&lt;id&gt;]</span></samp> switch described in <a href="#Models">Models</a>.

<p>This decay module can also be used on top of NLO matrix elements, but it does
not include any NLO corrections in the decay matrix elements themselves.

<p>Note that the decay handler is an afterburner at the event generation level. 
It does not affect the calculation and integration of the hard scattering
matrix elements. The cross section is thus unaffected during integration, and
the branching ratios (if any decay channels have been disabled) are only taken
into account for the event weights and cross section output at the end of event
generation (if not disabled with the <samp><span class="option">HDH_BR_WEIGHTS</span></samp> option, cf. below). 
Furthermore any cuts or scale definitions are not affected by decays
and operate only on the inclusively produced particles before decays.

<ul class="menu">
<li><a accesskey="1" href="#HDH_005fSTATUS">HDH_STATUS</a>
<li><a accesskey="2" href="#HDH_005fWIDTH">HDH_WIDTH</a>
<li><a accesskey="3" href="#HARD_005fSPIN_005fCORRELATIONS">HARD_SPIN_CORRELATIONS</a>
<li><a accesskey="4" href="#STORE_005fDECAY_005fRESULTS">STORE_DECAY_RESULTS</a>
<li><a accesskey="5" href="#DECAY_005fRESULT_005fDIRECTORY">DECAY_RESULT_DIRECTORY</a>
<li><a accesskey="6" href="#HDH_005fSET_005fWIDTHS">HDH_SET_WIDTHS</a>
<li><a accesskey="7" href="#HDH_005fBR_005fWEIGHTS">HDH_BR_WEIGHTS</a>
<li><a accesskey="8" href="#HARD_005fMASS_005fSMEARING">HARD_MASS_SMEARING</a>
<li><a accesskey="9" href="#RESOLVE_005fDECAYS">RESOLVE_DECAYS</a>
<li><a href="#DECAY_005fTAU_005fHARD">DECAY_TAU_HARD</a>
<li><a href="#Decay-table-integration-settings">Decay table integration settings</a>
</ul>

<div class="node">
<a name="HDH_STATUS"></a>
<a name="HDH_005fSTATUS"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#HDH_005fWIDTH">HDH_WIDTH</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Hard-decays">Hard decays</a>

</div>

<h4 class="subsection">5.9.1 HDH_STATUS</h4>

<p><a name="index-HDH_005fSTATUS_005b_003cidcode_003e_005d-129"></a>
This option allows to explicitly force or disable a decay channel identified
by its ID code (which can be found in the decay table printed to screen during
the run). 
The status can take the following values:
     <dl>
<dt><samp><span class="option">HDH_STATUS[&lt;idcode&gt;]=-1</span></samp><dd>Decay channel is disabled and does not contribute to total width. 
<br><dt><samp><span class="option">HDH_STATUS[&lt;idcode&gt;]=0</span></samp><dd>Decay channel is disabled but contributes to total width. 
<br><dt><samp><span class="option">HDH_STATUS[&lt;idcode&gt;]=1 (default)</span></samp><dd>Decay channel is enabled. 
<br><dt><samp><span class="option">HDH_STATUS[&lt;idcode&gt;]=2</span></samp><dd>Decay channel is forced. 
</dl>
For example, to disable the hadronic decay channels of the W boson one would use:
<pre class="verbatim">HDH_STATUS[24,2,-1]=0
HDH_STATUS[24,4,-3]=0
HDH_STATUS[-24,-2,1]=0
HDH_STATUS[-24,-4,3]=0
</pre>
In the same way, the bottom decay mode of the Higgs could be forced using:
<pre class="verbatim">HDH_STATUS[25,5,-5]=2
</pre>

<p>Note that the ordering of the decay products in <samp><span class="option">&lt;idcode&gt;</span></samp> is important and
has to be identical to the ordering in the decay table printed to screen. 
Multiple decay channels (also for different decaying particles and
antiparticles) can be specified as separate lines. It is also possible to
request multiple forced decay channels for the same particle, all other channels
will then automatically be disabled.

<div class="node">
<a name="HDH_WIDTH"></a>
<a name="HDH_005fWIDTH"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#HARD_005fSPIN_005fCORRELATIONS">HARD_SPIN_CORRELATIONS</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#HDH_005fSTATUS">HDH_STATUS</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Hard-decays">Hard decays</a>

</div>

<h4 class="subsection">5.9.2 HDH_WIDTH</h4>

<p><a name="index-HDH_005fWIDTH_005b_003cidcode_003e_005d-130"></a>
This option allows to overwrite the calculated partial width (in GeV) of a given decay
channel, and even to add new inactive channels which contribute to the total
width. This is useful to adjust the branching ratios, which are used for the
relative contributions of different channels and also influence the cross
section during event generation, as well as the total width which is used for
the lineshape of the resonance.

<p>An example to set (/add) the partial widths of the <code>H-&gt;ff</code>, <code>H-&gt;gg</code>
and <code>H-&gt;yy</code> channels can be seen in the following. The values have been
taken from
<a href="https://twiki.cern.ch/twiki/bin/view/LHCPhysics/CERNYellowReportPageBR3">LHCHXSWG</a>)
for <code>MASS[25]=125</code> and <code>WIDTH[25]=0.00407</code>:

<pre class="verbatim">HDH_WIDTH[25,5,-5]=2.35e-3
HDH_WIDTH[25,15,-15]=2.57e-4
HDH_WIDTH[25,13,-13]=8.91e-7
HDH_WIDTH[25,4,-4]=1.18e-4
HDH_WIDTH[25,3,-3]=1.00e-6
HDH_WIDTH[25,21,21]=3.49e-4
HDH_WIDTH[25,22,22]=9.28e-6
</pre>

<p>Another example, setting the leptonic and hadronic decay channels of W and Z
bosons to the PDG values, would be specified as follows:
<pre class="verbatim">HDH_WIDTH[24,2,-1]=0.7041
HDH_WIDTH[24,4,-3]=0.7041
HDH_WIDTH[24,12,-11]=0.2256
HDH_WIDTH[24,14,-13]=0.2256
HDH_WIDTH[24,16,-15]=0.2256
HDH_WIDTH[-24,-2,1]=0.7041
HDH_WIDTH[-24,-4,3]=0.7041
HDH_WIDTH[-24,-12,11]=0.2256
HDH_WIDTH[-24,-14,13]=0.2256
HDH_WIDTH[-24,-16,15]=0.2256
HDH_WIDTH[23,1,-1]=0.3828
HDH_WIDTH[23,2,-2]=0.2980
HDH_WIDTH[23,3,-3]=0.3828
HDH_WIDTH[23,4,-4]=0.2980
HDH_WIDTH[23,5,-5]=0.3828
HDH_WIDTH[23,11,-11]=0.0840
HDH_WIDTH[23,12,-12]=0.1663
HDH_WIDTH[23,13,-13]=0.0840
HDH_WIDTH[23,14,-14]=0.1663
HDH_WIDTH[23,15,-15]=0.0840
HDH_WIDTH[23,16,-16]=0.1663
</pre>

<div class="node">
<a name="HARD_SPIN_CORRELATIONS"></a>
<a name="HARD_005fSPIN_005fCORRELATIONS"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#STORE_005fDECAY_005fRESULTS">STORE_DECAY_RESULTS</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#HDH_005fWIDTH">HDH_WIDTH</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Hard-decays">Hard decays</a>

</div>

<h4 class="subsection">5.9.3 HARD_SPIN_CORRELATIONS</h4>

<p><a name="index-HARD_005fSPIN_005fCORRELATIONS-131"></a>
Spin correlations between the hard scattering process and the following decay
processes are enabled by default. If you want to disable them, e.g. for spin
correlation studies, you can specify the option
<samp><span class="option">HARD_SPIN_CORRELATIONS=0</span></samp>.

<div class="node">
<a name="STORE_DECAY_RESULTS"></a>
<a name="STORE_005fDECAY_005fRESULTS"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#DECAY_005fRESULT_005fDIRECTORY">DECAY_RESULT_DIRECTORY</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#HARD_005fSPIN_005fCORRELATIONS">HARD_SPIN_CORRELATIONS</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Hard-decays">Hard decays</a>

</div>

<h4 class="subsection">5.9.4 STORE_DECAY_RESULTS</h4>

<p><a name="index-STORE_005fDECAY_005fRESULTS-132"></a>
The decay table and partial widths are calculated on-the-fly during the
initialization phase of Sherpa from the given model and its particles and
interaction vertices. To store these results in the <code>Results/Decays</code>
directory, one has to specify <samp><span class="option">STORE_DECAY_RESULTS=1</span></samp>. In case
existing decay tables are to be read in <samp><span class="option">STORE_DECAY_RESULTS=1</span></samp>
is to be specified as well. Please note, that Sherpa will delete decay
channels present in the read in results but not in the present model with
present parameters by default. To prevent Sherpa from updating the
decay table files accordingly specify <samp><span class="option">STORE_DECAY_RESULTS=2</span></samp>.

<div class="node">
<a name="DECAY_RESULT_DIRECTORY"></a>
<a name="DECAY_005fRESULT_005fDIRECTORY"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#HDH_005fSET_005fWIDTHS">HDH_SET_WIDTHS</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#STORE_005fDECAY_005fRESULTS">STORE_DECAY_RESULTS</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Hard-decays">Hard decays</a>

</div>

<h4 class="subsection">5.9.5 DECAY_RESULT_DIRECTORY</h4>

<p><a name="index-DECAY_005fRESULT_005fDIRECTORY-133"></a>
Specifies the name of the directory where the decay results are to be
stored. Defaults to the value of <a href="#RESULT_005fDIRECTORY">RESULT_DIRECTORY</a>.

<div class="node">
<a name="HDH_SET_WIDTHS"></a>
<a name="HDH_005fSET_005fWIDTHS"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#HDH_005fBR_005fWEIGHTS">HDH_BR_WEIGHTS</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#DECAY_005fRESULT_005fDIRECTORY">DECAY_RESULT_DIRECTORY</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Hard-decays">Hard decays</a>

</div>

<h4 class="subsection">5.9.6 HDH_SET_WIDTHS</h4>

<p><a name="index-HDH_005fSET_005fWIDTHS-134"></a><a name="index-WIDTH_005b_003cid_003e_005d-135"></a>
The decay handler computes LO partial and total decay widths and generates
decays with corresponding branching fractions, independently from the particle
widths specified by <samp><span class="option">WIDTH[&lt;id&gt;]</span></samp>. The latter are relevant only for the
core process and should be set to zero for all unstable particles appearing
in the core-process final state. This guarantees on-shellness and gauge
invariance of the core process, and subsequent decays can be handled by the
afterburner. 
In constrast, <samp><span class="option">WIDTH[&lt;id&gt;]</span></samp> should be set to the physical width when unstable
particles appear (only) as intermediate states in the core process, i.e. when
production and decay are handled as a full process or using
<code>Decay</code>/<code>DecayOS</code>. 
In this case, the option <samp><span class="option">HDH_SET_WIDTHS=1</span></samp> permits to overwrite the
<samp><span class="option">WIDTH[&lt;id&gt;]</span></samp> values of unstable particles by the LO widths computed by
the decay handler.

<div class="node">
<a name="HDH_BR_WEIGHTS"></a>
<a name="HDH_005fBR_005fWEIGHTS"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#HARD_005fMASS_005fSMEARING">HARD_MASS_SMEARING</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#HDH_005fSET_005fWIDTHS">HDH_SET_WIDTHS</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Hard-decays">Hard decays</a>

</div>

<h4 class="subsection">5.9.7 HDH_BR_WEIGHTS</h4>

<p><a name="index-HDH_005fBR_005fWEIGHTS-136"></a>
By default (<samp><span class="option">HDH_BR_WEIGHTS=1</span></samp>), weights for events which involve a hard
decay are multiplied with the corresponding branching ratios (if decay channels
have been disabled). This also means that the total cross section at the end of
the event generation run already includes the appropriate BR factors. If you
want to disable that, e.g. because you want to multiply with your own modified
BR, you can set the option <samp><span class="option">HDH_BR_WEIGHTS=0</span></samp>.

<div class="node">
<a name="HARD_MASS_SMEARING"></a>
<a name="HARD_005fMASS_005fSMEARING"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#RESOLVE_005fDECAYS">RESOLVE_DECAYS</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#HDH_005fBR_005fWEIGHTS">HDH_BR_WEIGHTS</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Hard-decays">Hard decays</a>

</div>

<h4 class="subsection">5.9.8 HARD_MASS_SMEARING</h4>

<p><a name="index-HARD_005fMASS_005fSMEARING-137"></a>
With the default of <samp><span class="option">HARD_MASS_SMEARING=1</span></samp> the kinematic mass of the unstable
propagator is distributed according to a Breit-Wigner shape a posteriori. All
matrix elements are still calculated in the narrow-width approximation with
onshell particles. Only the kinematics are affected. 
To keep all intermediate particles onshell use <samp><span class="option">HARD_MASS_SMEARING=0</span></samp>.

<div class="node">
<a name="RESOLVE_DECAYS"></a>
<a name="RESOLVE_005fDECAYS"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#DECAY_005fTAU_005fHARD">DECAY_TAU_HARD</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#HARD_005fMASS_005fSMEARING">HARD_MASS_SMEARING</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Hard-decays">Hard decays</a>

</div>

<h4 class="subsection">5.9.9 RESOLVE_DECAYS</h4>

<p><a name="index-RESOLVE_005fDECAYS-138"></a>
There are different options how to decide when a 1-&gt;2 process should be replaced
by the respective 1-&gt;3 processes built from its decaying daughter particles.

     <dl>
<dt><samp><span class="option">RESOLVE_DECAYS=Threshold</span></samp><dd>(default)
Only when the sum of decay product masses exceeds the decayer mass. 
<br><dt><samp><span class="option">RESOLVE_DECAYS=ByWidth</span></samp><dd>As soon as the sum of 1-&gt;3 partial widths exceeds the 1-&gt;2 partial width. 
<br><dt><samp><span class="option">RESOLVE_DECAYS=None</span></samp><dd>No 1-&gt;3 decays are taken into account. 
</dl>

<div class="node">
<a name="DECAY_TAU_HARD"></a>
<a name="DECAY_005fTAU_005fHARD"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Decay-table-integration-settings">Decay table integration settings</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#RESOLVE_005fDECAYS">RESOLVE_DECAYS</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Hard-decays">Hard decays</a>

</div>

<h4 class="subsection">5.9.10 DECAY_TAU_HARD</h4>

<p><a name="index-DECAY_005fTAU_005fHARD-139"></a>
By default, the tau lepton is decayed by the hadron decay module,
<a href="#Hadron-decays">Hadron decays</a>, which includes not only the leptonic decay channels but
also the hadronic modes. If <samp><span class="option">DECAY_TAU_HARD=1</span></samp> is specified, the tau
lepton will be decayed in the hard decay handler, which only takes leptonic and
partonic decay modes into account. Note, that in this case the tau needs to also
be set massive with <samp><span class="option">MASSIVE[15]=1</span></samp>.

<div class="node">
<a name="Decay-table-integration-settings"></a>
<p><hr>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#DECAY_005fTAU_005fHARD">DECAY_TAU_HARD</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Hard-decays">Hard decays</a>

</div>

<h4 class="subsection">5.9.11 Decay table integration settings</h4>

<p><a name="index-HDH_005fINT_005fACCURACY-140"></a><a name="index-HDH_005fINT_005fTARGET_005fMODE-141"></a><a name="index-HDH_005fINT_005fNITER-142"></a>
Three parameters can be used to steer the accuracy and time consumption of the
calculation of the partial widths in the decay table:
<samp><span class="option">HDH_INT_ACCURACY=0.01</span></samp> specifies a relative accuracy for the
integration. The corresponding target reference is either the given total width
of the decaying particle (<samp><span class="option">HDH_INT_TARGET_MODE=0</span></samp>, default) or the
calculated partial decay width (<samp><span class="option">HDH_INT_TARGET_MODE=1</span></samp>). 
The option <samp><span class="option">HDH_INT_NITER=2500</span></samp> can be used to change the number of
points per integration iteration, and thus also the minimal number of points to
be used in an integration.

<div class="node">
<a name="Shower-Parameters"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#MPI-Parameters">MPI Parameters</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Hard-decays">Hard decays</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Parameters">Parameters</a>

</div>

<h3 class="section">5.10 Parton showers</h3>

<p>The shower setup is covered by the `(shower)' section of
the steering file or the shower data file `Shower.dat',
respectively.

<p>The following parameters are used to steer the shower setup.

<ul class="menu">
<li><a accesskey="1" href="#SHOWER_005fGENERATOR">SHOWER_GENERATOR</a>:       Tag to set Sherpa's shower generator. 
<li><a accesskey="2" href="#JET_005fCRITERION">JET_CRITERION</a>:          Tag to set Sherpa's jet criterion. 
<li><a accesskey="3" href="#MASSIVE_005fPS">MASSIVE_PS</a>:             Tag to treat partons as massive in the shower. 
<li><a accesskey="4" href="#MASSLESS_005fPS">MASSLESS_PS</a>:            Tag to treat partons as massless in the shower.

<li><a accesskey="5" href="#CS-Shower-options">CS Shower options</a>:      Options for Sherpa's default shower. 
</ul>

<div class="node">
<a name="SHOWER_GENERATOR"></a>
<a name="SHOWER_005fGENERATOR"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#JET_005fCRITERION">JET_CRITERION</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Shower-Parameters">Shower Parameters</a>

</div>

<h4 class="subsection">5.10.1 SHOWER_GENERATOR</h4>

<p>The only full-fledged shower currently available in Sherpa is
<samp><span class="option">CSS</span></samp>, and this is the default for this tag. See the
module summaries in <a href="#Basic-structure">Basic structure</a> for details about
this shower. For cross-checks in pure parton shower setups,
one can use <samp><span class="option">Dire</span></samp>. In this case, one also needs to
set <samp><span class="option">CSS_IS_AS_FAC=1</span></samp>, <samp><span class="option">CSS_FS_AS_FAC=1</span></samp>,
<samp><span class="option">CSS_IS_PT2MIN=3</span></samp>, and <samp><span class="option">CSS_FS_PT2MIN=3</span></samp>.

<p>Other shower modules are in principle supported and more
choices will be provided by Sherpa in the near future. 
To list all available shower modules, the tag
<code>SHOW_SHOWER_GENERATORS=1</code> can be specified on the
command line.

<p><code>SHOWER_GENERATOR=None</code> switches parton showering off completely. 
However, even in the case of strict fixed order calculations, this might
not be the desired behaviour as, for example, then neither the METS scale
setter, cf. <a href="#SCALES">SCALES</a>, nor Sudakov rejection weights can be employed. 
To circumvent when using the CS Shower see <a href="#CS-Shower-options">CS Shower options</a>.

<div class="node">
<a name="JET_CRITERION"></a>
<a name="JET_005fCRITERION"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#MASSIVE_005fPS">MASSIVE_PS</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#SHOWER_005fGENERATOR">SHOWER_GENERATOR</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Shower-Parameters">Shower Parameters</a>

</div>

<h4 class="subsection">5.10.2 JET_CRITERION</h4>

<p>The only natively supported option in Sherpa is <samp><span class="option">CSS</span></samp>,
and this is also the default. The corresponding jet criterion is described
in 
[<a href="#Hoeche2009rj">Hoe09</a>]. A custom jet criterion, tailored to a specific
experimental analysis, can be supplied using Sherpa's plugin mechanism.

<div class="node">
<a name="MASSIVE_PS"></a>
<a name="MASSIVE_005fPS"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#MASSLESS_005fPS">MASSLESS_PS</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#JET_005fCRITERION">JET_CRITERION</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Shower-Parameters">Shower Parameters</a>

</div>

<h4 class="subsection">5.10.3 MASSIVE_PS</h4>

<p>This option instructs Sherpa to treat certain partons as massive
in the shower, which have been considered massless by the matrix element. 
The argument is a list of parton flavours, for example <samp><span class="option">MASSIVE_PS 4 5</span></samp>,
if both c- and b-quarks are to be treated as massive.

<div class="node">
<a name="MASSLESS_PS"></a>
<a name="MASSLESS_005fPS"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#CS-Shower-options">CS Shower options</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#MASSIVE_005fPS">MASSIVE_PS</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Shower-Parameters">Shower Parameters</a>

</div>

<h4 class="subsection">5.10.4 MASSLESS_PS</h4>

<p>When hard decays are used, Sherpa treats all flavours as massive in the parton
shower. This option instructs Sherpa to treat certain partons as massless
in the shower nonetheless. The argument is a list of parton flavours, for
example <samp><span class="option">MASSLESS_PS 1 2 3</span></samp>, if u-, d- and s-quarks are to be treated
as massless.

<div class="node">
<a name="CS-Shower-options"></a>
<p><hr>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#MASSLESS_005fPS">MASSLESS_PS</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Shower-Parameters">Shower Parameters</a>

</div>

<h4 class="subsection">5.10.5 CS Shower options</h4>

<p><a name="index-CSS_005fKIN_005fSCHEME-143"></a><a name="index-CSS_005fIS_005fPT2MIN-144"></a><a name="index-CSS_005fFS_005fPT2MIN-145"></a><a name="index-CSS_005fIS_005fAS_005fFAC-146"></a><a name="index-CSS_005fFS_005fAS_005fFAC-147"></a><a name="index-CSS_005fEW_005fMODE-148"></a><a name="index-CSS_005fNOEM-149"></a><a name="index-CSS_005fMAXEM-150"></a><a name="index-CSS_005fMASS_005fTHRESHOLD-151"></a><a name="index-CSS_005fEVOLUTION_005fSCHEME-152"></a><a name="index-CSS_005fSCALE_005fSCHEME-153"></a>
Sherpa's default shower module is based on 
[<a href="#Schumann2007mg">Sch07a</a>]. 
A new ordering parameter for initial state splitters was introduced
in 
[<a href="#Hoeche2009rj">Hoe09</a>] and a novel recoil strategy for initial state
splittings was proposed in 
[<a href="#Hoeche2009xc">Hoe09a</a>]. 
While the ordering variable is fixed, the recoil strategy for dipoles
with initial-state emitter and final-state spectator can be changed
for systematics studies. Setting <samp><span class="option">CSS_KIN_SCHEME=0</span></samp> (default)
corresponds to using the recoil scheme proposed in 
[<a href="#Hoeche2009xc">Hoe09a</a>],
while <samp><span class="option">CSS_KIN_SCHEME=1</span></samp> enables the original recoil strategy. 
The lower cutoff of the shower evolution can be set via <samp><span class="option">CSS_FS_PT2MIN</span></samp>
and <samp><span class="option">CSS_IS_PT2MIN</span></samp> for final and initial state shower, respectively. 
Note that this value is specified in GeV^2. Scale factors for the evaluation
of the strong coupling in the parton shower are given by <samp><span class="option">CSS_FS_AS_FAC</span></samp>
and <samp><span class="option">CSS_IS_AS_FAC</span></samp>. They multiply the ordering parameter, which is
given in units of GeV^2.

<p>By default, only QCD splitting functions are enabled in the shower. 
If you also want to allow for photon splittings, you can enable them
by using <samp><span class="option">CSS_EW_MODE=1</span></samp>. Note, that if you have leptons in your
matrix-element final state, they are by default treated by a soft
photon resummation as explained in <a href="#QED-Corrections">QED Corrections</a>. To avoid
double counting, this has to be disabled as explained in that section.

<p>The CS Shower can be forced not to emit any partons setting
<samp><span class="option">CSS_NOEM=1</span></samp>. Sudakov rejection weights for merged samples
are calculated nontheless. Setting <samp><span class="option">CSS_MAXEM=&lt;N&gt;</span></samp>, on the
other hand, forces the CS Shower to truncate its evolution at the
Nth emission. This setting, however does not necessarily compute all
Sudakov weights correctly. Both settings still enable the CS Shower
to be used in the METS scale setter, cf. <a href="#SCALES">SCALES</a>.

<p>The evolution variable of the CS shower can be changed using
<samp><span class="option">CSS_EVOLUTION_SCHEME</span></samp>. Two options are currently implemented,
which correspond to transverse momentum ordering (option 0) and modified
transverse momentum ordering (option 1). The scale at which the strong
coupling for gluon splitting into quarks is evaluated can be chosen
with <samp><span class="option">CSS_SCALE_SCHEME</span></samp>, where 0 corresponds to the ordering
parameter and 1 corresponds to invariant mass. Additionally, the CS shower
allows to disable splittings at scales below the on-shell mass of heavy
quarks. The upper limit for the corresponding heavy quark mass is set
using <samp><span class="option">CSS_MASS_THRESHOLD</span></samp>.

<div class="node">
<a name="MPI-Parameters"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Hadronization">Hadronization</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Shower-Parameters">Shower Parameters</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Parameters">Parameters</a>

</div>

<h3 class="section">5.11 Multiple interactions</h3>

<p>The multiple parton interaction (MPI) setup is covered by
the `(mi)' section of the steering file or the
MPI data file `MI.dat', respectively. The basic MPI model is described
in 
[<a href="#Sjostrand1987su">Sjo87</a>] while Sherpa's implementation details are
discussed in 
[<a href="#Alekhin2005dx">Ale05</a>]

<p>The following parameters are used to steer the MPI setup.

<ul class="menu">
<li><a accesskey="1" href="#MI_005fHANDLER">MI_HANDLER</a>:           The MPI handler
<li><a accesskey="2" href="#TURNOFF">TURNOFF</a>:              The p_T turnoff
<li><a accesskey="3" href="#SCALE_005fMIN">SCALE_MIN</a>:            The p_T cutoff
<li><a accesskey="4" href="#PROFILE_005fFUNCTION">PROFILE_FUNCTION</a>:     The hadron profile function
<li><a accesskey="5" href="#PROFILE_005fPARAMETERS">PROFILE_PARAMETERS</a>:   The hadron profile function
<li><a accesskey="6" href="#REFERENCE_005fSCALE">REFERENCE_SCALE</a>:      The reference scale
<li><a accesskey="7" href="#RESCALE_005fEXPONENT">RESCALE_EXPONENT</a>:     The rescaling exponent
<li><a accesskey="8" href="#TURNOFF_005fEXPONENT">TURNOFF_EXPONENT</a>:     The rescaling exponent for the turnoff
<li><a accesskey="9" href="#SIGMA_005fND_005fFACTOR">SIGMA_ND_FACTOR</a>:      The non-diffractive cross section factor
<li><a href="#MI_005fRESULT_005fDIRECTORY">MI_RESULT_DIRECTORY</a>:  The directory for the MPI grid
<li><a href="#MI_005fRESULT_005fDIRECTORY_005fSUFFIX">MI_RESULT_DIRECTORY_SUFFIX</a>:  The suffix for the directory for the MPI grid
</ul>

<div class="node">
<a name="MI_HANDLER"></a>
<a name="MI_005fHANDLER"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#TURNOFF">TURNOFF</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#MPI-Parameters">MPI Parameters</a>

</div>

<h4 class="subsection">5.11.1 MI_HANDLER</h4>

<p><a name="index-MI_005fHANDLER-154"></a>Specifies the MPI handler. The two possible values
at the moment are <samp><span class="option">None</span></samp> and <samp><span class="option">Amisic</span></samp>.

<div class="node">
<a name="TURNOFF"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#SCALE_005fMIN">SCALE_MIN</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#MI_005fHANDLER">MI_HANDLER</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#MPI-Parameters">MPI Parameters</a>

</div>

<h4 class="subsection">5.11.2 TURNOFF</h4>

<p><a name="index-TURNOFF-155"></a>Specifies the transverse momentum turnoff in GeV.

<div class="node">
<a name="SCALE_MIN"></a>
<a name="SCALE_005fMIN"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#PROFILE_005fFUNCTION">PROFILE_FUNCTION</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#TURNOFF">TURNOFF</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#MPI-Parameters">MPI Parameters</a>

</div>

<h4 class="subsection">5.11.3 SCALE_MIN</h4>

<p><a name="index-SCALE_005fMIN-156"></a>Specifies the transverse momentum integration cutoff in GeV.

<div class="node">
<a name="PROFILE_FUNCTION"></a>
<a name="PROFILE_005fFUNCTION"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#PROFILE_005fPARAMETERS">PROFILE_PARAMETERS</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#SCALE_005fMIN">SCALE_MIN</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#MPI-Parameters">MPI Parameters</a>

</div>

<h4 class="subsection">5.11.4 PROFILE_FUNCTION</h4>

<p><a name="index-PROFILE_005fFUNCTION-157"></a>Specifies the hadron profile function. The possible values are
<samp><span class="option">Exponential</span></samp>, <samp><span class="option">Gaussian</span></samp> and <samp><span class="option">Double_Gaussian</span></samp>. 
For the double gaussian profile, the relative core size and relative
matter fraction can be set using <a href="#PROFILE_005fPARAMETERS">PROFILE_PARAMETERS</a>.

<div class="node">
<a name="PROFILE_PARAMETERS"></a>
<a name="PROFILE_005fPARAMETERS"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#REFERENCE_005fSCALE">REFERENCE_SCALE</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#PROFILE_005fFUNCTION">PROFILE_FUNCTION</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#MPI-Parameters">MPI Parameters</a>

</div>

<h4 class="subsection">5.11.5 PROFILE_PARAMETERS</h4>

<p><a name="index-PROFILE_005fPARAMETERS-158"></a>The potential parameters for hadron profile functions, see
<a href="#PROFILE_005fFUNCTION">PROFILE_FUNCTION</a>. For double gaussian profiles there are
two parameters, corresponding to the relative core size and relative
matter fraction.

<div class="node">
<a name="REFERENCE_SCALE"></a>
<a name="REFERENCE_005fSCALE"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#RESCALE_005fEXPONENT">RESCALE_EXPONENT</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#PROFILE_005fPARAMETERS">PROFILE_PARAMETERS</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#MPI-Parameters">MPI Parameters</a>

</div>

<h4 class="subsection">5.11.6 REFERENCE_SCALE</h4>

<p><a name="index-REFERENCE_005fSCALE-159"></a>Specifies the centre-of-mass energy at which the transverse momentum
integration cutoff is used as is, see <a href="#SCALE_005fMIN">SCALE_MIN</a>. 
This parameter should not be changed by the user. The default is
&lsquo;<samp><span class="samp">1800</span></samp>&rsquo;, corresponding to Tevatron Run I energies.

<div class="node">
<a name="RESCALE_EXPONENT"></a>
<a name="RESCALE_005fEXPONENT"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#TURNOFF_005fEXPONENT">TURNOFF_EXPONENT</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#REFERENCE_005fSCALE">REFERENCE_SCALE</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#MPI-Parameters">MPI Parameters</a>

</div>

<h4 class="subsection">5.11.7 RESCALE_EXPONENT</h4>

<p><a name="index-RESCALE_005fEXPONENT-160"></a>Specifies the rescaling exponent for fixing the transverse momentum
integration cutoff at centre-of-mass energies different from the
reference scale, see <a href="#SCALE_005fMIN">SCALE_MIN</a>, <a href="#REFERENCE_005fSCALE">REFERENCE_SCALE</a>.

<div class="node">
<a name="TURNOFF_EXPONENT"></a>
<a name="TURNOFF_005fEXPONENT"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#SIGMA_005fND_005fFACTOR">SIGMA_ND_FACTOR</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#RESCALE_005fEXPONENT">RESCALE_EXPONENT</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#MPI-Parameters">MPI Parameters</a>

</div>

<h4 class="subsection">5.11.8 TURNOFF_EXPONENT</h4>

<p><a name="index-TURNOFF_005fEXPONENT-161"></a>Specifies the rescaling exponent for fixing the transverse momentum
turnoff at centre-of-mass energies different from the
reference scale, see <a href="#TURNOFF">TURNOFF</a>, <a href="#REFERENCE_005fSCALE">REFERENCE_SCALE</a>.

<div class="node">
<a name="SIGMA_ND_FACTOR"></a>
<a name="SIGMA_005fND_005fFACTOR"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#MI_005fRESULT_005fDIRECTORY">MI_RESULT_DIRECTORY</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#TURNOFF_005fEXPONENT">TURNOFF_EXPONENT</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#MPI-Parameters">MPI Parameters</a>

</div>

<h4 class="subsection">5.11.9 SIGMA_ND_FACTOR</h4>

<p><a name="index-SIGMA_005fND_005fFACTOR-162"></a>Specifies the factor to scale the non-diffractive cross section
calculated in the MPI initialisation.

<div class="node">
<a name="MI_RESULT_DIRECTORY"></a>
<a name="MI_005fRESULT_005fDIRECTORY"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#MI_005fRESULT_005fDIRECTORY_005fSUFFIX">MI_RESULT_DIRECTORY_SUFFIX</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#SIGMA_005fND_005fFACTOR">SIGMA_ND_FACTOR</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#MPI-Parameters">MPI Parameters</a>

</div>

<h4 class="subsection">5.11.10 MI_RESULT_DIRECTORY</h4>

<p><a name="index-MI_005fRESULT_005fDIRECTORY-163"></a>Specifies the name of the directory where the MPI grid is stored. The
default comprises the beam particles, their energies and the PDF used. 
In its default value, this information safeguards against using unsuitable
grids for the current calculation, assuming a standard <a href="#TUNE">TUNE</a> has
been used.

<div class="node">
<a name="MI_RESULT_DIRECTORY_SUFFIX"></a>
<a name="MI_005fRESULT_005fDIRECTORY_005fSUFFIX"></a>
<p><hr>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#MI_005fRESULT_005fDIRECTORY">MI_RESULT_DIRECTORY</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#MPI-Parameters">MPI Parameters</a>

</div>

<h4 class="subsection">5.11.11 MI_RESULT_DIRECTORY_SUFFIX</h4>

<p><a name="index-MI_005fRESULT_005fDIRECTORY_005fSUFFIX-164"></a>Supplements the default directory name for the MPI grid with a suffix.

<div class="node">
<a name="Hadronization"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#QED-Corrections">QED Corrections</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#MPI-Parameters">MPI Parameters</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Parameters">Parameters</a>

</div>

<h3 class="section">5.12 Hadronization</h3>

<p>The hadronization setup is covered by the `(fragmentation)' section of
the steering file or the fragmentation data file `Fragmentation.dat',
respectively.

<p>It covers the fragmentation of partons into primordial hadrons as well as the
decays of unstable hadrons into stable final states.

<ul class="menu">
<li><a accesskey="1" href="#Fragmentation">Fragmentation</a>:  The fragmentation module, and its parameters. 
<li><a accesskey="2" href="#Hadron-decays">Hadron decays</a>:  The hadron decay module, and its parameters. 
</ul>

<div class="node">
<a name="Fragmentation"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Hadron-decays">Hadron decays</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Hadronization">Hadronization</a>

</div>

<h4 class="subsection">5.12.1 Fragmentation</h4>

<h5 class="subsubsection">5.12.1.1 Fragmentation models</h5>

<p><a name="index-FRAGMENTATION-165"></a><a name="index-MSTJ-166"></a><a name="index-MSTP-167"></a><a name="index-MSTU-168"></a><a name="index-PARP-169"></a><a name="index-PARJ-170"></a><a name="index-PARU-171"></a>
The <code>FRAGMENTATION</code> parameter sets the fragmentation module to be employed
during event generation.
     <ul>
<li>      The default is <samp><span class="option">Ahadic</span></samp>, enabling Sherpa's native hadronization
      model AHADIC++, based on the cluster fragmentation model introduced in
      
[<a href="#Field1982dg">Fie82a</a>], 
[<a href="#Webber1983if">Web83</a>], 
[<a href="#Gottschalk1986bv">Got86</a>],
      and 
[<a href="#Marchesini1987cf">Mar87</a>] and implementing some modifications
      discussed in 
[<a href="#Winter2003tt">Win03</a>]. 
<li>      the hadronization can be disabled with the value <samp><span class="option">Off</span></samp>. 
<li>      To evaluate uncertainties stemming from the hadronization, Sherpa also
      provides an interface to the Lund string fragmentation in Pythia 6.4
      
[<a href="#Sjostrand2006za">Sjo06</a>] by using the setting <samp><span class="option">Lund</span></samp>. 
      In this case, the standard Pythia switches <samp><span class="option">MSTJ</span></samp>, <samp><span class="option">MSTP</span></samp>,
      <samp><span class="option">MSTU</span></samp>, <samp><span class="option">PARP</span></samp>, <samp><span class="option">PARJ</span></samp> and <samp><span class="option">PARU</span></samp>
      can be used to steer the behaviour of the Lund string, see
      
[<a href="#Sjostrand2006za">Sjo06</a>]. They are specified as
      <code>MSTJ(&lt;number&gt;)=&lt;value&gt;</code>. 
</ul>

<h5 class="subsubsection">5.12.1.2 Hadron constituents</h5>

<p><a name="index-M_005fUP_005fDOWN-172"></a><a name="index-M_005fSTRANGE-173"></a><a name="index-M_005fCHARM-174"></a><a name="index-M_005fBOTTOM-175"></a><a name="index-M_005fDIQUARK_005fOFFSET-176"></a><a name="index-M_005fBIND_005f0-177"></a><a name="index-M_005fBIND_005f1-178"></a>
The constituent masses of the quarks and diquarks are given by
     <ul>
<li><code>M_UP_DOWN</code> (175 MeV),
<li><code>M_STRANGE</code> (375 MeV),
<li><code>M_CHARM</code> (1.9 GeV), and
<li><code>M_BOTTOM</code> (5.2 GeV). 
</ul>
The diquark masses are composed of the quark
masses and some additional parameters,
with
     <ul>
<li><code>M_DIQUARK_OFFSET</code> (550 MeV),
<li><code>M_BIND_0</code> (0 MeV), and
<li><code>M_BIND_1</code> (200 MeV). 
</ul>

<h5 class="subsubsection">5.12.1.3 Hadron multiplets</h5>

<p><a name="index-MULTI_005fWEIGHT_005fL0R0_005fPSEUDOSCALARS-179"></a><a name="index-MULTI_005fWEIGHT_005fL0R0_005fVECTORS-180"></a><a name="index-MULTI_005fWEIGHT_005fL0R0_005fTENSORS2-181"></a><a name="index-MULTI_005fWEIGHT_005fL0R0_005fTENSORS3-182"></a><a name="index-MULTI_005fWEIGHT_005fL0R0_005fTENSORS4-183"></a><a name="index-MULTI_005fWEIGHT_005fL1R0_005fSCALARS-184"></a><a name="index-MULTI_005fWEIGHT_005fL1R0_005fAXIALVECTORS-185"></a><a name="index-MULTI_005fWEIGHT_005fL1R0_005fTENSORS2-186"></a><a name="index-MULTI_005fWEIGHT_005fL2R0_005fVECTORS-187"></a><a name="index-MULTI_005fWEIGHT_005fL3R0_005fVECTORS-188"></a><a name="index-MULTI_005fWEIGHT_005fL0R1_005fSCALARS-189"></a><a name="index-MULTI_005fWEIGHT_005fL0R1_005fAXIALVECTORS-190"></a><a name="index-MULTI_005fWEIGHT_005fL0R0_005fN_005f1_002f2-191"></a><a name="index-MULTI_005fWEIGHT_005fL0R0_005fN_002a_005f1_002f2-192"></a><a name="index-MULTI_005fWEIGHT_005fL1R0_005fN_002a_005f1_002f2-193"></a><a name="index-MULTI_005fWEIGHT_005fL1R0_005fN_002a_005f3_002f2-194"></a><a name="index-MULTI_005fWEIGHT_005fL0R0_005fDELTA_005f3_002f2-195"></a><a name="index-MULTI_005fWEIGHT_005fL1R0_005fDELTA_002a_005f3_002f2-196"></a><a name="index-HEAVY_005fBARYON_005fENHANCEMEMT-197"></a><a name="index-SINGLET_005fSUPPRESSION-198"></a><a name="index-Mixing_005f0_002b-199"></a><a name="index-Mixing_005f1_002d-200"></a>
For the selection of hadrons emerging in such cluster transitions and decays,
an overlap between the cluster flavour content and the flavour part of the
hadronic wave function is formed.  This may be further modified by production
probabilities, organised by multiplet and given by the parameters
     <ul>
<li><code>MULTI_WEIGHT_L0R0_PSEUDOSCALARS</code> (default 1.0),
<li><code>MULTI_WEIGHT_L0R0_VECTORS</code> (default 0.5),
<li><code>MULTI_WEIGHT_L0R0_TENSORS2</code> (default 0.2),
<li><code>MULTI_WEIGHT_L0R0_TENSORS3</code> (default 0.0),
<li><code>MULTI_WEIGHT_L0R0_TENSORS4</code> (default 0.0),
<li><code>MULTI_WEIGHT_L1R0_SCALARS</code> (default 0.25),
<li><code>MULTI_WEIGHT_L1R0_AXIALVECTORS</code> (default 0.5),
<li><code>MULTI_WEIGHT_L1R0_TENSORS2</code> (default 0.0),
<li><code>MULTI_WEIGHT_L2R0_VECTORS</code> (default 0.5),
<li><code>MULTI_WEIGHT_L3R0_VECTORS</code> (default 0.0),
<li><code>MULTI_WEIGHT_L0R1_SCALARS</code> (default 0.5),
<li><code>MULTI_WEIGHT_L0R1_AXIALVECTORS</code> (default 0.0),
<li><code>MULTI_WEIGHT_L0R0_N_1/2</code> (default 1.0),
<li><code>MULTI_WEIGHT_L0R0_N*_1/2</code> (default 1.0),
<li><code>MULTI_WEIGHT_L1R0_N*_1/2</code> (default 0.0),
<li><code>MULTI_WEIGHT_L1R0_N*_3/2</code> (default 0.0),
<li><code>MULTI_WEIGHT_L0R0_DELTA_3/2</code> (default 0.45), and
<li><code>MULTI_WEIGHT_L1R0_DELTA*_3/2</code> (default 0.0). 
</ul>
In addition, there are some enhancement and suppression factors applied to
heavy baryons and meson singlets,
     <ul>
<li><code>HEAVY_BARYON_ENHANCEMEMT</code> (default 7.5), and
<li><code>SINGLET_SUPPRESSION</code> (default 0.25). 
</ul>
For the latter, Sherpa also allows
to redfine the mixing angles through parameters such as
     <ul>
<li><code>Mixing_0+</code> (default -0.31416-pi/2) or
<li><code>Mixing_1-</code> (default 0.61075). 
</ul>

<h5 class="subsubsection">5.12.1.4 Cluster transition to hadrons - flavour part</h5>

<p><a name="index-STRANGE_005fFRACTION-201"></a><a name="index-BARYON_005fFRACTION-202"></a><a name="index-P_005f_0040_007bQS_0040_007d_002fP_005f_0040_007bQQ_0040_007d-203"></a><a name="index-P_005f_0040_007bSS_0040_007d_002fP_005f_0040_007bQQ_0040_007d-204"></a><a name="index-P_005f_0040_007bQQ_005f1_0040_007d_002fP_005f_0040_007bQQ_005f0_0040_007d-205"></a><a name="index-TRANSITION_005fOFFSET-206"></a><a name="index-DECAY_005fOFFSET-207"></a>
The phase space effects due to these masses govern to a large extent the
flavour content of the non-perturbative gluon splittings at the end of the
parton shower and in the decay of clusters.  They are further modified by
relative probabilities with respect to the production of up/down flavours
through the parameters
     <ul>
<li><code>STRANGE_FRACTION</code> (default 0.42),
<li><code>BARYON_FRACTION</code> (default 0.44),
<li><code>P_{QS}/P_{QQ}</code> (default 0.26),
<li><code>P_{SS}/P_{QQ}</code> (default 0.18), and
<li><code>P_{QQ_1}/P_{QQ_0}</code> (default 0.18). 
</ul>

<p>The transition of clusters to hadrons is governed by the following
considerations:
     <ul>
<li>      Clusters can be interpreted as excited hadrons, with a continous mass
      spectrum. 
<li>      When a cluster becomes sufficiently light such that its mass is below
      the largest mass of any hadron with the same flavour content, it must
      be re-iterpreted as such a hadron.  In this case it will be shifted on
      the corresponding hadron mass, and the recoil will be distributed to the
      &ldquo;neighbouring&rdquo; clusters or by emitting a soft photon.  This comparison
      of masses clearly depends on the multiplets switched on in AHADIC++,
      see above, and on an additional offset, which provides an important
      tuning parameter, namely
          <ul>
      <li><code>TRANSITION_OFFSET</code> (default 0 MeV). 
      </ul>
     <li>      In addition, clusters may becomes sufficiently light such that they
      should decay directly into two hadrons instead of two clusters. 
      This decision is based on the heaviest hadrons accessible in
      a decay, modulated by another offset parameter,
          <ul>
      <li><code>DECAY_OFFSET</code> (default 800 MeV). 
      </ul>
     <li>      If both options, transition and decay, are available, there is a
      competition between
</ul>

<h5 class="subsubsection">5.12.1.5 Cluster transition and decay weights</h5>

<p><a name="index-MassExponent_005fC_002d_003eHH-208"></a>
The probability for a cluster C to be transformed into a hadron H is given by
a combination of weights, obtained from the overlap with the flavour part of
the hadronic wave function, the relative weight of the corresponding multiplet
and a kinematic weight taking into account the mass difference of cluster
and hadron and the width of the latter. 
For the direct decay of a cluster into two hadrons the overlaps with the
wave functions of all hadrons, their respective multiplet suppression weights,
the flavour weight for the creation of the new flavour q and a kinematical
factor are relevant.  Here, yet another tuning paramter enters,
     <ul>
<li><code>MassExponent_C-&gt;HH</code> (default 3.5)
</ul>
which partially compensates phase space effects favouring light hadrons,

<h5 class="subsubsection">5.12.1.6 Cluster decays - kinematics</h5>

<p><a name="index-PT_005e2_005f0-209"></a><a name="index-PT_005fMAX-210"></a><a name="index-Q_005fas_005e2-211"></a>
Cluster decays are generated by firstly emitting a non-perturbative &ldquo;gluon&rdquo;
from one of the quarks, using a transverse momentum distribution as in the
non-perturbative gluon decays, see below, and by then splitting this gluon into
a quark&ndash;antiquark of anti-diquark&ndash;diquark pair, again with the same
kinematics.  In the first of these splittings, the emission of the gluon,
though, the energy distribution of the gluon is given by the quark splitting
function, if this quark has been produced in the perturbative phase of the
event.  If, in contrast, the quark stems from a cluster decay, the energy
of the gluon is selected according to a flat distribution.

<p>In clusters decaying to hadrons, the transverse momentum is chosen according
to a distribution given by an infrared-continued strong coupling and a
term inversemly proportional to the infrared-modified transverse momentum,
constrained to be below a maximal transverse momentum.  The respective
tuning parameters are
     <ul>
<li><code>PT^2_0</code> (default 3.0 GeV*GeV),
<li><code>PT_MAX</code> (default 1.66 GeV), and
<li><code>Q_as^2</code> (default 1.0 GeV*GeV). 
</ul>

<h5 class="subsubsection">5.12.1.7 Splitting kinematics</h5>

<p>In each splitting, the kinematics is given by the transverse momentum, the
energy splitting parameter and the azimuthal angle.  The latter, the azimuthal
angle is always seleectred according to a flat distribution, while the energy
splitting parameter will either be chosen according to the quark-to-gluon
splitting function (if the quark is a leading quark, i.e. produced in the
pertrubative phase), to the gluon-to-quark splitting function, or according to
a flat distribution.  The transverse momentum is given by the same
distribution as in the cluster decays to hadrons.

<div class="node">
<a name="Hadron-decays"></a>
<p><hr>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Fragmentation">Fragmentation</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Hadronization">Hadronization</a>

</div>

<h4 class="subsection">5.12.2 Hadron decays</h4>

<p><a name="index-DECAYMODEL-212"></a><a name="index-WIDTH_005b_003cid_003e_005d-213"></a><a name="index-MASS_005b_003cid_003e_005d-214"></a><a name="index-STABLE_005b_003cid_003e_005d-215"></a><a name="index-DECAYPATH-216"></a><a name="index-SOFT_005fMASS_005fSMEARING-217"></a><a name="index-MAX_005fPROPER_005fLIFETIME-218"></a>
The treatment of hadron and tau decays is specified by <code>DECAYMODEL</code>. 
Its allowed values are either the default choice <samp><span class="option">Hadrons</span></samp>, which
renders the HADRONS++ module responsible for performing the decays, or the
hadron decays can be disabled with the option <samp><span class="option">Off</span></samp>.

<p>HADRONS++ is the module within the Sherpa framework which is responsible for
treating hadron and tau decays.  It contains decay tables with branching
ratios for approximately 2500 decay channels, of which many have their kinematics
modelled according to a matrix element with corresponding form factors. 
Especially decays of the tau lepton and heavy mesons have form factor models
similar to dedicated codes like Tauola 
[<a href="#Jadach1993hs">Jad93</a>] and
EvtGen 
[<a href="#Lange2001uf">Lan01</a>].

<p>Some general switches which relate to hadron decays can be adjusted in the
<code>(fragmentation)</code> section:

     <ul>
<li><a name="DECAYPATH"></a><code>DECAYPATH</code>
  The path to the parameter files for the hadron and tau decays
  (default: <code>Decaydata/</code>). It is important to note that the path
  has to be given relative to the current working directory. 
  If it doesn't exist, the default Decaydata
  directory (<code>&lt;prefix&gt;/share/SHERPA-MC/Decaydata</code>) will be used. 
<li>Hadron properties like mass, width, stable/unstable and active can be set
  in full analogy to the settings for fundamental particles
  in the <code>(model)</code> section (cf. <a href="#Models">Models</a>). 
<li><a name="SOFT_005fMASS_005fSMEARING"></a><code>SOFT_MASS_SMEARING = [0,1,2]</code> (default: 1)
  Determines whether particles entering the hadron decay event
  phase should be put off-shell according to their mass
  distribution. It is taken care that no decay mode is suppressed
  by a potentially too low mass. While HADRONS++ determines this dynamically
  from the chosen decay channel, for <code>Pythia</code> as hadron decay handler
  its <code>w-cut</code> parameter is employed. Choosing option 2 instead of 1 will
  only set unstable (decayed) particles off-shell, but leave stable particles
  on-shell. 
<li><a name="MAX_005fPROPER_005fLIFETIME"></a><code>MAX_PROPER_LIFETIME = [mm]</code>
  Parameter for maximum proper lifetime (in mm) up to which particles
  are considered unstable. If specified, this will make long-living particles
  stable, even if they are set unstable by default or by the user. 
</ul>

<p>Many aspects of the above mentioned &ldquo;Decaydata&rdquo; can be adjusted. 
There exist three levels of data files, which are explained in the following
sections. 
As with all other setup files, the user can either employ the default
&ldquo;Decaydata&rdquo; in <code>&lt;prefix&gt;/share/SHERPA-MC/Decaydata</code>, or
overwrite it (also selectively) by creating the appropriate files in the
directory specified by <code>DECAYPATH</code>.

<h5 class="subsubsection">5.12.2.1 HadronDecays.dat</h5>

<p><code>HadronDecays.dat</code> consists of a table of particles that are to be decayed
by HADRONS++. Note: Even if decay tables exist for the other particles, only those
particles decay that are set unstable, either by default, or in the
model/fragmentation settings. It has the following structure, where each line
adds one decaying particle:

<p><table summary=""><tr align="left"><td valign="top" width="33%">&lt;kf-code&gt;       -&gt;
</td><td valign="top" width="33%">&lt;subdirectory&gt;/
</td><td valign="top" width="33%"><div align="center">&lt;filename&gt;.dat</div>
<p><br></td></tr><tr align="left"><td valign="top" width="33%">decaying particle    
</td><td valign="top" width="33%">path to decay table    
</td><td valign="top" width="33%">decay table file
<br></td></tr><tr align="left"><td valign="top" width="33%">default names:
</td><td valign="top" width="33%">&lt;particle&gt;/
</td><td valign="top" width="33%">Decays.dat
<br></td></tr></table>

<p>It is possible to specify different decay tables for the particle (positive
kf-code) and anti-particle (negative kf-code). If only one is specified, it
will be used for both particle and anti-particle.

<p>If more than one decay table is specified for the same kf-code, these tables
will be used in the specified sequence during one event. The first matching
particle appearing in the event is decayed according to the first table, and
so on until the last table is reached, which will be used for the remaining
particles of this kf-code.

<p>Additionally, this file may contain the keyword <code>CREATE_BOOKLET</code> on a separate
line, which will cause HADRONS++ to write a LaTeX document containing all decay
tables.

<h5 class="subsubsection">5.12.2.2 Decay table files</h5>

<p>The decay table contains information about outgoing particles for each channel,
its branching ratio and eventually the name of the file that stores parameters
for a specific channel. If the latter is not specified HADRONS++ will produce it and
modify the decay table file accordingly.

<p>Additionally to the branching ratio, one may specify the error associated with
it, and its source. Every hadron is supposed to have its own decay table in
its own subdirectory. The structure of a decay table is
<p><table summary=""><tr align="left"><td valign="top" width="33%">{kf1,kf2,kf3,...}
</td><td valign="top" width="33%">BR(delta BR)[Origin]       
</td><td valign="top" width="33%">&lt;filename&gt;.dat
<br></td></tr><tr align="left"><td valign="top" width="33%">outgoing particles       
</td><td valign="top" width="33%">branching ratio       
</td><td valign="top" width="33%">decay channel file
<br></td></tr></table>
It should be stressed here that the branching ratio which is explicitly given for any
individual channel in this file is <strong>always used</strong> regardless of any
matrix-element value.

<p><a name="Decay-channel-files"></a>

<h5 class="subsubsection">5.12.2.3 Decay channel files</h5>

<p>A decay channel file contains various information about that specific decay
channel. There are different sections, some of which are optional:

     <ul>
<li><pre class="verbatim">     &lt;Options>
         AlwaysIntegrate = 0
         CPAsymmetryC = 0.0
         CPAsymmetryS = 0.0
     &lt;/Options>
</pre>

          <ul>
  <li><code>AlwaysIntegrate = [0,1]</code> For each decay channel, one needs an
    integration result for unweighting the kinematics (see below). This
    result is stored in the decay channel file, such that the
    integration is not needed for each run. The AlwaysIntegrate option
    allows to bypass the stored integration result, and do the integration
    nonetheless (same effect as deleting the integration result). 
  <li><code>CPAsymmetryC/CPAsymmetryS</code> If one wants to include time dependent
    CP asymmetries through interference between mixing and decay one can
    set the coefficients of the cos and sin terms respectively. 
    HADRONS++ will then respect these asymmetries between particle and
    anti-particle in the choice of decay channels. 
  </ul>

     <li><pre class="verbatim">     &lt;Phasespace>
       1.0 MyIntegrator1
       0.5 MyIntegrator2
     &lt;/Phasespace>
</pre>
  Specifies the phase-space mappings and their weight.

     <li><pre class="verbatim">     &lt;ME>
       1.0 0.0 my_matrix_element[X,X,X,X,X,...]
       1.0 0.0 my_current1[X,X,...] my_current2[X,X,X,...]
     &lt;/ME>
</pre>
  Specifies the matrix elements or currents used for the kinematics,
  their respective weights, and the
  order in which the  particles (momenta) enter them. For more details, the
  reader is referred to 
[<a href="#Krauss2010xx">Kra10</a>].

     <li><pre class="verbatim">     &lt;my_matrix_element[X,X,X,X,X,...]>
       parameter1 = value1
       parameter2 = value2
       ...
     &lt;/my_matrix_element[X,X,X,X,X,...]>
</pre>
  Each matrix element or current may have an additional section where one
  can specify needed parameters, e.g. which form factor model to choose. 
  Each parameter has to be specified on a new line as shown above. Available
  parameters are listed in 
[<a href="#Krauss2010xx">Kra10</a>]. 
  Parameters not specified get a default value,
  which might not make sense in specific decay channels. One may also specify
  often needed parameters in <code>HadronConstants.dat</code>, but they will get
  overwritten by channel specific parameters, should these exist.

     <li><pre class="verbatim">     &lt;Result>
       3.554e-11 6.956e-14 1.388e-09;
     &lt;/Result>
</pre>
  These last three lines have quite an important meaning. If they
  are missing, HADRONS++ integrates this channel during the initialization
  and adds the result lines. 
  If this section exists though, and <code>AlwaysIntegrate</code> is off
  (the  default value, see above) then HADRONS++ reads in the maximum for
  the kinematics unweighting.

     <p>Consequently, if some parameters are changed (also masses of incoming and
  outgoing particles) the maximum might change such that a new integration is
  needed in order to obtain correct kinematical distributions. There are two
  ways to enforce the integration: either by deleting the last three lines or
  by setting <code>AlwaysIntegrate</code> to 1. When a channel is re-integrated, HADRONS++
  copies the old decay channel file into <code>.&lt;filename&gt;.dat.old</code>. 
</ul>

<h5 class="subsubsection">5.12.2.4 HadronConstants.dat</h5>

<p><code>HadronConstants.dat</code> may contain some globally needed parameters (e.g. 
for neutral meson mixing, see 
[<a href="#Krauss2010xx">Kra10</a>]) and also fall-back
values for all matrix-element parameters which one specifies in decay channel
files. Here, the <code>Interference_X = 1</code> switch would enable rate asymmetries
due to CP violation in the interference between mixing and decay
(cf. <a href="#Decay-channel-files">Decay channel files</a>), and setting <code>Mixing_X = 1</code>
enables explicit mixing in the event record according to the time evolution of
the flavour states. By default, all mixing effects are turned off.
     <ul>
<li>Mixing parameters
  with some example values
<pre class="verbatim">     x_K = 0.946
     y_K = -0.9965
     qoverp2_K = 1.0
     Interference_K = 0
     Mixing_K = 0
     
     x_D = 0.0
     y_D = 0.0
     qoverp2_D = 1.0
     Interference_D = 0
     Mixing_D = 0
     
     x_B = 0.776
     y_B = 0.0
     qoverp2_B = 1.0
     Interference_B = 1
     Mixing_B = 0
     
     x_B(s) = 30.0
     y_B(s) = 0.155
     qoverp2_B(s) = 1.0
     Interference_B(s) = 0
     Mixing_B(s) = 0
</pre>

</ul>

<h5 class="subsubsection">5.12.2.5 Further remarks</h5>

<p><a name="index-SOFT_005fSPIN_005fCORRELATIONS-219"></a><a name="index-HARD_005fSPIN_005fCORRELATIONS-220"></a>
<strong>Spin correlations:</strong>
a spin correlation algorithm is implemented. It can be switched on through the
keyword <samp><span class="option">SOFT_SPIN_CORRELATIONS=1</span></samp> in the <code>(run)</code> section.

<p>If spin correlations for tau leptons
produced in the hard scattering process are supposed to be taken into account,
one needs to specify <samp><span class="option">HARD_SPIN_CORRELATIONS=1</span></samp> as well. If using
AMEGIC++ as ME generator, note that the Process libraries have to be re-created
if this is changed.

<p><strong>Adding new channels:</strong>
if new channels are added to HADRONS++ (choosing isotropic decay kinematics) a new
decay table must be defined and the corresponding hadron must be added to <code>HadronDecays.dat</code>. 
The decay table merely needs to consist of the outgoing particles and branching ratios, i.e. the
last column (the one with the decay channel file name) can safely be dropped. By running Sherpa
it will automatically produce the decay channel files and write their names in the decay table.

<p><strong>Some details on tau decays:</strong>
$\tau$ decays are treated within the HADRONS++ framework, even though the
$\tau$ is not a hadron. As for many hadron decays, the hadronic tau decays
have form factor models implemented, for details the reader is referred to

<p>[<a href="#Krauss2010xx">Kra10</a>].

<div class="node">
<a name="QED-Corrections"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Minimum-Bias">Minimum Bias</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Hadronization">Hadronization</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Parameters">Parameters</a>

</div>

<h3 class="section">5.13 QED corrections</h3>

<p>Higher order QED corrections are effected both on hard interaction and, upon
their formation, on each hadron's subsequent decay. The Photons

<p>[<a href="#Schonherr2008av">Sch08</a>] module is called in both cases for this task. It
employes a YFS-type resummation 
[<a href="#Yennie1961ad">Yen61</a>] of all infrared singular
terms to all orders and is equipped with complete first order corrections for
the most relevant cases (all other ones receive approximate real emission
corrections built up by Catani-Seymour splitting kernels).

<ul class="menu">
<li><a accesskey="1" href="#General-Switches">General Switches</a>
<li><a accesskey="2" href="#QED-Corrections-to-the-Hard-Interaction">QED Corrections to the Hard Interaction</a>
<li><a accesskey="3" href="#QED-Corrections-to-Hadron-Decays">QED Corrections to Hadron Decays</a>
</ul>

<div class="node">
<a name="General-Switches"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#QED-Corrections-to-the-Hard-Interaction">QED Corrections to the Hard Interaction</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#QED-Corrections">QED Corrections</a>

</div>

<h4 class="subsection">5.13.1 General Switches</h4>

<p>The relevant switches to steer the higher order QED
corrections reside in the `(fragmentation)' section
of the steering file or the fragmentation data file
`Fragmentation.dat', respectively.

<ul class="menu">
<li><a accesskey="1" href="#YFS_005fMODE">YFS_MODE</a>:            Mode of operation. 
<li><a accesskey="2" href="#YFS_005fUSE_005fME">YFS_USE_ME</a>:          Use ME-corrections if possible. 
<li><a accesskey="3" href="#YFS_005fIR_005fCUTOFF">YFS_IR_CUTOFF</a>:       Infrared threshold for real photon generation. 
</ul>

<div class="node">
<a name="YFS_MODE"></a>
<a name="YFS_005fMODE"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#YFS_005fUSE_005fME">YFS_USE_ME</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#General-Switches">General Switches</a>

</div>

<h5 class="subsubsection">5.13.1.1 YFS_MODE</h5>

<p><a name="index-YFS_005fMODE-221"></a>The keyword <code>YFS_MODE = [0,1,2]</code> determines the
mode of operation of Photons. <code>YFS_MODE = 0</code> switches Photons off. 
Consequently, neither the hard interaction nor any hadron decay will be
corrected for soft or hard photon emission. <code>YFS_MODE = 1</code> sets
the mode to "soft only", meaning soft emissions will be treated
correctly to all orders but no hard emission corrections will be
included. With <code>YFS_MODE = 2</code> these hard emission corrections will
also be included up to first order in alpha_QED. This is the default setting.

<div class="node">
<a name="YFS_USE_ME"></a>
<a name="YFS_005fUSE_005fME"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#YFS_005fIR_005fCUTOFF">YFS_IR_CUTOFF</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#YFS_005fMODE">YFS_MODE</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#General-Switches">General Switches</a>

</div>

<h5 class="subsubsection">5.13.1.2 YFS_USE_ME</h5>

<p><a name="index-YFS_005fUSE_005fME-222"></a>The switch <code>YFS_USE_ME = [0,1]</code> tells Photons how to correct hard
emissions to first order in alpha_QED. If <code>YFS_USE_ME = 0</code>, then
Photons will use collinearly approximated real emission matrix elements. Virtual
emission matrix elements of order alpha_QED are ignored. If, however,
YFS_USE_ME=1, then exact real and/or virtual emission matrix elements
are used wherever possible. These are presently available for V-&gt;FF, V-&gt;SS,
S-&gt;FF, S-&gt;SS, S-&gt;Slnu, S-&gt;Vlnu type decays, Z-&gt;FF decays and leptonic tau and W
decays. For all other decay types general collinearly approximated matrix
elements are used. In both approaches all hadrons are treated as point-like
objects. The default setting is <code>YFS_USE_ME = 1</code>. This switch is only
effective if <code>YFS_MODE = 2</code>.

<div class="node">
<a name="YFS_IR_CUTOFF"></a>
<a name="YFS_005fIR_005fCUTOFF"></a>
<p><hr>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#YFS_005fUSE_005fME">YFS_USE_ME</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#General-Switches">General Switches</a>

</div>

<h5 class="subsubsection">5.13.1.3 YFS_IR_CUTOFF</h5>

<p><a name="index-YFS_005fIR_005fCUTOFF-223"></a><code>YFS_IR_CUTOFF</code> sets the infrared cut-off dividing the real emission in two
regions, one containing the infrared divergence, the other the "hard" emissions. 
This cut-off is currently applied in the rest frame of the multipole of the
respective decay. It also serves as a minimum photon energy in this frame for
explicit photon generation for the event record. In contrast, all photons below
with energy less than this cut-off will be assumed to have negligible impact on
the final-state momentum distributions. The default is
<code>YFS_IR_CUTOFF = 1E-3</code> (GeV). Of course, this switch is only effective if
Photons is switched on, i.e. <code>YFS_MODE = [1,2]</code>.

<div class="node">
<a name="QED-Corrections-to-the-Hard-Interaction"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#QED-Corrections-to-Hadron-Decays">QED Corrections to Hadron Decays</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#General-Switches">General Switches</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#QED-Corrections">QED Corrections</a>

</div>

<h4 class="subsection">5.13.2 QED Corrections to the Hard Interaction</h4>

<p>The switch to steer QED corrections to the hard scatter resides in the '(me)'
section of the steering file or the matrix element data file `ME.dat',
respectively.

<ul class="menu">
<li><a accesskey="1" href="#ME_005fQED">ME_QED</a>:                        Mode of operation. 
<li><a accesskey="2" href="#ME_005fQED_005fCLUSTERING">ME_QED_CLUSTERING</a>:             Identify and preserve resonances. 
<li><a accesskey="3" href="#ME_005fQED_005fCLUSTERING_005fTHRESHOLD">ME_QED_CLUSTERING_THRESHOLD</a>:   Threshold for identifying resonances. 
</ul>

<div class="node">
<a name="ME_QED"></a>
<a name="ME_005fQED"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#ME_005fQED_005fCLUSTERING">ME_QED_CLUSTERING</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#QED-Corrections-to-the-Hard-Interaction">QED Corrections to the Hard Interaction</a>

</div>

<h5 class="subsubsection">5.13.2.1 ME_QED</h5>

<p><a name="index-ME_005fQED-224"></a><code>ME_QED = On</code>/<code>Off</code> turns the higher order QED corrections to the
matrix element on or off, respectively. The default is <samp><span class="option">On</span></samp>. Switching
QED corrections to the matrix element off has no effect on
<a href="#QED-Corrections-to-Hadron-Decays">QED Corrections to Hadron Decays</a>. 
The QED corrections to the matrix element will only be effected on final state
not strongly interacting particles. If a resonant production subprocess for an
unambiguous subset of all such particles is specified via the process
declaration (cf. <a href="#Processes">Processes</a>) this can be taken into account and dedicated
higher order matrix elements can be used (if <code>YFS_MODE = 2</code> and
<code>YFS_USE_ME = 1</code>).

<div class="node">
<a name="ME_QED_CLUSTERING"></a>
<a name="ME_005fQED_005fCLUSTERING"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#ME_005fQED_005fCLUSTERING_005fTHRESHOLD">ME_QED_CLUSTERING_THRESHOLD</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#ME_005fQED">ME_QED</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#QED-Corrections-to-the-Hard-Interaction">QED Corrections to the Hard Interaction</a>

</div>

<h5 class="subsubsection">5.13.2.2 ME_QED_CLUSTERING</h5>

<p><a name="index-ME_005fQED_005fCLUSTERING-225"></a><code>ME_QED_CLUSTERING = On</code>/<code>Off</code> switches the phase space point
dependent identification of possible resonances within the hard matrix
element on or off, respectively. The default is <samp><span class="option">On</span></samp>. 
Resonances are identified by recombining the electroweak final state of
the matrix element into resonances that are allowed by the model. 
Competing resonances are identified by their on-shell-ness, i.e. 
the distance of the decay product's invariant mass from the nominal
resonance mass in units of the resonance width.

<div class="node">
<a name="ME_QED_CLUSTERING_THRESHOLD"></a>
<a name="ME_005fQED_005fCLUSTERING_005fTHRESHOLD"></a>
<p><hr>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#ME_005fQED_005fCLUSTERING">ME_QED_CLUSTERING</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#QED-Corrections-to-the-Hard-Interaction">QED Corrections to the Hard Interaction</a>

</div>

<h5 class="subsubsection">5.13.2.3 ME_QED_CLUSTERING_THRESHOLD</h5>

<p><a name="index-ME_005fQED_005fCLUSTERING_005fTHRESHOLD-226"></a>Sets the maximal distance of the decay product invariant mass from the
nominal resonance mass in units of the resonance width in order for the
resonance to be identified. The default is
<samp><span class="option">ME_QED_CLUSTERING_THRESHOLD = 1</span></samp>.

<div class="node">
<a name="QED-Corrections-to-Hadron-Decays"></a>
<p><hr>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#QED-Corrections-to-the-Hard-Interaction">QED Corrections to the Hard Interaction</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#QED-Corrections">QED Corrections</a>

</div>

<h4 class="subsection">5.13.3 QED Corrections to Hadron Decays</h4>

<p>If the Photons module is switched on, all hadron decays are corrected for higher
order QED effects.

<div class="node">
<a name="Minimum-Bias"></a>
<p><hr>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#QED-Corrections">QED Corrections</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Parameters">Parameters</a>

</div>

<h3 class="section">5.14 Minimum bias events</h3>

<p>Minimum bias events are simulated through the Shrimps module in Sherpa.

<h4 class="subsection">5.14.1 Physics of Shrimps</h4>

<h5 class="subsubsection">5.14.1.1 Inclusive part of the model</h5>

<p>Shrimps is based on the KMR model 
[<a href="#Ryskin2009tj">Rys09</a>], which is a
multi-channel eikonal model. The
incoming hadrons are written as a superposition of Good-Walker states, which are
diffractive eigenstates that diagalonise the T-matrix. This allows to include
low-mass diffractive excitation. Each combination of colliding Good-Walker
states gives rise to a single-channel eikonal. The final eikonal is the
superposition of the single-channel eikonals. The number of Good-Walker states
is 2 in Shrimps (the original KMR model includes 3 states).

<p>Each single-channel eikonal can be seen as the product of two parton densities,
one from each of the colliding Good-Walker states. The evolution of the parton
densities in rapidity due to extra emissions and absoption on either of the two
hadrons is described by a set of coupled differential equations. The parameter
<code>Delta</code>, which can be interpreted as the Pomeron intercept, is the
probability for emitting an extra parton per unit of rapidity. The strength of
absorptive corrections is quantified by the parameter <code>lambda</code>, which can
also be seen as the triple-Pomeron coupling. A small region of size
<code>deltaY</code> around the beams is excluded from the evolution due to the finite
longitudinal size of the parton densities.

<p>The boundary conditions for the parton densities are form factors, which have a
dipole form characterised by the parameters <code>Lambda2</code>, <code>beta_0^2</code>,
<code>kappa</code> and <code>xi</code>.

<p>In this framework the eikonals and the cross sections for the different modes
(elastic, inelastic, single- and double-diffractive) are calculated.

<h5 class="subsubsection">5.14.1.2 Exclusive part of the model</h5>

<p>Inelastic events are generated by explicitely simulating the exchange and
rescattering of gluon ladders. The number of primary ladders is given by a
Poisson distribution whose parameter is the single-channel eikonal. The
decomposition of the incoming hadrons into partons proceeds via suitably
infra-red continued PDFs.

<p>The emissions from the ladders are then generated in
a Markov chain. The pseudo-Sudakov form factor contains several factors: an
ordinary gluon emission term, a factor accounting for the Reggeisation of the
gluons and a recombination weight taking absorptive corrections into account. 
The emission term has the perturbative form alpha_s(k_T^2)/k_T^2, that
needs to
be continued into the infra-red region. In the case of alpha_s the
transition into the infra-red region happens at <code>Q_as^2</code> while in the case
of 1/k_T^2 the transition scale is generated dynamically and depends on
the parton densities and is scaled by <code>Q_0^2</code>.

<p>The propagators of the filled ladder can be either in a colour singlet or octet
state, the probabilities are again given through the parton densities. The
probability for a singlet can also be regulated by hand through the parameter
<code>Chi_S</code>. A singlet propagator is the result of an implicit rescattering.

<p>After all emissions have been generated and the colours assigned, further
radiation is generated by the parton shower to resum also the logrithms in
1/Q^2. The amount of radiation from the parton shower can be regulated
with <code>KT2_Factor</code>, which  multiplies the shower starting scale. After
parton showering partons emitted from the ladder or the parton shower are
subject to explicit rescattering, i.e. they can exchange secondary ladders. The
probability for the exchange of a rescattering ladder is characterised by
<code>RescProb</code>. The probability for rescattering over a singlet propagator
receives an extra factor <code>RescProb1</code>. After all ladder exchanges and
rescatterings but before hadronsation colour can be re-arrangd in the event. 
Finally, the event is hadronised using the standard Sherpa cluster
hadronisation.

<h4 class="subsection">5.14.2 Parameters and settings</h4>

<p>Below is a list of all relevant parameters to steer the Shrimps module.

<h5 class="subsubsection">5.14.2.1 Generating minimum bias events</h5>

<p><a name="index-EVENT_005fTYPE-227"></a><a name="index-SOFT_005fCOLLISIONS-228"></a>
To generate minimum bias events with Shrimps in the '(run)' section of the run
card <code>EVENT_TYPE</code> has to be set to <code>MinimumBias</code> and
<code>SOFT_COLLISIONS</code> to <code>Shrimps</code>.

<h5 class="subsubsection">5.14.2.2 Shrimps Mode</h5>

<p><a name="index-Shrimps_005fMode-229"></a>
The setup of minimum bias events and other, related simulations, is
covered by the '(run)' section of the run card.  The exact choice is steered
through the parameter <code>Shrimps_Mode</code> (default <code>Inelastic</code>),
which allows the following settings:
     <ul>
<li><code>Xsecs</code>, which will only calculate total, elastic, inelastic,
      single- and double-diffractive cross sections at various relevant energies
      and write them to a file, typically 'InclusiveQuantities/Xsecs.dat';
<li><code>Elastic</code>
      generates elastic events at a fixed energy;
<li><code>Single-diffractive</code>
      generates low-mass single-diffractive events at a fixed energy,
      modelled by the transition of one of the protons to a N(1440) state;
<li><code>Double-diffractive</code>
      generates low-mass single-diffractive events at a fixed energy,
      modelled by the transition of both protons to N(1440) states;
<li><code>Quasi-elastic</code>
      generates a combination of elastic, single- and double-diffractive
      events in due proportion;
<li><code>Inelastic</code>
      generates inelastic minimum bias events through the exchange of t-channel
      gluons or singlets (pomerons).  This mode actually will include
      large mass diffraction;
<li><code>All</code>
      generates a combination of quasi-elastic and inelastic events in due
      proportion. 
</ul>

<h5 class="subsubsection">5.14.2.3 Parameters of the eikonals</h5>

<p><a name="index-Lambda2-230"></a><a name="index-beta_005f0_005e2-231"></a><a name="index-kappa-232"></a><a name="index-xi-233"></a><a name="index-deltaY-234"></a><a name="index-lambda-235"></a><a name="index-Delta-236"></a>
The parameters of the differential equations for the parton densities are

     <ul>
<li><code>Delta</code> (default 0.4): perturbative Pomeron intercept
<li><code>lambda</code> (default 0.3): triple Pomeron coupling
<li><code>deltaY</code> (default 1.5): rapidity interval excluded from evolution
</ul>

<p>The form factors are of the form <br>
 F_1/2(q_T) = beta_0^2 (1 +/- kappa)
exp[-xi (1 +/- kappa)q_T^2/Lambda^2]/[1 + (1 +/- kappa)q_T^2/Lambda^2]^2 <br>
with the parameters

     <ul>
<li><code>Lambda2</code> (default 1.7 GeV^2)
<li><code>beta_0^2</code> (default 20.0 mb)
<li><code>kappa</code> (default 0.6)
<li><code>xi</code> (default 0.2)
</ul>

<h5 class="subsubsection">5.14.2.4 Parameters for event generation</h5>

<p><a name="index-Q_005f0_005e2-237"></a><a name="index-Q_005fas_005e2-238"></a><a name="index-Chi_005fS-239"></a><a name="index-Shower_005fMin_005fKT2-240"></a><a name="index-KT2_005fFactor-241"></a><a name="index-RescProb-242"></a><a name="index-RescProb1-243"></a><a name="index-Resc_005fKTMin-244"></a><a name="index-ReconnProb-245"></a><a name="index-Q_005fRC_005e2-246"></a>
The parameters related to the generation of inelastic events are

     <ul>
<li><code>Q_0^2</code> (default 0.58 GeV^2): factor scaling the infra-red
scale of ladder emissions
<li><code>Q_as^2</code> (default 1.0 GeV^2): infra-red scale of the strong
coupling
<li><code>Chi_S</code> (default 0.60): factor scaling probability for singlet
propagators in ladders
<li><code>Shower_Min_KT2</code> (default 2.0 GeV^2): minimum shower starting scale
<li><code>KT2_Factor</code> (default 0.89): factor scaling the parton shower starting
scale
<li><code>RescProb</code> (default 5.0): parameter controlling probability for
rescattering
<li><code>RescProb1</code> (default 0.54): factor scaling rescatter
probility over singlet propagators
<li><code>Resc_KTMin</code> (default 'off'): require minimum kt in rescattering (switch)
<li><code>ReconnProb</code> (default -15.0): parameter regulating the strength of colour reconnections (logarithmic)
<li><code>Q_RC^2</code> (default 0.72 GeV^2): regulator entering distance measure in colour reconnections
</ul>

<div class="node">
<a name="Tips-and-Tricks"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Scale-variations">Scale variations</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Parameters">Parameters</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">6 Tips and tricks</h2>

<ul class="menu">
<li><a accesskey="1" href="#Bash-completion">Bash completion</a>:  How to add bash completion for Sherpa parameters
<li><a accesskey="2" href="#Rivet-analyses">Rivet analyses</a>:  How to analyse Sherpa events using Rivet
<li><a accesskey="3" href="#HZTool-analyses">HZTool analyses</a>:  How to analyse Sherpa events using HZTool
<li><a accesskey="4" href="#MCFM-interface">MCFM interface</a>:  How to use the MCFM interface in NLO calculation
<li><a accesskey="5" href="#Debugging-a-crashing_002fstalled-event">Debugging a crashing/stalled event</a>:   How to recover the random seed for an event that is hanging or crashing
<li><a accesskey="6" href="#Versioned-installation">Versioned installation</a>:  How to install multiple Sherpa versions in the same prefix. 
<li><a accesskey="7" href="#NLO-calculations">NLO calculations</a>:   How to efficiently perform NLO calculations
</ul>

<div class="node">
<a name="Bash-completion"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Rivet-analyses">Rivet analyses</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Tips-and-Tricks">Tips and Tricks</a>

</div>

<h3 class="section">6.1 Bash completion</h3>

<p>Sherpa will install a file named
&lsquo;<samp><span class="samp">$prefix/share/SHERPA-MC/sherpa-completion</span></samp>&rsquo; which contains tab completion
functionality for the bash shell. You simply have to source it in your active
shell session by running
<pre class="verbatim">  .  $prefix/share/SHERPA-MC/sherpa-completion
</pre>

<p>and you will be able to tab-complete any parameters on a Sherpa
command line.

<p>To permanently enable this feature in your bash shell, you'll have to add the
source command above to your ~/.bashrc.

<div class="node">
<a name="Rivet-analyses"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#HZTool-analyses">HZTool analyses</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Bash-completion">Bash completion</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Tips-and-Tricks">Tips and Tricks</a>

</div>

<h3 class="section">6.2 Rivet analyses</h3>

<p><a name="index-ANALYSIS_005fOUTPUT-247"></a>
Sherpa is equipped with an interface to the analysis tool
<a href="http://projects.hepforge.org/rivet/">Rivet</a>. To enable it,
Rivet and <a href="http://lcgapp.cern.ch/project/simu/HepMC/">HepMC</a>
have to be installed (e.g. using the Rivet bootstrap script)
and your Sherpa compilation has to be configured with the following options:
<pre class="verbatim">  ./configure --enable-hepmc2=/path/to/hepmc2 --enable-rivet=/path/to/rivet
</pre>

<p>(Note: Both paths are equal if you used the Rivet bootstrap script.)

<p>To use the interface, specify the switch
<pre class="verbatim">  Sherpa ANALYSIS=Rivet
</pre>

<p>and create an analysis section in <code>Run.dat</code> that reads as follows:
<pre class="verbatim">  (analysis){
    BEGIN_RIVET {
      -a D0_2008_S7662670 CDF_2007_S7057202 D0_2004_S5992206 CDF_2008_S7828950
    } END_RIVET
  }(analysis)
</pre>

<p>The line starting with <code>-a</code> specifies which Rivet analyses to run and the
histogram output file can be changed with the normal <code>ANALYSIS_OUTPUT</code>
switch.

<p>You can also use <code>rivet-mkhtml</code> (distributed with Rivet) to create
plot webpages from Rivet's output files:
<pre class="verbatim">  source /path/to/rivetenv.sh   # see below
  rivet-mkhtml -o output/ file1.aida [file2.aida, ...]
  firefox output/index.html &amp;
</pre>

<p>If your Rivet installation is not in a standard location, the bootstrap script
should have created a <code>rivetenv.sh</code> which you have to source before running
the <code>rivet-mkhtml</code> script.

<div class="node">
<a name="HZTool-analyses"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#MCFM-interface">MCFM interface</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Rivet-analyses">Rivet analyses</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Tips-and-Tricks">Tips and Tricks</a>

</div>

<h3 class="section">6.3 HZTool analyses</h3>

<p><a name="index-ANALYSIS_005fOUTPUT-248"></a>
Sherpa is equipped with an interface to the analysis tool
<a href="http://projects.hepforge.org/hztool/">HZTool</a>. To enable it,
HZTool and <a href="http://cernlib.web.cern.ch/">CERNLIB</a> have to be installed
and your Sherpa compilation has to be configured with the following options:
<pre class="verbatim">  ./configure --enable-hztool=/path/to/hztool --enable-cernlib=/path/to/cernlib --enable-hepevtsize=4000
</pre>

<p>To use the interface, specify the switch
<pre class="verbatim">  Sherpa ANALYSIS=HZTool
</pre>

<p>and create an analysis section in <code>Run.dat</code> that reads as follows:
<pre class="verbatim">  (analysis){
    BEGIN_HZTOOL {
      HISTO_NAME output.hbook;
      HZ_ENABLE hz00145 hz01073 hz02079 hz03160;
    } END_HZTOOL;
  }(analysis)
</pre>

<p>The line starting with <code>HZ_ENABLE</code> specifies which HZTool analyses to run. 
The histogram output directory can be changed using the <code>ANALYSIS_OUTPUT</code>
switch, while <code>HISTO_NAME</code> specifies the hbook output file.

<div class="node">
<a name="MCFM-interface"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Debugging-a-crashing_002fstalled-event">Debugging a crashing/stalled event</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#HZTool-analyses">HZTool analyses</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Tips-and-Tricks">Tips and Tricks</a>

</div>

<h3 class="section">6.4 MCFM interface</h3>

<p><a name="index-Loop_005fGenerator-249"></a>
Sherpa is equipped with an interface to the NLO library of
<a href="http://mcfm.fnal.gov/">MCFM</a> for decdicated processes. 
To enable it, MCFM has to be installed and compiled into a single library,
libMCFM.a. To this end, an installation script is provided in
<code>AddOns/MCFM/install_mcfm.sh</code>. Please note, due to some process specific
changes that are made by the installation script to the MCFM code, only few
selected processes of MCFM-6.3 are available through the interface.

<p>Finally, your Sherpa compilation has to be configured with the following
options:
<pre class="verbatim">  ./configure --enable-mcfm=/path/to/mcfm
</pre>
To use the interface, specify
<pre class="verbatim">  Loop_Generator MCFM;
</pre>
in the process section of the run card and add it to the list of generators
in <a href="#ME_005fSIGNAL_005fGENERATOR">ME_SIGNAL_GENERATOR</a>. Of course, MCFM's process.DAT file has to be
copied to the current run directory.

<div class="node">
<a name="Debugging-a-crashing%2fstalled-event"></a>
<a name="Debugging-a-crashing_002fstalled-event"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Versioned-installation">Versioned installation</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#MCFM-interface">MCFM interface</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Tips-and-Tricks">Tips and Tricks</a>

</div>

<h3 class="section">6.5 Debugging a crashing/stalled event</h3>

<h4 class="subsection">6.5.1 Crashing events</h4>

<p>If an event crashes, Sherpa tries to obtain all the information needed to
reproduce that event and writes it out into a directory named
<pre class="verbatim">  Status__&lt;date>_&lt;time>
</pre>

<p>If you are a Sherpa user and want to report this crash to the Sherpa team,
please attach a tarball of this directory to your email. This allows us to
reproduce your crashed event and debug it.

<p>To debug it yourself, you can follow these steps
(Only do this if you are a Sherpa developer, or want to debug a problem
in an addon library created by yourself):
     <ul>
<li>Copy the random seed out of the status directory into your run path:
<pre class="verbatim">       cp  Status__&lt;date>_&lt;time>/random.dat  ./
</pre>

     <li>Run your normal Sherpa commandline with an additional parameter:
<pre class="verbatim">       Sherpa [...] STATUS_PATH=./
</pre>

     <p>Sherpa will then read in your random seed from &ldquo;./random.dat&rdquo; and
generate events from it.

     <li>Ideally, the first event will lead to the crash you saw earlier, and
you can now turn on debugging output to find out more about the details
of that event and test code changes to fix it:
<pre class="verbatim">       Sherpa [...] OUTPUT=15 STATUS_PATH=./
</pre>
</ul>

<h4 class="subsection">6.5.2 Stalled events</h4>

<p>If event generation seems to stall, you first have to find out
the number of the current event. For that you would terminate the stalled
Sherpa process (using Ctrl-c) and check in its final output for the number
of generated events. 
Now you can request Sherpa to write out the random seed for the event before the
stalled one:
<pre class="verbatim">  Sherpa [...] EVENTS=[#events - 1] SAVE_STATUS=Status/
</pre>

<p>(Replace [#events - 1] using the number you figured out earlier)

<p>The created status directory can either be sent to the Sherpa developers,
or be used in the same steps as above to reproduce that event and debug it.

<div class="node">
<a name="Versioned-installation"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#NLO-calculations">NLO calculations</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Debugging-a-crashing_002fstalled-event">Debugging a crashing/stalled event</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Tips-and-Tricks">Tips and Tricks</a>

</div>

<h3 class="section">6.6 Versioned installation</h3>

<p>If you want to install different Sherpa versions into the same prefix
(e.g. /usr/local), you have to enable versioning of the installed directories
by using the configure option &lsquo;<samp><span class="samp">--enable-versioning</span></samp>&rsquo;. 
Optionally you can even pass an argument to this parameter of what you want the
version tag to look like.

<div class="node">
<a name="NLO-calculations"></a>
<p><hr>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Versioned-installation">Versioned installation</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Tips-and-Tricks">Tips and Tricks</a>

</div>

<h3 class="section">6.7 NLO calculations</h3>

<ul class="menu">
<li><a accesskey="1" href="#Choosing-DIPOLE_005fALPHA">Choosing DIPOLE_ALPHA</a>
<li><a accesskey="2" href="#Integrating-complicated-Loop_002dME">Integrating complicated Loop-ME</a>
<li><a accesskey="3" href="#Avoiding-misbinning-effects">Avoiding misbinning effects</a>
<li><a accesskey="4" href="#Enforcing-the-renormalization-scheme">Enforcing the renormalization scheme</a>
<li><a accesskey="5" href="#Checking-the-pole-cancellation">Checking the pole cancellation</a>
</ul>

<div class="node">
<a name="Choosing-DIPOLE_ALPHA"></a>
<a name="Choosing-DIPOLE_005fALPHA"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Integrating-complicated-Loop_002dME">Integrating complicated Loop-ME</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#NLO-calculations">NLO calculations</a>

</div>

<h4 class="subsection">6.7.1 Choosing DIPOLE_ALPHA</h4>

<p>A variation of the parameter <code>DIPOLE_ALPHA</code>
(see <a href="#Dipole-subtraction">Dipole subtraction</a>) changes the
contribution from the real (subtracted) piece (<code>RS</code>) and
the integrated subtraction terms (<code>I</code>), keeping their sum constant. 
Varying this parameter provides a nice check of the consistency
of the subtraction procedure and it allows to optimize the
integration performance of the real correction. This piece
has the most complicated momentum phase space and is often the
most time consuming part of the NLO calculation. 
The optimal choice depends on the specific setup and can be
determined best by trial.

<p>Hints to find a good value:
     <ul>
<li>The smaller <code>DIPOLE_ALPHA</code> is the less dipole term have to be
calculated, thus the less time the evaluation/phase space point takes. 
<li>Too small choices lead to large cancelations between the <code>RS</code>
and the <code>I</code> parts and thus to large statisical errors. 
<li>For very simple processes (with only a total of two
partons in the iniatial and the final state
of the born process) the best choice is typically <code>DIPOLE_ALPHA=1</code>. 
The more complicated a process is the smaller <code>DIPOLE_ALPHA</code> should be
(e.g. with 5 partons the best choice is typically around 0.01). 
<li>A good choice is typically such that the cross section from the
<code>RS</code> piece is significantly positive but not much larger than
the born cross section. 
</ul>

<div class="node">
<a name="Integrating-complicated-Loop-ME"></a>
<a name="Integrating-complicated-Loop_002dME"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Avoiding-misbinning-effects">Avoiding misbinning effects</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Choosing-DIPOLE_005fALPHA">Choosing DIPOLE_ALPHA</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#NLO-calculations">NLO calculations</a>

</div>

<h4 class="subsection">6.7.2 Integrating complicated Loop-ME</h4>

<p>For complicated processes the evaluation of one-loop matrix elements
can be very time consuming. The generation time of a fully optimized
integration grid can become prohibitively long. Rather than using a
poorly optimized grid in this case it is more advisable to use a grid
optimized with either the born matrix elements or the born matrix
elements and the finite part of the integrated subtraction terms only,
working under the assumption that the distibutions in phase space are
rather similar.

<p>This can be done by one of the following methods:
     <ol type=1 start=3>
<li>Employ a dummy virtual (requires no computing time, returns
      <code>0.</code> as its finite result) to optimise the grid. This
      only works if <code>V</code> is not the only <code>NLO_QCD_Part</code>
      specified.
          <ol type=1 start=1>
  <li>During integration set the <code>Loop_Generator</code> to
        <code>Internal</code> and add <code>USE_DUMMY_VIRTUAL=1</code> to
        your <code>(run){...}(run)</code> section. The grid will
        then be optimised to the phase space distribution of
        the sum of the Born matrix element and the finite part
        of the integrated subtraction term. <b>Note:</b> The
        cross section displayed during integration will also
        correspond to the sum of the Born matrix element and
        the finite part of the integrated subtraction term. 
  <li>During event generation reset <code>Loop_Generator</code> to
        your generator supplying the virtual correction. The
        events generated then carry the correct event weight.
          </ol>
<li>Suppress the evaluation of the virtual and/or the integrated
      subtraction terms. This only works if Amegic is used as the
      matrix element generator for the <code>BVI</code> pieces and <code>V</code>
      is not the only <code>NLO_QCD_Part</code> specified.
          <ol type=1 start=1>
  <li>During integration add <code>NLO_BVI_MODE=&lt;num&gt;</code> to your
        <code>(run){...}(run)</code> section. <code>&lt;num&gt;</code> takes the
        following values: <code>1</code>-<code>B</code>, <code>2</code>-<code>I</code>,
        and <code>4</code>-<code>V</code>. The values are additive, i.e. 
        <code>3</code>-<code>BI</code>. <b>Note:</b> The cross section displayed
        during integration will match the parts selected by
        <code>NLO_BVI_MODE</code>. 
  <li>During event generation remove the switch again and the
        events will carry the correct weight.
          </ol>
     </ol>

<p>Note: this will not work for the <code>RS</code> piece!

<div class="node">
<a name="Avoiding-misbinning-effects"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Enforcing-the-renormalization-scheme">Enforcing the renormalization scheme</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Integrating-complicated-Loop_002dME">Integrating complicated Loop-ME</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#NLO-calculations">NLO calculations</a>

</div>

<h4 class="subsection">6.7.3 Avoiding misbinning effects</h4>

<p>Close to the infrared limit, the real emission matrix element and
corresponding subtraction events exhibit large cancellations. If the
(minor) kinematics difference of the events happens to cross a parton-level
cut or analysis histogram bin boundary, then large spurious spikes can appear.

<p>These can be smoothed to some extend by shifting the weight from the subtraction
kinematic to the real-emission kinematic if the dipole measure alpha is below a given
threshold. The fraction of the shifted weight is inversely proportional to the
dipole measure, such that the final real-emission and subtraction weights are
calculated as:
<pre class="verbatim">  w_r -> w_r + sum_i [1-x(alpha_i)] w_{s,i}
  foreach i: w_{s,i} -> x(alpha_i) w_{s,i}
</pre>
with the function x(alpha)=(alpha/|alpha_0|)^n for alpha&lt;alpha_0 and 1 otherwise.

<p>The threshold can be set by the parameter
<samp><span class="option">NLO_SMEAR_THRESHOLD=&lt;alpha_0&gt;</span></samp> and the functional form of alpha and thus
interpretation of the threshold can be chosen by its sign (positive: relative
dipole kT in GeV, negative: dipole alpha). 
In addition, the exponent n can be set by <samp><span class="option">NLO_SMEAR_POWER=&lt;n&gt;</span></samp>.

<div class="node">
<a name="Enforcing-the-renormalization-scheme"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Checking-the-pole-cancellation">Checking the pole cancellation</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Avoiding-misbinning-effects">Avoiding misbinning effects</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#NLO-calculations">NLO calculations</a>

</div>

<h4 class="subsection">6.7.4 Enforcing the renormalization scheme</h4>

<p><a name="index-LOOP_005fME_005fINIT-250"></a>Sherpa takes information about the renormalization scheme from the loop ME generator. 
The default scheme is MSbar, and this is assumed if no loop ME is provided,
for example when integrated subtraction terms are computed by themselves. 
This can lead to inconsistencies when combining event samples, which may be avoided
by setting <samp><span class="option">LOOP_ME_INIT=1</span></samp> in the <code>(run)</code> section of the input file.

<div class="node">
<a name="Checking-the-pole-cancellation"></a>
<p><hr>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Enforcing-the-renormalization-scheme">Enforcing the renormalization scheme</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#NLO-calculations">NLO calculations</a>

</div>

<h4 class="subsection">6.7.5 Checking the pole cancellation</h4>

<p><a name="index-CHECK_005fBORN-251"></a><a name="index-CHECK_005fFINITE-252"></a><a name="index-CHECK_005fPOLES-253"></a><a name="index-CHECK_005fPOLES_005fTHRESHOLD-254"></a>To check whether the poles of the dipole subtraction and the interfaced
one-loop matrix element cancel phase space point by phase space point
<code>CHECK_POLES=1</code> can be specified. The accuracy to which the poles
do have to cancel can be set via <code>CHECK_POLES_THRESHOLD=&lt;accu&gt;</code>. 
In the same way, the finite contributions of the infrared subtraction
and the one-loop matrix element can be checked by setting
<code>CHECK_FINITE=1</code>, and the Born matrix element via <code>CHECK_BORN=1</code>.

<div class="node">
<a name="Scale-variations"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Customization">Customization</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Tips-and-Tricks">Tips and Tricks</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">7 A posteriori scale variations</h2>

<p>There are several ways to compute the effects of changing the scales
and PDFs of any event produced by Sherpa. They can computed explicitly,
cf. <a href="#Explicit-scale-variations">Explicit scale variations</a>, on-the-fly, cf. 
<a href="#Scale-and-PDF-variations">Scale and PDF variations</a> (restricted to multiplicative factors), or
reconstructed a posteriori. The latter method needs plenty of additional
information in the event record and is (depending on the actual calculation)
available in two formats:

<ul class="menu">
<li><a accesskey="1" href="#A-posteriori-scale-and-PDF-variations-using-the-HepMC-GenEvent-Output">A posteriori scale and PDF variations using the HepMC GenEvent Output</a>
<li><a accesskey="2" href="#A-posteriori-scale-and-PDF-variations-using-the-ROOT-NTuple-Output">A posteriori scale and PDF variations using the ROOT NTuple Output</a>
</ul>

<div class="node">
<a name="A-posteriori-scale-and-PDF-variations-using-the-HepMC-GenEvent-Output"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#A-posteriori-scale-and-PDF-variations-using-the-ROOT-NTuple-Output">A posteriori scale and PDF variations using the ROOT NTuple Output</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Scale-variations">Scale variations</a>

</div>

<h3 class="section">7.1 A posteriori scale and PDF variations using the HepMC GenEvent Output</h3>

<p>Events generated in a LO, LOPS, NLO, NLOPS or MEPS@LO calculation can be
written out in the HepMC format including all infomation to carry out
arbitrary scale variations a posteriori. For this feature HepMC of at least
version 2.06 is necessary and both <code>HEPMC_USE_NAMED_WEIGHTS=1</code> and
<code>HEPMC_EXTENDED_WEIGHTS=1</code> have to enabled. Detailed instructions on
how to use this information to construct the new event weight can be found
here <a href="https://sherpa.hepforge.org/doc/ScaleVariations-Sherpa-2.2.0.pdf">https://sherpa.hepforge.org/doc/ScaleVariations-Sherpa-2.2.0.pdf</a>. 
<b>Plaes note:</b> For MENLOPS and MEPS@NLO calculations this feature is not
available yet.

<div class="node">
<a name="A-posteriori-scale-and-PDF-variations-using-the-ROOT-NTuple-Output"></a>
<p><hr>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#A-posteriori-scale-and-PDF-variations-using-the-HepMC-GenEvent-Output">A posteriori scale and PDF variations using the HepMC GenEvent Output</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Scale-variations">Scale variations</a>

</div>

<h3 class="section">7.2 A posteriori scale and PDF variations using the ROOT NTuple Output</h3>

<p><a name="index-USR_005fWGT_005fMODE-255"></a>
Events generated at fixed-order LO and NLO can be stored in ROOT NTuples
that allow arbitrary a posteriori scale and PDF variations. 
The internal ROOT Tree has the following Branches:
     <dl>
 <dt>&lsquo;<samp><span class="samp">id</span></samp>&rsquo;<dd> Event ID to identify correlated real sub-events. 
 <br><dt>&lsquo;<samp><span class="samp">nparticle</span></samp>&rsquo;<dd> Number of outgoing partons. 
 <br><dt>&lsquo;<samp><span class="samp">E/px/py/pz</span></samp>&rsquo;<dd> Momentum components of the partons. 
 <br><dt>&lsquo;<samp><span class="samp">kf</span></samp>&rsquo;<dd> Parton PDG code. 
 <br><dt>&lsquo;<samp><span class="samp">weight</span></samp>&rsquo;<dd> Event weight, if sub-event is treated independently. 
 <br><dt>&lsquo;<samp><span class="samp">weight2</span></samp>&rsquo;<dd> Event weight, if correlated sub-events are treated as single event. 
 <br><dt>&lsquo;<samp><span class="samp">me_wgt</span></samp>&rsquo;<dd> ME weight (w/o PDF), corresponds to 'weight'. 
 <br><dt>&lsquo;<samp><span class="samp">me_wgt2</span></samp>&rsquo;<dd> ME weight (w/o PDF), corresponds to 'weight2'. 
 <br><dt>&lsquo;<samp><span class="samp">id1</span></samp>&rsquo;<dd> PDG code of incoming parton 1. 
 <br><dt>&lsquo;<samp><span class="samp">id2</span></samp>&rsquo;<dd> PDG code of incoming parton 2. 
 <br><dt>&lsquo;<samp><span class="samp">fac_scale</span></samp>&rsquo;<dd> Factorisation scale. 
 <br><dt>&lsquo;<samp><span class="samp">ren_scale</span></samp>&rsquo;<dd> Renormalisation scale. 
 <br><dt>&lsquo;<samp><span class="samp">x1</span></samp>&rsquo;<dd> Bjorken-x of incoming parton 1. 
 <br><dt>&lsquo;<samp><span class="samp">x2</span></samp>&rsquo;<dd> Bjorken-x of incoming parton 2. 
 <br><dt>&lsquo;<samp><span class="samp">x1p</span></samp>&rsquo;<dd> x' for I-piece of incoming parton 1. 
 <br><dt>&lsquo;<samp><span class="samp">x2p</span></samp>&rsquo;<dd> x' for I-piece of incoming parton 2. 
 <br><dt>&lsquo;<samp><span class="samp">nuwgt</span></samp>&rsquo;<dd> Number of additional ME weights for loops and integrated subtraction terms. 
 <br><dt>&lsquo;<samp><span class="samp">usr_wgt[nuwgt]</span></samp>&rsquo;<dd> Additional ME weights for loops and integrated subtraction terms. 
</dl>

<h4 class="subsection">7.2.1 Computing (differential) cross sections of real correction events with statistical errors</h4>

<p>Real correction events and their counter-events from subtraction terms are
highly correlated and exhibit large cancellations. Although a treatment of
sub-events as independent events leads to the correct cross section the
statistical error would be greatly overestimated. In order to get a realistic
statistical error sub-events belonging to the same event must be combined
before added to the total cross section or a histogram bin of a differential
cross section. Since in general each sub-event comes with it's own set of four
momenta the following treatment becomes necessary:
     <ol type=1 start=1>
<li>An event here refers to a full real correction event that may contain
several sub-events. All entries with the same id belong to the same event. 
Step 2 has to be repeated for each event. 
<li>Each sub-event must be checked separately whether it passes possible
phase space cuts. Then for each observable add up <code>weight2</code> of all
sub-events that go into the same histogram bin. These sums <code>x_id</code> are the
quantities to enter the actual histogram. 
<li>To compute statistical errors each bin must store the sum over all
<code>x_id</code> and the sum over all <code>x_id^2</code>. The cross section in the bin is
given by <code>&lt;x&gt; = 1/N \sum x_id</code>, where <code>N</code> is the number of events
(not sub-events). The <code>1-\sigma</code> statistical error for the bin is
<code>\sqrt{ (&lt;x^2&gt;-&lt;x&gt;^2)/(N-1) } </code>
     </ol>
Note: The main difference between <code>weight</code> and <code>weight2</code> is that they
refer to a different counting of events. While <code>weight</code> corresponds to
each event entry (sub-event) counted separately, <code>weight2</code> counts events
as defined in step 1 of the above procedure. For NLO pieces other than the real
correction <code>weight</code> and <code>weight2</code> are identical.

<h4 class="subsection">7.2.2 Computation of cross sections with new PDF's</h4>

<p><strong>Born and real pieces:</strong>

<p>Notation:

<p><code>f_a(x_a) = PDF 1 applied on parton a,
      F_b(x_b) = PDF 2 applied on parton b.</code>

<p>The total cross section weight is given by

<p><code>weight = me_wgt f_a(x_a)F_b(x_b).</code>

<p><strong>Loop piece and integrated subtraction terms:</strong>

<p>The weights here have an explicit dependence on the renormalization
and factorization scales.

<p>To take care of the renormalization scale dependence (other than via
<code>alpha_S</code>) the weight <code>w_0</code> is defined as

<p><code> w_0 = me_wgt + usr_wgts[0] log((\mu_R^new)^2/(\mu_R^old)^2)
                     + usr_wgts[1] 1/2 [log((\mu_R^new)^2/(\mu_R^old)^2)]^2.</code>

<p>To address the factorization scale dependence the weights <code>w_1,...,w_8</code>
are given by

<p><code>w_i = usr_wgts[i+1] + usr_wgts[i+9] log((\mu_F^new)^2/(\mu_F^old)^2).</code>

<p>The full cross section weight can be calculated as

<p><code>weight = w_0 f_a(x_a)F_b(x_b)
	       + (f_a^1 w_1 + f_a^2 w_2 + f_a^3 w_3 + f_a^4 w_4) F_b(x_b)
	       + (F_b^1 w_5 + F_b^2 w_6 + F_b^3 w_7 + F_b^4 w_8) f_a(x_a)</code>

<p>where

<p><code>f_a^1 = f_a(x_a) (a=quark), \sum_q f_q(x_a) (a=gluon),
      f_a^2 = f_a(x_a/x'_a)/x'_a (a=quark), \sum_q f_q(x_a/x'_a)x'_a (a=gluon),
      f_a^3 = f_g(x_a),
      f_a^4 = f_g(x_a/x'_a)/x'_a.</code>

<p>The scale dependence coefficients <code>usr_wgts[0]</code> and <code>usr_wgts[1]</code>
are normally obtained from the finite part of the virtual correction by
removing renormalization terms and universal terms from dipole subtraction. 
This may be undesirable, especially when the loop provider splits up
the calculation of the virtual correction into several pieces, like
leading and sub-leading color. In this case the loop provider should
control the scale dependence coefficients, which can be enforced with
option <samp><span class="option">USR_WGT_MODE=0;</span></samp> in the <code>(run)</code> section of Sherpa's
input file.

<p><strong>The loop provider must support this option
  or the scale dependence coefficients will be invalid!</strong>

<div class="node">
<a name="Customization"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Examples">Examples</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Scale-variations">Scale variations</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">8 Customization</h2>

<p><a name="index-SHERPA_005fLDADD-256"></a>
Customizing Sherpa according to your needs.

<p>Sherpa can be easily extended with certain user defined tools. 
To this extent, a corresponding C++ class must be written,
and compiled into an external library:

<pre class="verbatim">  g++ -shared \
    -I`$SHERPA_PREFIX/bin/Sherpa-config --incdir` \
    `$SHERPA_PREFIX/bin/Sherpa-config --ldflags` \
    -o libMyCustomClass.so My_Custom_Class.C
</pre>

<p>This library can then be loaded in Sherpa at runtime with the switch
<code>SHERPA_LDADD</code>, e.g.:

<pre class="verbatim">  SHERPA_LDADD=MyCustomClass
</pre>

<p>Several specific examples of features which can be extended in this way are
listed in the following sections.

<ul class="menu">
<li><a accesskey="1" href="#Exotic-physics">Exotic physics</a>:    How to introduce your own models to Sherpa. Example: Z-prime. 
<li><a accesskey="2" href="#Custom-scale-setter">Custom scale setter</a>:  How to write a custom calculator for factorisation and renormalisation scale
<li><a accesskey="3" href="#External-one_002dloop-ME">External one-loop ME</a>:  How to interface external one-loop codes. 
<li><a accesskey="4" href="#External-RNG">External RNG</a>:      How to add an external random number generator. 
<li><a accesskey="5" href="#External-PDF">External PDF</a>:      How to add an external PDF. 
<li><a accesskey="6" href="#Python-Interface">Python Interface</a>:  How to make Sherpa talk to your Python script. 
</ul>

<div class="node">
<a name="Exotic-physics"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Custom-scale-setter">Custom scale setter</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Customization">Customization</a>

</div>

<h3 class="section">8.1 Exotic physics</h3>

<p>It is possible to add your own models to Sherpa in a straightforward way. 
To illustrate, a simple example has been included in the directory
<code>Examples/Models/SM_ZPrime</code>, showing how to add a Z-prime boson to
the Standard Model.

<p>The important features of this example include:
     <ul>
<li>The <code>SM_Zprime.C</code> file.

     <p>This file contains the initialisation of the Z-prime boson. The
      properties of the Z-prime are set here, such as mass, width,
      electromagnetic charge, spin etc.

     <li>The <code>Interaction_Model_SM_Zprime.C</code> file.

     <p>This file contains the definition of the Z-prime boson's interactions. 
      The right- and left-handed couplings to each of the fermions are
      set here.

     <li>An example <code>Makefile</code>.

     <p>This shows how to compile the sources above into a shared library.

     <li>The line <code>SHERPA_LDADD SMZprime</code> in the run-card.

     <p>This line tells Sherpa to load the extra libraries created from the *.C
      files above.

     <li>The line <code>MODEL SM+Zprime</code> in the run-card.

     <p>This line tells Sherpa which model to use for the run.

     <li>The lines <code>MASS[32] 1000.</code> and <code>WIDTH[32] 50.</code> in the run-card.

     <p>These lines show how you can overrule the choices you made for the
      properties of the new particle in the <code>SM_Zprime.C</code> file. For
      more information on changing parameters in Sherpa, see
      <a href="#Input-structure">Input structure</a> and <a href="#Parameters">Parameters</a>.

     <li>The lines <code>Zp_cpl_L 0.3</code> and <code>Zp_cpl_R 0.6</code> set the
      couplings to left and right handed fermions in the run-card.

</ul>

<p>To use this model, create the libraries for Sherpa to use by running

<pre class="example">     make
</pre>
<p>in this directory. Then run Sherpa as normal:

<pre class="example">     ../../../bin/Sherpa
</pre>
<p>To implement your own model, copy these example files anywhere and modify
them according to your needs.

<p>Note: You don't have to modify or recompile any part of Sherpa to use your
model. As long as the <code>SHERPA_LDADD</code> parameter is specified as above,
Sherpa will pick up your model automatically.

<p>Furthermore note: New physics models with an existing implementation in
FeynRules, cf. 
[<a href="#Christensen2008py">Chr08</a>] and

<p>[<a href="#Christensen2009jx">Chr09</a>], can directly be invoked using Sherpa's
support for the UFO model format, see <a href="#UFO-Model-Interface">UFO Model Interface</a>.

<div class="node">
<a name="Custom-scale-setter"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#External-one_002dloop-ME">External one-loop ME</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Exotic-physics">Exotic physics</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Customization">Customization</a>

</div>

<h3 class="section">8.2 Custom scale setter</h3>

<p>You can write a custom calculator to set the factorisation, renormalisation and
resummation scales. It has to be implemented as a C++ class which derives from
the <code>Scale_Setter_Base</code> base class and implements only the constructor and
the <code>Calculate</code> method.

<p>Here is a snippet for a very simple one, which sets all three scales to the
invariant mass of the two incoming partons.

<pre class="verbatim">#include "PHASIC++/Scales/Scale_Setter_Base.H"
#include "ATOOLS/Org/Message.H"

using namespace PHASIC;
using namespace ATOOLS;

namespace PHASIC {

  class Custom_Scale_Setter: public Scale_Setter_Base {
  protected:

  public:

    Custom_Scale_Setter(const Scale_Setter_Arguments &amp;args) :
      Scale_Setter_Base(args)
    {
      m_scale.resize(3); // by default three scales: fac, ren, res
                         // but you can add more if you need for COUPLINGS
      SetCouplings(); // the default value of COUPLINGS is "Alpha_QCD 1", i.e.
                      // m_scale[1] is used for running alpha_s
                      // (counting starts at zero!)
    }

    double Calculate(const std::vector&lt;ATOOLS::Vec4D> &amp;p,
		     const size_t &amp;mode)
    {
      double muF=(p[0]+p[1]).Abs2();
      double muR=(p[0]+p[1]).Abs2();
      double muQ=(p[0]+p[1]).Abs2();

      m_scale[stp::fac] = muF;
      m_scale[stp::ren] = muR;
      m_scale[stp::res] = muQ;

      // Switch on debugging output for this class with:
      // Sherpa "OUTPUT=2[Custom_Scale_Setter|15]"
      DEBUG_FUNC("Calculated scales:");
      DEBUG_VAR(m_scale[stp::fac]);
      DEBUG_VAR(m_scale[stp::ren]);
      DEBUG_VAR(m_scale[stp::res]);

      return m_scale[stp::fac];
    }

  };

}

// Some plugin magic to make it available for SCALES=CUSTOM
DECLARE_GETTER(Custom_Scale_Setter,"CUSTOM",
	       Scale_Setter_Base,Scale_Setter_Arguments);

Scale_Setter_Base *ATOOLS::Getter
&lt;Scale_Setter_Base,Scale_Setter_Arguments,Custom_Scale_Setter>::
operator()(const Scale_Setter_Arguments &amp;args) const
{
  return new Custom_Scale_Setter(args);
}

void ATOOLS::Getter&lt;Scale_Setter_Base,Scale_Setter_Arguments,
		    Custom_Scale_Setter>::
PrintInfo(std::ostream &amp;str,const size_t width) const
{ 
  str&lt;&lt;"Custom scale scheme";
}
</pre>

<p>If the code is compiled into a library called libCustomScale.so,
then this library is loaded dynamically at runtime with the switch
&lsquo;<samp><span class="samp">SHERPA_LDADD=CustomScale</span></samp>&rsquo; either on the command line or in the run
section, cf. <a href="#Customization">Customization</a>. This then allows to use the custom scale like
a built-in scale setter by specifying <samp><span class="option">SCALES=CUSTOM</span></samp> (cf. <a href="#SCALES">SCALES</a>).

<div class="node">
<a name="External-one-loop-ME"></a>
<a name="External-one_002dloop-ME"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#External-RNG">External RNG</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Custom-scale-setter">Custom scale setter</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Customization">Customization</a>

</div>

<h3 class="section">8.3 External one-loop ME</h3>

<p><a name="index-LHOLE_005fORDERFILE-257"></a><a name="index-LHOLE_005fCONTRACTFILE-258"></a><a name="index-LHOLE_005fIR_005fREGULARISATION-259"></a><a name="index-LHOLE_005fBOOST_005fTO_005fCMS-260"></a><a name="index-LHOLE_005fOLP-261"></a>
Sherpa includes only a very limited selection of one-loop matrix elements. 
To make full use of the implemented automated dipole subtraction it is
possible to link external one-loop codes to Sherpa in order to perform
full calculations at QCD next-to-leading order.

<p>In general Sherpa can take care of any piece of the calculation except
one-loop matrix elements, i.e. the born ME, the real correction, the real
and integrated subtraction terms as well as the phase space integration
and PDF weights for hadron collisions. Sherpa will provide sets of
four-momenta and request for a specific parton level process the
helicity and colour summed one-loop matrix element
(more specific: the coefficients of the Laurent series in the dimensional
regularization parameter epsilon up to the order epsilon^0).

<p>The interface:
     <ul>
<li>During an initialization run Sherpa stores setup information
(schemes, model information etc.) and requests a list of parton-level
one-loop processes that are needed for the NLO calculation. This information
is stored in a file, by default called <code>OLE_order.lh</code>. 
The external one-loop code (OLE) should confirm these settings/requests
and write out a file <code>OLE_contract.lh</code>. Both filenames can be customised
using <code>LHOLE_ORDERFILE=&lt;order-file&gt;</code> and
<code>&lt;LHOLE_CONTRACTFILE=&lt;contract-file&gt;</code>. For their syntax and
details see 
[<a href="#Binoth2010xt">Bin10a</a>].

     <p>For Sherpa the output/input of the order/contract file is handled
in <code>LH_OLE_Communicator.[CH]</code>. 
The actual interface is contained in <code>LH_OLE_Interface.C</code>. 
The parameters to be exchanged with the OLE are defined in the
latter file via
<pre class="verbatim">       lhfile.AddParameter(...);
</pre>

     <p>and might require an update for specific OLE or processes. Per default,
in addition to the standard options <code>MatrixElementSquareType</code>,
<code>CorrectionType</code>, <code>IRregularisation</code>, <code>AlphasPower</code>,
<code>AlphaPower</code> and <code>OperationMode</code> the masses and width of the
W, Z and Higgs bosons and the top and bottom quarks are written out
in free format, such that the respective OLE parameters can be easily
synchronised.

     <li>At runtime the communication is performed via function calls. 
To allow Sherpa to call the external code the functions
<pre class="verbatim">       void OLP_Start(const char * filename);
       void OLP_EvalSubProcess(int,double*,double,double,double*);
</pre>

     <p>which are defined and called in <code>LH_OLE_Interface.C</code> must be specified. 
For keywords and possible data fields passed with this functions
see 
[<a href="#Binoth2010xt">Bin10a</a>].

     <p>The function <code>OLP_Start(...)</code> is called once when Sherpa is starting. 
The function <code>OLP_EvalSubProcess(...)</code> will be called many times
for different subprocesses and momentum configurations. 
</ul>

<p>Parameters are:
     <ul>
<li>The line <code>Loop_Generator LHOLE</code> tells the code to use
the interface for computing one-loop matrix elements.

     <li>The switch <code>SHERPA_LDADD</code> has to be set to the appropriate
library name (and path) of the one-loop generator.

     <li>The IR regularisation scheme can be set via
<code>LHOLE_IR_REGULARISATION</code>. Possible values are <code>DRED</code> (default)
and <code>CDR</code>.

     <li>Per default, Sherpa generates phase space points in the lab frame. 
If <code>LHOLE_BOOST_TO_CMS=1</code> is set, these phase space points are boosted to
the centre of mass system before they are passed to the OLE.

     <li>The original BLHA interface does not allow for run-time parameter
passing. While this is discussed for an updated of the accord a workable
solution is implemented for the use of GoSam and enabled through
<code>LHOLE_OLP=GoSam</code>. The <code>LHOLE_BOOST_TO_CMS</code> is also automatically
active with this setup. This, of course, can be adapted for other one-loop
programs if need be.

     <li>Sherpa's internal analysis package can be used to generate a few
histograms. Thus, then when installing Sherpa the option
<code>--enable-analysis</code> must be include on the command line when
Sherpa is configured, see <a href="#ANALYSIS">ANALYSIS</a>.

</ul>

<div class="node">
<a name="External-RNG"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#External-PDF">External PDF</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#External-one_002dloop-ME">External one-loop ME</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Customization">Customization</a>

</div>

<h3 class="section">8.4 External RNG</h3>

<p>To use an external Random Number Generator (RNG) in Sherpa,
you need to provide an interface to your RNG in an external
dynamic library. This library is then loaded at runtime and
Sherpa replaces the internal RNG with the one provided.

<p><em>In this case Sherpa will not attempt to set, save, read or restore the RNG</em>

<p>The corresponding code for the RNG interface is
<pre class="verbatim">#include "ATOOLS/Math/Random.H"

using namespace ATOOLS;

class Example_RNG: public External_RNG {
public:
  double Get() 
  { 
    // your code goes here ... 
  }
};// end of class Example_RNG

// this makes Example_RNG loadable in Sherpa
DECLARE_GETTER(Example_RNG,"Example_RNG",External_RNG,RNG_Key);
External_RNG *ATOOLS::Getter&lt;External_RNG,RNG_Key,Example_RNG>::operator()(const RNG_Key &amp;) const
{ return new Example_RNG(); }
// this eventually prints a help message
void ATOOLS::Getter&lt;External_RNG,RNG_Key,Example_RNG>::PrintInfo(std::ostream &amp;str,const size_t) const
{ str&lt;&lt;"example RNG interface"; }
</pre>

<p>If the code is compiled into a library called libExampleRNG.so,
then this library is loaded dynamically in Sherpa using the command
&lsquo;<samp><span class="samp">SHERPA_LDADD=ExampleRNG</span></samp>&rsquo; either on the command line or in
<samp><span class="file">Run.dat</span></samp>. If the library is bound at compile time, like e.g. 
in cmt, you may skip this step.

<p>Finally Sherpa is instructed to retrieve the external RNG by specifying
<samp><span class="option">EXTERNAL_RNG=Example_RNG</span></samp> on the command line or in
<samp><span class="file">Run.dat</span></samp>.

<div class="node">
<a name="External-PDF"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Python-Interface">Python Interface</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#External-RNG">External RNG</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Customization">Customization</a>

</div>

<h3 class="section">8.5 External PDF</h3>

<p>To use an external PDF (not included in LHAPDF) in Sherpa,
you need to provide an interface to your PDF in an external
dynamic library. This library is then loaded at runtime and
it is possible within Sherpa to access all PDFs included.

<p>The simplest C++ code to implement your interface looks as follows
<pre class="verbatim">#include "PDF/Main/PDF_Base.H"

using namespace PDF;

class Example_PDF: public PDF_Base {
public:
  void Calculate(double x,double Q2)
  {
    // calculate values x f_a(x,Q2) for all a
  }
  double GetXPDF(const ATOOLS::Flavour a)
  {
    // return x f_a(x,Q2)
  }
  virtual PDF_Base *GetCopy()
  {
    return new Example_PDF();
  }
};// end of class Example_PDF

// this makes Example_PDF loadable in Sherpa
DECLARE_PDF_GETTER(Example_PDF_Getter);
PDF_Base *Example_PDF_Getter::operator()(const Parameter_Type &amp;args) const
{ return new Example_PDF(); }
// this eventually prints a help message
void Example_PDF_Getter::PrintInfo
(std::ostream &amp;str,const size_t width) const
{ str&lt;&lt;"example PDF"; }
// this lets Sherpa initialize and unload the library
Example_PDF_Getter *p_get=NULL;
extern "C" void InitPDFLib()
{ p_get = new Example_PDF_Getter("ExamplePDF"); }
extern "C" void ExitPDFLib() { delete p_get; }
</pre>

<p>If the code is compiled into a library called libExamplePDFSherpa.so,
then this library is loaded dynamically in Sherpa using
&lsquo;<samp><span class="samp">PDF_LIBRARY=ExamplePDFSherpa</span></samp>&rsquo; either on the command line,
in <samp><span class="file">Run.dat</span></samp> or in <samp><span class="file">ISR.dat</span></samp>. If the library is bound
at compile time, like e.g. in cmt, you may skip this step. 
It is now possible to list all accessible PDF sets by specifying
<samp><span class="option">SHOW_PDF_SETS=1</span></samp> on the command line.

<p>Finally Sherpa is instructed to retrieve the external PDF by specifying
<samp><span class="option">PDF_SET=ExamplePDF</span></samp> on the command line, in <samp><span class="file">Run.dat</span></samp>
or in <samp><span class="file">ISR.dat</span></samp>.

<div class="node">
<a name="Python-Interface"></a>
<p><hr>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#External-PDF">External PDF</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Customization">Customization</a>

</div>

<h3 class="section">8.6 Python Interface</h3>

<p>Certain Sherpa classes and methods can be made available to the Python
interpreter in the form of an extension module. This module can be
loaded in Python and provides access to certain functionalities of the
Sherpa event generator in Python. In order to build the module, Sherpa
must be configured with the option <code>--enable-pyext</code>. Running
<code>make</code> then invokes the automated interface generator SWIG

<p>[<a href="#Beazley2003">Bea03</a>] to create the Sherpa module using the Python C/C++
API. SWIG version 1.3.x or later is required for a successful build. 
Problems might occur if more than one version of Python is present on
the system since automake currently doesn't always handle multiple
Python installations properly. If you have multiple Python versions
installed on your system, please set the <code>PYTHON</code> environment
variable to the Python 2 executable via
<pre class="verbatim">  export PYTHON=&lt;path-to-python2>
</pre>
before executing the <code>configure</code> script (see. 
Certain Sherpa classes and methods can be made available to the Python
interpreter in the form of an extension module. This module can be
loaded in Python and provides access to certain functionalities of the
Sherpa event generator in Python. It was designed specifically for the
computation of matrix elements in python and its
features are currently limited to this purpose. In order to build the
module, Sherpa must be configured with the option <code>--enable-pyext</code>. 
Running <code>make</code> then invokes the automated interface generator SWIG

<p>[<a href="#Beazley2003">Bea03</a>] to create the Sherpa module using the Python C/C++
API. SWIG version 1.3.x or later is required for a successful build. 
Problems might occur if more than one version of Python is present on
the system since automake currently doesn't always handle multiple
Python installations properly. A possible workaround is to temporarily
uninstall one version of python, configure and build Sherpa, and then
reinstall the temporarily uninstalled version of Python.

<p>The following script is a minimal example that shows how to use the
Sherpa module in Python. In order to load the Sherpa module, the
location where it is installed must be added to the PYTHONPATH. There
are several ways to do this, in this example the sys module is used. The
sys module also allows it to directly pass the command line arguments
used to run the script to the initialization routine of Sherpa. The
script can thus be executed using the normal command line options of
Sherpa (see <a href="#Command-line">Command line</a>). Furthermore it illustrates how
exceptions that Sherpa might throw can be taken care of. If a run card
is present in the directory where the script is executed, the
initialization of the generator causes Sherpa to compute the cross
sections for the processes specified in the run card.

<p>Note that if you have compiled Sherpa with MPI support, you need to
source the <a href="http://mpi4py.scipy.org">mpi4py</a> module using
<code>from mpi4py import MPI</code>.

<pre class="verbatim">  #!/usr/bin/python
  import sys
  sys.path.append('&lt;sherpa-prefix>/lib/&lt;your-python-version>/site-packages/>')
  import Sherpa

  # set up the generator
  Generator=Sherpa.Sherpa()

  try:
      # initialize the generator, pass command line arguments to initialization routine
      Generator.InitializeTheRun(len(sys.argv),sys.argv)

  # catch exceptions
  except Sherpa.Exception as exc:
      print exc
</pre>

<div class="node">
<a name="Examples"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Getting-help">Getting help</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Customization">Customization</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">9 Examples</h2>

<p>Some example set-ups are included in Sherpa, in the
<code>&lt;prefix&gt;/share/SHERPA-MC/Examples/</code> directory. These may be useful to
new users to practice with, or as templates for creating your
own Sherpa run-cards. In this section, we will look at some
of the main features of these examples.

<ul class="menu">
<li><a accesskey="1" href="#HJets">HJets</a>
</ul>

<div class="node">
<a name="HJets"></a>
<p><hr>
Up:&nbsp;<a rel="up" accesskey="u" href="#Examples">Examples</a>

</div>

<h3 class="section">9.1 Higgs boson + jets production</h3>

<ul class="menu">
<li><a accesskey="1" href="#LHC_005fHInt">LHC_HInt</a>
</ul>

<div class="node">
<a name="LHC_HInt"></a>
<a name="LHC_005fHInt"></a>
<p><hr>
Up:&nbsp;<a rel="up" accesskey="u" href="#HJets">HJets</a>

</div>

<h4 class="subsection">9.1.1 H production in gluon fusion with interference effects</h4>

<p><a name="index-HIGGS_005fINTERFERENCE_005fMODE-262"></a><a name="index-HIGGS_005fINTERFERENCE_005fONLY-263"></a><a name="index-HIGGS_005fINTERFERENCE_005fSPIN-264"></a>
This is a setup for inclusive Higgs production through
gluon fusion at hadron colliders. The inclusive process is calculated
at next-to-leading order accuracy, including all interference effects
between Higgs-boson production and the SM gg-&gt;yy background. 
The corresponding matrix elements are taken from 
[<a href="#Bern2002jx">Ber02</a>]
and 
[<a href="#Dixon2013haa">Dix13</a>].

<pre class="example">
     <pre class="smallformat"><pre class="verbatim">     (run){
       # generator parameters
       EVENTS 1M; LGEN:=Higgs;
       EVENT_GENERATION_MODE W;
       ME_QED Off;
       AMEGIC_ALLOW_MAPPING 0;
       ME_SIGNAL_GENERATOR Amegic LGEN;
       SCALES VAR{Abs2(p[2]+p[3])};
     
       # physics parameters
       YUKAWA[4] 1.42; YUKAWA[5] 4.8;
       YUKAWA[15] 1.777;
       EW_SCHEME 3;
       RUN_MASS_BELOW_POLE 1;
     
       # collider parameters
       BEAM_1 2212; BEAM_ENERGY_1 6500;
       BEAM_2 2212; BEAM_ENERGY_2 6500;
     
       # Higgs mode 
       # HIGGS_INTERFERENCE_MODE: +1->signal, +2->ggbkg, +4->qqbkg 
       # HIGGS_INTERFERENCE_ONLY: 1->|S+B|^2-|S|^2-|B|^2, 2->|S+B|^2-|B|^2, 0->|S+B|^2 
       HIGGS_INTERFERENCE_MODE 7;
       HIGGS_INTERFERENCE_ONLY 1;
     
       NLO_SMEAR_THRESHOLD 1;
       NLO_SMEAR_POWER 0.5;
     
       ABS_ERROR 1;
     }(run);
     
     (processes){
       Process 93 93 -> 22 22;
       NLO_QCD_Mode Fixed_Order;
       Order (*,2); Enable_MHV 12;
       Loop_Generator LGEN;
       Integrator PS2;
       RS_Integrator PS3;
       End process;
     }(processes);
     
     (selector){
       HiggsFinder 40 30 2.5 100 150;
       IsolationCut 22 0.4 2 0.025;
     }(selector);
</pre></pre>
</pre>
<p>Things to notice:
     <ul>
<li>This calculation is at fixed-order NLO. 
<li>All scales, i.e. the factorisation, renormalisation and resummation
scales are set to the invariant mass of the di-photon pair. 
<li>Dedicated phase space generators are used by setting
<samp><span class="option">Integrator PS2;</span></samp> and <samp><span class="option">RS_Integrator PS3;</span></samp>, cf. <a href="#Integrator">Integrator</a>. 
</ul>

<p>To compute the interference contribution only, as was done in 
[<a href="#Dixon2013haa">Dix13</a>],
one can set <samp><span class="option">HIGGS_INTERFERENCE_ONLY 1;</span></samp> in the <code>(run){...}(run)</code> section. 
By default, all partonic processes are included in this simulation, however,
it is sensible to disable quark initial states at the leading order. This is achieved
by setting <samp><span class="option">HIGGS_INTERFERENCE_MODE 3;</span></samp> in the <code>(run){...}(run)</code> section.

<p>One can also simulate the production of a spin-2 massive graviton in Sherpa using
the same input card by setting <samp><span class="option">HIGGS_INTERFERENCE_SPIN 2;</span></samp> in the
<code>(run){...}(run)</code> section. Only the massive graviton case is implemented,
specifically the scenario where k_q=k_g. NLO corrections are approximated,
as the gg-&gt;X-&gt;yy and qq-&gt;X-&gt;yy loop amplitudes have not been computed so far.

<div class="node">
<a name="Getting-help"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Authors">Authors</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Examples">Examples</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">10 Getting help</h2>

<p>If Sherpa exits abnormally, first check the Sherpa output
for hints on the reason of program abort, and try to figure
out what has gone wrong with the help of the Manual. Note
that Sherpa throwing a ‘normal_exit’ exception does not
imply any abnormal program termination! When using AMEGIC++
Sherpa will exit with the message:
<pre class="example">        New libraries created. Please compile.
</pre>
<p>In this case, follow the instructions given in
<a href="#Running-Sherpa-with-AMEGIC_002b_002b">Running Sherpa with AMEGIC++</a>.

<p>If this does not help, contact the Sherpa team (see the
Sherpa Team section of the website
<a href="http://sherpa.hepforge.org">sherpa.hepforge.org</a>), providing
all information on your setup. Please include
     <ol type=1 start=1>
<li>A complete tarred and gzipped set of the <samp><span class="option">.dat</span></samp>
files leading to the crash. Use the status recovery directory
<code>Status__&lt;date of crash&gt;</code> produced before the program abort. 
<li>The command line (including possible parameters) you used to start Sherpa. 
<li>The installation log file, if available.
     </ol>

<div class="node">
<a name="Authors"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Copying">Copying</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Getting-help">Getting help</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">11 Authors</h2>

<p>Sherpa was written by the Sherpa Team, see
<a href="http://sherpa.hepforge.org">sherpa.hepforge.org</a>.

<div class="node">
<a name="Copying"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#References">References</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Authors">Authors</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">12 Copying</h2>

<p>Sherpa is free software. 
You can redistribute it and/or modify it under the
terms of the GNU General Public License as published by the
Free Software Foundation. You should have received a copy
of the GNU General Public License along with the source
for Sherpa; see the file COPYING. If not, write
to the Free Software Foundation, 59 Temple Place, Suite 330,
Boston, MA  02111-1307, USA.

<p>Sherpa is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty
of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. 
See the GNU General Public License for more details.

<p>Sherpa was created during the Marie Curie RTN's HEPTOOLS, MCnet and LHCphenonet. 
The MCnet Guidelines apply, see the file GUIDELINES and
<a href="http://www.montecarlonet.org/index.php?p=Publications/Guidelines">http://www.montecarlonet.org/index.php?p=Publications/Guidelines</a>.

<div class="node">
<a name="References"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Index">Index</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Copying">Copying</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="appendix">Appendix A References</h2>

     <ul>

     <li><a name="Alekhin2005dx"></a>[<a href="http://inspirehep.net/search?p=hep-ph/0601012">Ale05</a>]
S. Alekhin and others, <em>HERA and the LHC - A workshop on the implications of HERA for LHC physics: Proceedings Part A</em>,     hep-ph/0601012.
     <pre class="sp">
     
     
     </pre>

     <li><a name="Alwall2007fs"></a>[<a href="http://inspirehep.net/search?p=arXiv:0706.2569">Alw07</a>]
J. Alwall and others, <em>Comparative study of various algorithms for the merging of parton showers and matrix elements in hadronic collisions</em>, Eur. Phys. J. <b>C53</b> (2008) 473-500 [arXiv:0706.2569].
     <pre class="sp">
     
     
     </pre>

     <li><a name="Archibald2008aa"></a>[<a href="http://inspirehep.net/search?p=F+J+Nucl. Phys.%2C179%2C218">Arc08</a>]
J. Archibald and T. Gleisberg and S. Hoche and F.  Krauss and M. Schonherr and S. Schumann and F.  Siegert and J. C. Winter, <em>Simulation of photon-photon interactions in hadron collisions with Sherpa</em>, Nucl. Phys. <b>179</b> (2008) 218-225 .
     <pre class="sp">
     
     
     </pre>

     <li><a name="Bahr2008pv"></a>[<a href="http://inspirehep.net/search?p=arXiv:0803.0883">Bah08b</a>]
M. Bahr and others, <em>Herwig++ Physics and Manual</em>, Eur. Phys. J. <b>C58</b> (2008) 639-707 [arXiv:0803.0883].
     <pre class="sp">
     
     
     </pre>

     <li><a name="Ballestrero1992dv"></a>[<a href="http://inspirehep.net/search?p=hep-ph/9212246">Bal92</a>]
A. Ballestrero and E. Maina and S. Moretti, <em>Heavy quarks and leptons at e^+e^- colliders</em>, Nucl. Phys. <b>B415</b> (1994) 265-292 [hep-ph/9212246].
     <pre class="sp">
     
     
     </pre>

     <li><a name="Barberio1993qi"></a>[<a href="http://inspirehep.net/search?p=F+J+Comput. Phys. Commun.%2C79%2C291">Bar93</a>]
E. Barberio and Z. Wc as, <em>PHOTOS - a universal monte carlo for QED radiative corrections: version 2.0</em>, Comput. Phys. Commun. <b>79</b> (1994) 291-308 .
     <pre class="sp">
     
     
     </pre>

     <li><a name="Bern2002jx"></a>[<a href="http://inspirehep.net/search?p=hep-ph/0206194">Ber02</a>]
Z. Bern and L. J. Dixon and C. Schmidt, <em>Isolating a light Higgs boson from the di-photon background at the LHC</em>, Phys. Rev. <b>D66</b> (2002) 074018 [hep-ph/0206194].
     <pre class="sp">
     
     
     </pre>

     <li><a name="Berends1994pv"></a>[<a href="http://inspirehep.net/search?p=hep-ph/9404313">Ber94</a>]
F. A. Berends and R. Pittau and R. Kleiss, <em>All electroweak four-fermion processes in electron-positron collisions</em>, Nucl. Phys. <b>B424</b> (1994) 308 [hep-ph/9404313].
     <pre class="sp">
     
     
     </pre>

     <li><a name="Binoth2010xt"></a>[<a href="http://inspirehep.net/search?p=arXiv:1001.1307">Bin10a</a>]
T. Binoth and others, <em>A proposal for a standard interface between Monte Carlo tools and one-loop programs</em>, Comput. Phys. Commun. <b>181</b> (2010) 1612-1622 [arXiv:1001.1307].
     <pre class="sp">
     
     
     </pre>

     <li><a name="Budnev1974de"></a>[<a href="http://inspirehep.net/search?p=F+J+Phys. Rept.%2C15%2C181">Bud74</a>]
V. M. Budnev and I. F. Ginzburg and G. V. Meledin and V. G. Serbo, <em>The two photon particle production mechanism. Physical problems. Applications. Equivalent photon approximation</em>, Phys. Rept. <b>15</b> (1974) 181-281 .
     <pre class="sp">
     
     
     </pre>

     <li><a name="Carli2009cg"></a>[<a href="http://inspirehep.net/search?p=arXiv:0912.3715">Car09</a>]
T. Carli and T. Gehrmann and S. Hoche, <em>Hadronic final states in deep-inelastic scattering with Sherpa</em>, Eur. Phys. J. <b>C67</b> (2010) 73 [arXiv:0912.3715].
     <pre class="sp">
     
     
     </pre>

     <li><a name="Catani2001cc"></a>[<a href="http://inspirehep.net/search?p=hep-ph/0109231">Cat01a</a>]
S. Catani and F. Krauss and R. Kuhn and B. R. Webber, <em>QCD matrix elements + parton showers</em>, JHEP <b>11</b> (2001) 063 [hep-ph/0109231].
     <pre class="sp">
     
     
     </pre>
     
<li><a name="Catani2002hc"></a>[<a href="http://inspirehep.net/search?p=hep-ph/0201036">Cat02</a>]
S. Catani and S. Dittmaier and M. H. Seymour and Z.  Trocsanyi, <em>The dipole formalism for next-to-leading order QCD calculations with massive partons</em>, Nucl. Phys. <b>B627</b> (2002) 189-265 [hep-ph/0201036].
     <pre class="sp">
     
     
     </pre>

     <li><a name="Catani1996vz"></a>[<a href="http://inspirehep.net/search?p=hep-ph/9605323">Cat96b</a>]
S. Catani and M. H. Seymour, <em>A general algorithm for calculating jet cross sections in NLO QCD</em>, Nucl. Phys. <b>B485</b> (1997) 291-419 [hep-ph/9605323].
     <pre class="sp">
     
     
     </pre>

     <li><a name="Christensen2008py"></a>[<a href="http://inspirehep.net/search?p=arXiv:0806.4194">Chr08</a>]
N. D. Christensen and C. Duhr, <em>FeynRules - Feynman rules made easy</em>, Comput. Phys. Commun. <b>180</b> (2009) 1614-1641 [arXiv:0806.4194].
     <pre class="sp">
     
     
     </pre>
     
<li><a name="Christensen2009jx"></a>[<a href="http://inspirehep.net/search?p=arXiv:0906.2474">Chr09</a>]
N. D. Christensen and P. de Aquino and C. Degrande and  C. Duhr and B. Fuks and M. Herquet and F. Maltoni and S. Schumann, <em>A comprehensive approach to new physics simulations</em>, Eur. Phys. J. <b>C71</b> (2011) 1541 [arXiv:0906.2474].
     <pre class="sp">
     
     
     </pre>

     <li><a name="Degrande2011ua"></a>[<a href="http://inspirehep.net/search?p=arXiv:1108.2040">Deg11</a>]
C. Degrande and C. Duhr and B. Fuks and D. Grellscheid and O. Mattelaer and T. Reiter, <em>UFO - The Universal FeynRules Output</em>, Comput. Phys. Commun. <b>138</b> (2012) 1201 [arXiv:1108.2040].
     <pre class="sp">
     
     
     </pre>

     <li><a name="Dixon2013haa"></a>[<a href="http://inspirehep.net/search?p=arXiv:1305.3854">Dix13</a>]
L. J. Dixon and Y. Li, <em>Bounding the Higgs Boson Width Through Interferometry</em>,     arXiv:1305.3854.
     <pre class="sp">
     
     
     </pre>

     <li><a name="Draggiotis2000gm"></a>[<a href="http://inspirehep.net/search?p=hep-ph/0004047">Dra00</a>]
P. D. Draggiotis and A. van Hameren and R. Kleiss, <em>SARGE: An algorithm for generating QCD-antennas</em>, Phys. Lett. <b>B483</b> (2000) 124-130 [hep-ph/0004047].
     <pre class="sp">
     
     
     </pre>

     <li><a name="Duhr2006iq"></a>[<a href="http://inspirehep.net/search?p=hep-ph/0607057">Duh06</a>]
C. Duhr and S. Hoche and F. Maltoni, <em>Color-dressed recursive relations for multi-parton amplitudes</em>, JHEP <b>08</b> (2006) 062 [hep-ph/0607057].
     <pre class="sp">
     
     
     </pre>

     <li><a name="Field1982dg"></a>[<a href="http://inspirehep.net/search?p=F+J+Nucl. Phys.%2CB213%2C65">Fie82a</a>]
R. D. Field and S. Wolfram, <em>A QCD model for e^+e^- annihilation</em>, Nucl. Phys. <b>B213</b> (1983) 65 .
     <pre class="sp">
     
     
     </pre>

     <li><a name="Frixione1998jh"></a>[<a href="http://inspirehep.net/search?p=hep-ph/9801442">Fri98</a>]
S. Frixione, <em>Isolated photons in perturbative QCD</em>, Phys. Lett. <b>B429</b> (1998) 369-374 [hep-ph/9801442].
     <pre class="sp">
     
     
     </pre>

     <li><a name="Gao2013xoa"></a>[<a href="http://inspirehep.net/search?p=arXiv:1302.6246">Gao13</a>]
J. Gao and M. Guzzi and J. Huston and H. L. Lai and Z.  Li and others, <em>The CT10 NNLO Global Analysis of QCD</em>,     arXiv:1302.6246.
     <pre class="sp">
     
     
     </pre>

     <li><a name="Gehrmann2012yg"></a>[<a href="http://inspirehep.net/search?p=arXiv:1207.5031">Geh12</a>]
T. Gehrmann and S. Hoche and F. Krauss and  M. Schonherr and F. Siegert, <em>NLO QCD matrix elements + parton showers in e^+e^- -&gt; hadrons</em>, JHEP <b>01</b> (2013) 144 [arXiv:1207.5031].
     <pre class="sp">
     
     
     </pre>

     <li><a name="Gleisberg2003bi"></a>[<a href="http://inspirehep.net/search?p=hep-ph/0311273">Gle03b</a>]
T. Gleisberg and F. Krauss and C. G. Papadopoulos and  A. Schalicke and S. Schumann, <em>Cross sections for multi-particle final states at a linear collider</em>, Eur. Phys. J. <b>C34</b> (2004) 173-180 [hep-ph/0311273].
     <pre class="sp">
     
     
     </pre>
     
<li><a name="Gleisberg2005qq"></a>[<a href="http://inspirehep.net/search?p=hep-ph/0504032">Gle05</a>]
T. Gleisberg and F. Krauss and A. Schalicke and S.  Schumann and J. C. Winter, <em>Studying W^+ W^- production at the Fermilab Tevatron with Sherpa</em>, Phys. Rev. <b>D72</b> (2005) 034028 [hep-ph/0504032].
     <pre class="sp">
     
     
     </pre>
     
<li><a name="Gleisberg2007md"></a>[<a href="http://inspirehep.net/search?p=arXiv:0709.2881">Gle07</a>]
T. Gleisberg and F. Krauss, <em>Automating dipole subtraction for QCD NLO calculations</em>, Eur. Phys. J. <b>C53</b> (2008) 501-523 [arXiv:0709.2881].
     <pre class="sp">
     
     
     </pre>
     
<li><a name="Gleisberg2008fv"></a>[<a href="http://inspirehep.net/search?p=arXiv:0808.3674">Gle08</a>]
T. Gleisberg and S. Hoche, <em>Comix a new matrix element generator</em>, JHEP <b>12</b> (2008) 039 [arXiv:0808.3674].
     <pre class="sp">
     
     
     </pre>

     <li><a name="Gleisberg2008ta"></a>[<a href="http://inspirehep.net/search?p=arXiv:0811.4622">Gle08b</a>]
T. Gleisberg and S. Hoche and F. Krauss and  M. Schonherr and S. Schumann and F Siegert and J. Winter, <em>Event generation with Sherpa 1.1</em>, JHEP <b>02</b> (2009) 007 [arXiv:0811.4622].
     <pre class="sp">
     
     
     </pre>

     <li><a name="Gluck1991ee"></a>[<a href="http://inspirehep.net/search?p=F+J+Phys. Rev.%2CD45%2C3986">Glu91</a>]
M. Gluck and E. Reya and A. Vogt, <em>Parton structure of the photon beyond the leading order</em>, Phys. Rev. <b>D45</b> (1992) 3986-3994 .
     <pre class="sp">
     
     
     </pre>
     
<li><a name="Gluck1991jc"></a>[<a href="http://inspirehep.net/search?p=F+J+Phys. Rev.%2CD46%2C1973">Glu91a</a>]
M. Gluck and E. Reya and A. Vogt, <em>Photonic parton distributions</em>, Phys. Rev. <b>D46</b> (1992) 1973-1979 .
     <pre class="sp">
     
     
     </pre>

     <li><a name="Gottschalk1982yt"></a>[<a href="http://inspirehep.net/search?p=F+J+Nucl. Phys.%2CB214%2C201">Got82</a>]
T. D. Gottschalk, <em>A realistic model for e^+e^- annihilation including parton bremsstrahlung effects</em>, Nucl. Phys. <b>B214</b> (1983) 201 .
     <pre class="sp">
     
     
     </pre>
     
<li><a name="Gottschalk1983fm"></a>[<a href="http://inspirehep.net/search?p=F+J+Nucl. Phys.%2CB239%2C349">Got83</a>]
T. D. Gottschalk, <em>An improved description of hadronization in the QCD cluster model for e^+e^- annihilation</em>, Nucl. Phys. <b>B239</b> (1984) 349 .
     <pre class="sp">
     
     
     </pre>
     
<li><a name="Gottschalk1986bv"></a>[<a href="http://inspirehep.net/search?p=F+J+Nucl. Phys.%2CB288%2C729">Got86</a>]
T. D. Gottschalk and D. A. Morris, <em>A new model for hadronization and e^+e^- annihilation</em>, Nucl. Phys. <b>B288</b> (1987) 729 .
     <pre class="sp">
     
     
     </pre>

     <li><a name="Hagiwara2005wg"></a>[<a href="http://inspirehep.net/search?p=hep-ph/0512260">Hag05</a>]
K. Hagiwara and others, <em>Supersymmetry simulations with off-shell effects for the CERN LHC and an ILC</em>, Phys. Rev. <b>D73</b> (2006) 055005 [hep-ph/0512260].
     <pre class="sp">
     
     
     </pre>

     <li><a name="vanHameren2002tc"></a>[<a href="http://inspirehep.net/search?p=hep-ph/0204055">Ham02</a>]
A. van Hameren and C. G. Papadopoulos, <em>A hierarchical phase space generator for QCD antenna structures</em>, Eur. Phys. J. <b>C25</b> (2002) 563-574 [hep-ph/0204055].
     <pre class="sp">
     
     
     </pre>

     <li><a name="Hamilton2009ne"></a>[<a href="http://inspirehep.net/search?p=arXiv:0905.3072">Ham09a</a>]
K. Hamilton and P. Richardson and J. Tully, <em>A modified CKKW matrix element merging approach to angular-ordered parton showers</em>, JHEP <b>11</b> (2009) 038 [arXiv:0905.3072].
     <pre class="sp">
     
     
     </pre>

     <li><a name="Hamilton2010wh"></a>[<a href="http://inspirehep.net/search?p=arXiv:1004.1764">Ham10</a>]
K. Hamilton and P. Nason, <em>Improving NLO-parton shower matched simulations with higher order matrix elements</em>, JHEP <b>06</b> (2010) 039 [arXiv:1004.1764].
     <pre class="sp">
     
     
     </pre>

     <li><a name="Hoche2006ph"></a>[<a href="http://inspirehep.net/search?p=hep-ph/0602031">Hoc06</a>]
S. Hoche and others, <em>Matching Parton Showers and Matrix Elements</em>,     hep-ph/0602031.
     <pre class="sp">
     
     
     </pre>

     <li><a name="Hoeche2009rj"></a>[<a href="http://inspirehep.net/search?p=arXiv:0903.1219">Hoe09</a>]
S. Hoche and F. Krauss and S. Schumann and  F. Siegert, <em>QCD matrix elements and truncated showers</em>, JHEP <b>05</b> (2009) 053 [arXiv:0903.1219].
     <pre class="sp">
     
     
     </pre>
     
<li><a name="Hoeche2009xc"></a>[<a href="http://inspirehep.net/search?p=arXiv:0912.3501">Hoe09a</a>]
S. Hoche and S. Schumann and F. Siegert, <em>Hard photon production and matrix-element parton-shower merging</em>, Phys. Rev. <b>D81</b> (2010) 034026 [arXiv:0912.3501].
     <pre class="sp">
     
     
     </pre>
     
<li><a name="Hoeche2010kg"></a>[<a href="http://inspirehep.net/search?p=arXiv:1009.1127">Hoe10</a>]
S. Hoche and F. Krauss and M. Schonherr and F. Siegert, <em>NLO matrix elements and truncated showers</em>, JHEP <b>08</b> (2011) 123 [arXiv:1009.1127].
     <pre class="sp">
     
     
     </pre>

     <li><a name="Hoeche2012yf"></a>[<a href="http://inspirehep.net/search?p=arXiv:1207.5030">Hoe12a</a>]
S. Hoche and F. Krauss and M. Schonherr and F. Siegert, <em>QCD matrix elements + parton showers: The NLO case</em>, JHEP <b>04</b> (2013) 027 [arXiv:1207.5030].
     <pre class="sp">
     
     
     </pre>

     <li><a name="Hoeche2013mua"></a>[<a href="http://inspirehep.net/search?p=arXiv:1306.2703">Hoe13</a>]
S. Hoeche and J. Huang and G. Luisoni and  M. Schoenherr and J. Winter, <em>Zero and one jet combined NLO analysis of the top quark forward-backward asymmetry</em>, Phys.Rev. <b>D88</b> (2013) 014040 arXiv:1306.2703.
     <pre class="sp">
     
     
     </pre>

     <li><a name="Hoeche2014kca"></a>[<a href="http://inspirehep.net/search?p=arXiv:1412.6478">Hoe14c</a>]
S. Hoeche and S. Kuttimalai and S. Schumann and F. Siegert, <em>Beyond Standard Model calculations with Sherpa</em>, Eur. Phys. J. <b>C75</b> (2015) 135 [arXiv:1412.6478].
     <pre class="sp">
     
     
     </pre>
     
<li><a name="Hoche2015sya"></a>[<a href="http://inspirehep.net/search?p=arXiv:1506.05057">Hoe15</a>]
S. Hoeche and S. Prestel, <em>The midpoint between dipole and parton showers</em>,     arXiv:1506.05057.
     <pre class="sp">
     
     
     </pre>

     <li><a name="Jadach1993hs"></a>[<a href="http://inspirehep.net/search?p=F+J+Comput. Phys. Commun.%2C76%2C361">Jad93</a>]
S. Jadach and Z. Was and R. Decker and J. H. Kuhn, <em>The tau decay library TAUOLA: Version 2.4</em>, Comput. Phys. Commun. <b>76</b> (1993) 361-380 .
     <pre class="sp">
     
     
     </pre>

     <li><a name="Kanaki2000ey"></a>[<a href="http://inspirehep.net/search?p=hep-ph/0002082">Kan00</a>]
A. Kanaki and C. G. Papadopoulos, <em>HELAC: A package to compute electroweak helicity amplitudes</em>, Comput. Phys. Commun. <b>132</b> (2000) 306-315 [hep-ph/0002082].
     <pre class="sp">
     
     
     </pre>

     <li><a name="Kleiss1985yh"></a>[<a href="http://inspirehep.net/search?p=F+J+Nucl. Phys.%2CB262%2C235">Kle85</a>]
R. Kleiss and W. J. Stirling, <em>Spinor techniques for calculating pbarpto W^pm/Z^0+jets</em>, Nucl. Phys. <b>B262</b> (1985) 235-262 .
     <pre class="sp">
     
     
     </pre>
     
<li><a name="Kleiss1985gy"></a>[<a href="http://inspirehep.net/search?p=F+J+Comput. Phys. Commun.%2C40%2C359">Kle85a</a>]
R. Kleiss and W. J. Stirling and S. D. Ellis, <em>A new Monte Carlo treatment of multiparticle phase space at high energies</em>, Comput. Phys. Commun. <b>40</b> (1986) 359 .
     <pre class="sp">
     
     
     </pre>

     <li><a name="Kleiss1994qy"></a>[<a href="http://inspirehep.net/search?p=hep-ph/9405257">Kle94</a>]
R. Kleiss and R. Pittau, <em>Weight optimization in multichannel Monte Carlo</em>, Comput. Phys. Commun. <b>83</b> (1994) 141-146 [hep-ph/9405257].
     <pre class="sp">
     
     
     </pre>

     <li><a name="Krauss2001iv"></a>[<a href="http://inspirehep.net/search?p=hep-ph/0109036">Kra01</a>]
F. Krauss and R. Kuhn and G. Soff, <em>AMEGIC++ 1.0: A Matrix Element Generator In C++</em>, JHEP <b>02</b> (2002) 044 [hep-ph/0109036].
     <pre class="sp">
     
     
     </pre>
     
<li><a name="Krauss2002up"></a>[<a href="http://inspirehep.net/search?p=hep-ph/0205283">Kra02</a>]
F. Krauss, <em>Matrix elements and parton showers in hadronic interactions</em>, JHEP <b>0208</b> (2002) 015 [hep-ph/0205283].
     <pre class="sp">
     
     
     </pre>
     
<li><a name="Krauss2004bs"></a>[<a href="http://inspirehep.net/search?p=hep-ph/0409106">Kra04</a>]
F. Krauss and A. Schalicke and S. Schumann and G.  Soff, <em>Simulating W/Z + jets production at the Tevatron</em>, Phys. Rev. <b>D70</b> (2004) 114009 [hep-ph/0409106].
     <pre class="sp">
     
     
     </pre>
     
<li><a name="Krauss2005nu"></a>[<a href="http://inspirehep.net/search?p=hep-ph/0503280">Kra05</a>]
F. Krauss and A. Schalicke and S. Schumann and G.  Soff, <em>Simulating W/Z + jets production at the CERN LHC</em>, Phys. Rev. <b>D72</b> (2005) 054017 [hep-ph/0503280].
     <pre class="sp">
     
     
     </pre>

     <li><a name="Krauss2010xx"></a>[<a href="http://inspirehep.net/search?p=">Kra10</a>]
F. Krauss and T. Laubrich and F. Siegert, <em>Simulation of hadron decays in Sherpa</em>,     .
     <pre class="sp">
     
     
     </pre>

     <li><a name="Lai2010vv"></a>[<a href="http://inspirehep.net/search?p=arXiv:1007.2241">Lai10</a>]
H. L. Lai and M. Guzzi and J. Huston and Z. Li and P. M. Nadolsky and others, <em>New parton distributions for collider physics</em>, Phys.Rev. <b>D82</b> (2010) 074024 [arXiv:1007.2241].
     <pre class="sp">
     
     
     </pre>

     <li><a name="Lange2001uf"></a>[<a href="http://inspirehep.net/search?p=F+J+Nucl. Instrum. Meth.%2CA462%2C152">Lan01</a>]
D. J. Lange, <em>The EvtGen particle decay simulation package</em>, Nucl. Instrum. Meth. <b>A462</b> (2001) 152-155 .
     <pre class="sp">
     
     
     </pre>

     <li><a name="Lavesson2005xu"></a>[<a href="http://inspirehep.net/search?p=hep-ph/0503293">Lav05</a>]
N. Lavesson and L. Lonnblad, <em>W+jets matrix elements and the dipole cascade</em>, JHEP <b>07</b> (2005) 054 [hep-ph/0503293].
     <pre class="sp">
     
     
     </pre>

     <li><a name="Lavesson2008ah"></a>[<a href="http://inspirehep.net/search?p=arXiv:0811.2912">Lav08</a>]
N. Lavesson and L. Lonnblad, <em>Extending CKKW-merging to one-loop matrix elements</em>, JHEP <b>12</b> (2008) 070 [arXiv:0811.2912].
     <pre class="sp">
     
     
     </pre>

     <li><a name="Lepage1980dq"></a>[<a href="http://inspirehep.net/search?p=">Lep80</a>]
G. P. Lepage, <em>VEGAS - An Adaptive Multi-dimensional Integration Program</em>,     .
     <pre class="sp">
     
     
     </pre>

     <li><a name="Lonnblad2001iq"></a>[<a href="http://inspirehep.net/search?p=hep-ph/0112284">Lon01</a>]
L. Lonnblad, <em>Correcting the colour-dipole cascade model with fixed order matrix elements</em>, JHEP <b>05</b> (2002) 046 [hep-ph/0112284].
     <pre class="sp">
     
     
     </pre>
     
<li><a name="Lonnblad2011xx"></a>[<a href="http://inspirehep.net/search?p=arXiv:1109.4829">Lon11</a>]
L. Lonnblad and S. Prestel, <em>Matching Tree-Level Matrix Elements with Interleaved Showers</em>, JHEP <b>03</b> (2012) 019 [arXiv:1109.4829].
     <pre class="sp">
     
     
     </pre>

     <li><a name="Lonnblad2012ix"></a>[<a href="http://inspirehep.net/search?p=arXiv:1211.7278">Lon12a</a>]
L. Lonnblad and S. Prestel, <em>Merging Multi-leg NLO Matrix Elements with Parton Showers</em>,     arXiv:1211.7278.
     <pre class="sp">
     
     
     </pre>
     
<li><a name="Lonnblad2012ng"></a>[<a href="http://inspirehep.net/search?p=arXiv:1211.4827">Lon12b</a>]
L. Lonnblad and S. Prestel, <em>Unitarising Matrix Element + Parton Shower merging</em>,     arXiv:1211.4827.
     <pre class="sp">
     
     
     </pre>
     
<li><a name="Lonnblad1992tz"></a>[<a href="http://inspirehep.net/search?p=F+J+Comput. Phys. Commun.%2C71%2C15">Lon92</a>]
L. Lonnblad, <em>Ariadne version 4: A program for simulation of QCD cascades implementing the colour dipole model</em>, Comput. Phys. Commun. <b>71</b> (1992) 15-31 .
     <pre class="sp">
     
     
     </pre>

     <li><a name="Maltoni2002qb"></a>[<a href="http://inspirehep.net/search?p=hep-ph/0208156">Mal02a</a>]
F. Maltoni and T. Stelzer, <em>MadEvent: automatic event generation with MadGraph</em>, JHEP <b>02</b> (2003) 027 [hep-ph/0208156].
     <pre class="sp">
     
     
     </pre>
     
<li><a name="Mangano2001xp"></a>[<a href="http://inspirehep.net/search?p=hep-ph/0108069">Man01</a>]
M. L. Mangano and M. Moretti and R. Pittau, <em>Multijet matrix elements and shower evolution in hadronic collisions: W bbarb+n-jets as a case study</em>, Nucl. Phys. <b>B632</b> (2002) 343-362 [hep-ph/0108069].
     <pre class="sp">
     
     
     </pre>
     
<li><a name="Mangano2002ea"></a>[<a href="http://inspirehep.net/search?p=hep-ph/0206293">Man02</a>]
M. L. Mangano and M. Moretti and F. Piccinini and R. Pittau and A. D. Polosa, <em>ALPGEN a generator for hard multiparton processes in hadronic collisions</em>, JHEP <b>07</b> (2003) 001 [hep-ph/0206293].
     <pre class="sp">
     
     
     </pre>
     
<li><a name="Mangano2006rw"></a>[<a href="http://inspirehep.net/search?p=hep-ph/0611129">Man06</a>]
M. L. Mangano and M. Moretti and F. Piccinini and M. Treccani, <em>Matching matrix elements and shower evolution for top-pair production in hadronic collisions</em>, JHEP <b>01</b> (2007) 013 [hep-ph/0611129].
     <pre class="sp">
     
     
     </pre>

     <li><a name="Martin2001es"></a>[<a href="http://inspirehep.net/search?p=hep-ph/0110215">Mar01</a>]
A. D. Martin and R. G. Roberts and W. J. Stirling and  R. S. Thorne, <em>MRST2001: Partons and alpha_s from precise deep inelastic scattering and Tevatron jet data</em>, Eur. Phys. J. <b>C23</b> (2002) 73-87 [hep-ph/0110215].
     <pre class="sp">
     
     
     </pre>
     
<li><a name="Martin2004dh"></a>[<a href="http://inspirehep.net/search?p=hep-ph/0411040">Mar04</a>]
A. D. Martin and R. G. Roberts and W. J. Stirling and  R. S. Thorne, <em>Parton distributions incorporating QED contributions</em>, Eur. Phys. J. <b>C39</b> (2005) 155-161 [hep-ph/0411040].
     <pre class="sp">
     
     
     </pre>

     <li><a name="Martin2009iq"></a>[<a href="http://inspirehep.net/search?p=arXiv:0901.0002">Mar09a</a>]
A. D. Martin and W. J. Stirling and R. S. Thorne and G. Watt, <em>Parton distributions for the LHC</em>, Eur. Phys. J. <b>C63</b> (2009) 189-295 [arXiv:0901.0002].
     <pre class="sp">
     
     
     </pre>

     <li><a name="Marchesini1987cf"></a>[<a href="http://inspirehep.net/search?p=F+J+Nucl. Phys.%2CB310%2C461">Mar87</a>]
G. Marchesini and B. R. Webber, <em>Monte Carlo Simulation of General Hard Processes with Coherent QCD Radiation</em>, Nucl. Phys. <b>B310</b> (1988) 461 .
     <pre class="sp">
     
     
     </pre>

     <li><a name="Martin1999ww"></a>[<a href="http://inspirehep.net/search?p=hep-ph/9907231">Mar99</a>]
A. D. Martin and R. G. Roberts and W. J. Stirling and  R. S. Thorne, <em>Parton distributions and the LHC: W and Z production</em>, Eur. Phys. J. <b>C14</b> (2000) 133-145 [hep-ph/9907231].
     <pre class="sp">
     
     
     </pre>

     <li><a name="Nadolsky2008zw"></a>[<a href="http://inspirehep.net/search?p=arXiv:0802.0007">Nad08</a>]
P. M. Nadolsky and others, <em>Implications of CTEQ global analysis for collider observables</em>, Phys. Rev. <b>D78</b> (2008) 013004 [arXiv:0802.0007].
     <pre class="sp">
     
     
     </pre>

     <li><a name="Nagy2003tz"></a>[<a href="http://inspirehep.net/search?p=hep-ph/0307268">Nag03</a>]
Z. Nagy, <em>Next-to-leading order calculation of three-jet observables in hadron-hadron collisions</em>, Phys. Rev. <b>D68</b> (2003) 094002 [hep-ph/0307268].
     <pre class="sp">
     
     
     </pre>
     
<li><a name="Nagy2005aa"></a>[<a href="http://inspirehep.net/search?p=hep-ph/0503053">Nag05</a>]
Z. Nagy and D. E. Soper, <em>Matching parton showers to NLO computations</em>, JHEP <b>10</b> (2005) 024 [hep-ph/0503053].
     <pre class="sp">
     
     
     </pre>

     <li><a name="Nagy2006kb"></a>[<a href="http://inspirehep.net/search?p=hep-ph/0601021">Nag06</a>]
Z. Nagy and D. E. Soper, <em>A new parton shower algorithm: Shower evolution matching at leading and next-to-leading order level</em>,     hep-ph/0601021.
     <pre class="sp">
     
     
     </pre>

     <li><a name="Papadopoulos2005ky"></a>[<a href="http://inspirehep.net/search?p=hep-ph/0512150">Pap05</a>]
C. G. Papadopoulos and M. Worek, <em>Multi-parton cross sections at hadron colliders</em>, Eur. Phys. J. <b>C50</b> (2007) 843-856 [hep-ph/0512150].
     <pre class="sp">
     
     
     </pre>

     <li><a name="Ryskin2009tj"></a>[<a href="http://inspirehep.net/search?p=arXiv:0812.2407">Rys09</a>]
M. G. Ryskin and A. D. Martin and V. A. Khoze, <em>Soft processes at the LHC I: Multi-component model</em>, Eur. Phys. J. <b>C60</b> (2009) 249-264 [arXiv:0812.2407].
     <pre class="sp">
     
     
     </pre>

     <li><a name="Schumann2007mg"></a>[<a href="http://inspirehep.net/search?p=arXiv:0709.1027">Sch07a</a>]
S. Schumann and F. Krauss, <em>A parton shower algorithm based on Catani-Seymour dipole factorisation</em>, JHEP <b>03</b> (2008) 038 [arXiv:0709.1027].
     <pre class="sp">
     
     
     </pre>
     
<li><a name="Schonherr2008av"></a>[<a href="http://inspirehep.net/search?p=arXiv:0810.5071">Sch08</a>]
M. Schonherr and F. Krauss, <em>Soft photon radiation in particle decays in Sherpa</em>, JHEP <b>12</b> (2008) 018 [arXiv:0810.5071].
     <pre class="sp">
     
     
     </pre>

     <li><a name="Sjostrand2006za"></a>[<a href="http://inspirehep.net/search?p=hep-ph/0603175">Sjo06</a>]
T. Sjostrand and S. Mrenna and P. Skands, <em>PYTHIA 6.4 physics and manual</em>, JHEP <b>05</b> (2006) 026 [hep-ph/0603175].
     <pre class="sp">
     
     
     </pre>
     
<li><a name="Sjostrand2007gs"></a>[<a href="http://inspirehep.net/search?p=arXiv:0710.3820">Sjo07</a>]
T. Sjostrand and S. Mrenna and P. Skands, <em>A brief introduction to PYTHIA 8.1</em>, Comput. Phys. Commun. <b>178</b> (2008) 852-867 [arXiv:0710.3820].
     <pre class="sp">
     
     
     </pre>

     <li><a name="Sjostrand1987su"></a>[<a href="http://inspirehep.net/search?p=F+J+Phys. Rev.%2CD36%2C2019">Sjo87</a>]
T. Sjostrand and M. van Zijl, <em>A multiple-interaction model for the event structure in hadron collisions</em>, Phys. Rev. <b>D36</b> (1987) 2019 .
     <pre class="sp">
     
     
     </pre>

     <li><a name="Stelzer1994ta"></a>[<a href="http://inspirehep.net/search?p=hep-ph/9401258">Ste94</a>]
T. Stelzer and W. F. Long, <em>Automatic generation of tree level helicity amplitudes</em>, Comput. Phys. Commun. <b>81</b> (1994) 357-371 [hep-ph/9401258].
     <pre class="sp">
     
     
     </pre>

     <li><a name="Webber1983if"></a>[<a href="http://inspirehep.net/search?p=F+J+Nucl. Phys.%2CB238%2C492">Web83</a>]
B. R. Webber, <em>A QCD model for jet fragmentation including soft gluon interference</em>, Nucl. Phys. <b>B238</b> (1984) 492 .
     <pre class="sp">
     
     
     </pre>

     <li><a name="Whalley2005nh"></a>[<a href="http://inspirehep.net/search?p=hep-ph/0508110">Wha05</a>]
M. R. Whalley and D. Bourilkov and R. C. Group, <em>The Les Houches Accord PDFs (LHAPDF) and LHAGLUE</em>,     hep-ph/0508110.
     <pre class="sp">
     
     
     </pre>
     
<li><a name="Winter2003tt"></a>[<a href="http://inspirehep.net/search?p=hep-ph/0311085">Win03</a>]
J. C. Winter and F. Krauss and G. Soff, <em>A modified cluster-hadronisation model</em>, Eur. Phys. J. <b>C36</b> (2004) 381-395 [hep-ph/0311085].
     <pre class="sp">
     
     
     </pre>

     <li><a name="Wolfenstein1983yz"></a>[<a href="http://inspirehep.net/search?p=F+J+Phys. Rev. Lett.%2C51%2C1945">Wol83</a>]
L. Wolfenstein, <em>Parametrization of the Kobayashi-Maskawa Matrix</em>, Phys. Rev. Lett. <b>51</b> (1983) 1945 .
     <pre class="sp">
     
     
     </pre>

     <li><a name="Yennie1961ad"></a>[<a href="http://inspirehep.net/search?p=F+J+Ann. Phys.%2C13%2C379">Yen61</a>]
D. R. Yennie and S. C. Frautschi and H. Suura, <em>The Infrared Divergence Phenomena and High-Energy Processes</em>, Ann. Phys. <b>13</b> (1961) 379-452 .
     <pre class="sp">
     
     
     </pre>

     <li><a name="Zarnecki2002qr"></a>[<a href="http://inspirehep.net/search?p=hep-ex/0207021">Zar02</a>]
A. F. Zarnecki, <em>CompAZ: Parametrization of the luminosity spectra for the photon collider</em>, Acta Phys. Polon. <b>B34</b> (2003) 2741-2758 [hep-ex/0207021].
     <pre class="sp">
     
     
     </pre>

     <li><a name="Beazley2003"></a>[<a href="http://inspirehep.net/search?p=">Bea03</a>]
D. M. Beazley, <em>Automated scientific software scripting with SWIG</em>, Future Generation Computer Systems <b>19</b> (2003) 599-609 .
     <pre class="sp">
     
     
     </pre>

</ul>

<div class="node">
<a name="Index"></a>
<p><hr>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#References">References</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="appendix">Appendix B Index</h2>

<ul class="index-cp" compact>
<li><a href="#index-g_t1_002fALPHAQED_00280_0029-78">1/ALPHAQED(0)</a>: <a href="#SM">SM</a></li>
<li><a href="#index-A-85">A</a>: <a href="#SM">SM</a></li>
<li><a href="#index-ACTIVE_005b_003cid_003e_005d-96">ACTIVE[&lt;id&gt;]</a>: <a href="#SM">SM</a></li>
<li><a href="#index-ALPHAQED_005fDEFAULT_005fSCALE-89">ALPHAQED_DEFAULT_SCALE</a>: <a href="#SM">SM</a></li>
<li><a href="#index-ALPHAS_0028MZ_0029-88">ALPHAS(MZ)</a>: <a href="#SM">SM</a></li>
<li><a href="#index-ANALYSIS-11">ANALYSIS</a>: <a href="#ANALYSIS">ANALYSIS</a></li>
<li><a href="#index-ANALYSIS_005fOUTPUT-248">ANALYSIS_OUTPUT</a>: <a href="#HZTool-analyses">HZTool analyses</a></li>
<li><a href="#index-ANALYSIS_005fOUTPUT-247">ANALYSIS_OUTPUT</a>: <a href="#Rivet-analyses">Rivet analyses</a></li>
<li><a href="#index-ANALYSIS_005fOUTPUT-12">ANALYSIS_OUTPUT</a>: <a href="#ANALYSIS_005fOUTPUT">ANALYSIS_OUTPUT</a></li>
<li><a href="#index-BARYON_005fFRACTION-202">BARYON_FRACTION</a>: <a href="#Fragmentation">Fragmentation</a></li>
<li><a href="#index-BATCH_005fMODE-17">BATCH_MODE</a>: <a href="#BATCH_005fMODE">BATCH_MODE</a></li>
<li><a href="#index-BEAM_005f1-33">BEAM_1</a>: <a href="#Beam-Parameters">Beam Parameters</a></li>
<li><a href="#index-BEAM_005f2-34">BEAM_2</a>: <a href="#Beam-Parameters">Beam Parameters</a></li>
<li><a href="#index-BEAM_005fENERGY_005f1-35">BEAM_ENERGY_1</a>: <a href="#Beam-Parameters">Beam Parameters</a></li>
<li><a href="#index-BEAM_005fENERGY_005f2-36">BEAM_ENERGY_2</a>: <a href="#Beam-Parameters">Beam Parameters</a></li>
<li><a href="#index-BEAM_005fREMNANTS-61">BEAM_REMNANTS</a>: <a href="#Intrinsic-Transverse-Momentum">Intrinsic Transverse Momentum</a></li>
<li><a href="#index-BEAM_005fSMAX-42">BEAM_SMAX</a>: <a href="#Beam-Spectra">Beam Spectra</a></li>
<li><a href="#index-BEAM_005fSMIN-41">BEAM_SMIN</a>: <a href="#Beam-Spectra">Beam Spectra</a></li>
<li><a href="#index-BEAM_005fSPECTRUM_005f1-37">BEAM_SPECTRUM_1</a>: <a href="#Beam-Spectra">Beam Spectra</a></li>
<li><a href="#index-BEAM_005fSPECTRUM_005f2-38">BEAM_SPECTRUM_2</a>: <a href="#Beam-Spectra">Beam Spectra</a></li>
<li><a href="#index-beta_005f0_005e2-231">beta_0^2</a>: <a href="#Minimum-Bias">Minimum Bias</a></li>
<li><a href="#index-BH_005fSETTINGS_005fFILE-118">BH_SETTINGS_FILE</a>: <a href="#Loop_005fGenerator">Loop_Generator</a></li>
<li><a href="#index-BUNCH_005f1-62">BUNCH_1</a>: <a href="#ISR-Parameters">ISR Parameters</a></li>
<li><a href="#index-BUNCH_005f2-63">BUNCH_2</a>: <a href="#ISR-Parameters">ISR Parameters</a></li>
<li><a href="#index-CABIBBO-84">CABIBBO</a>: <a href="#SM">SM</a></li>
<li><a href="#index-CHECK_005fBORN-251">CHECK_BORN</a>: <a href="#Checking-the-pole-cancellation">Checking the pole cancellation</a></li>
<li><a href="#index-CHECK_005fFINITE-252">CHECK_FINITE</a>: <a href="#Checking-the-pole-cancellation">Checking the pole cancellation</a></li>
<li><a href="#index-CHECK_005fPOLES-253">CHECK_POLES</a>: <a href="#Checking-the-pole-cancellation">Checking the pole cancellation</a></li>
<li><a href="#index-CHECK_005fPOLES_005fTHRESHOLD-254">CHECK_POLES_THRESHOLD</a>: <a href="#Checking-the-pole-cancellation">Checking the pole cancellation</a></li>
<li><a href="#index-Chi_005fS-239">Chi_S</a>: <a href="#Minimum-Bias">Minimum Bias</a></li>
<li><a href="#index-CKMORDER-83">CKMORDER</a>: <a href="#SM">SM</a></li>
<li><a href="#index-CORE_005fSCALE-108">CORE_SCALE</a>: <a href="#METS-scale-setting-with-multiparton-core-processes">METS scale setting with multiparton core processes</a></li>
<li><a href="#index-COUPLING_005fSCHEME-109">COUPLING_SCHEME</a>: <a href="#COUPLING_005fSCHEME">COUPLING_SCHEME</a></li>
<li><a href="#index-COUPLINGS-110">COUPLINGS</a>: <a href="#COUPLINGS">COUPLINGS</a></li>
<li><a href="#index-CSS_005fEVOLUTION_005fSCHEME-152">CSS_EVOLUTION_SCHEME</a>: <a href="#CS-Shower-options">CS Shower options</a></li>
<li><a href="#index-CSS_005fEW_005fMODE-148">CSS_EW_MODE</a>: <a href="#CS-Shower-options">CS Shower options</a></li>
<li><a href="#index-CSS_005fFS_005fAS_005fFAC-147">CSS_FS_AS_FAC</a>: <a href="#CS-Shower-options">CS Shower options</a></li>
<li><a href="#index-CSS_005fFS_005fPT2MIN-145">CSS_FS_PT2MIN</a>: <a href="#CS-Shower-options">CS Shower options</a></li>
<li><a href="#index-CSS_005fIS_005fAS_005fFAC-146">CSS_IS_AS_FAC</a>: <a href="#CS-Shower-options">CS Shower options</a></li>
<li><a href="#index-CSS_005fIS_005fPT2MIN-144">CSS_IS_PT2MIN</a>: <a href="#CS-Shower-options">CS Shower options</a></li>
<li><a href="#index-CSS_005fKIN_005fSCHEME-143">CSS_KIN_SCHEME</a>: <a href="#CS-Shower-options">CS Shower options</a></li>
<li><a href="#index-CSS_005fMASS_005fTHRESHOLD-151">CSS_MASS_THRESHOLD</a>: <a href="#CS-Shower-options">CS Shower options</a></li>
<li><a href="#index-CSS_005fMAXEM-150">CSS_MAXEM</a>: <a href="#CS-Shower-options">CS Shower options</a></li>
<li><a href="#index-CSS_005fNOEM-149">CSS_NOEM</a>: <a href="#CS-Shower-options">CS Shower options</a></li>
<li><a href="#index-CSS_005fSCALE_005fSCHEME-153">CSS_SCALE_SCHEME</a>: <a href="#CS-Shower-options">CS Shower options</a></li>
<li><a href="#index-DEACTIVATE_005fGGH-102">DEACTIVATE_GGH</a>: <a href="#HEFT">HEFT</a></li>
<li><a href="#index-DEACTIVATE_005fPPH-101">DEACTIVATE_PPH</a>: <a href="#HEFT">HEFT</a></li>
<li><a href="#index-DECAY_005fOFFSET-207">DECAY_OFFSET</a>: <a href="#Fragmentation">Fragmentation</a></li>
<li><a href="#index-DECAY_005fRESULT_005fDIRECTORY-133">DECAY_RESULT_DIRECTORY</a>: <a href="#DECAY_005fRESULT_005fDIRECTORY">DECAY_RESULT_DIRECTORY</a></li>
<li><a href="#index-DECAY_005fTAU_005fHARD-139">DECAY_TAU_HARD</a>: <a href="#DECAY_005fTAU_005fHARD">DECAY_TAU_HARD</a></li>
<li><a href="#index-DECAYMODEL-212">DECAYMODEL</a>: <a href="#Hadron-decays">Hadron decays</a></li>
<li><a href="#index-DECAYPATH-216">DECAYPATH</a>: <a href="#Hadron-decays">Hadron decays</a></li>
<li><a href="#index-Delphes-27">Delphes</a>: <a href="#Event-output-formats">Event output formats</a></li>
<li><a href="#index-Delta-236">Delta</a>: <a href="#Minimum-Bias">Minimum Bias</a></li>
<li><a href="#index-deltaY-234">deltaY</a>: <a href="#Minimum-Bias">Minimum Bias</a></li>
<li><a href="#index-DIPOLE_005fALPHA-113">DIPOLE_ALPHA</a>: <a href="#Dipole-subtraction">Dipole subtraction</a></li>
<li><a href="#index-DIPOLE_005fAMIN-116">DIPOLE_AMIN</a>: <a href="#Dipole-subtraction">Dipole subtraction</a></li>
<li><a href="#index-DIPOLE_005fKAPPA-114">DIPOLE_KAPPA</a>: <a href="#Dipole-subtraction">Dipole subtraction</a></li>
<li><a href="#index-DIPOLE_005fNF_005fGSPLIT-115">DIPOLE_NF_GSPLIT</a>: <a href="#Dipole-subtraction">Dipole subtraction</a></li>
<li><a href="#index-E_005fLASER_005f-43">E_LASER_</a>: <a href="#Beam-Spectra">Beam Spectra</a></li>
<li><a href="#index-EPA_005fAlphaQED-56">EPA_AlphaQED</a>: <a href="#Beam-Spectra">Beam Spectra</a></li>
<li><a href="#index-EPA_005fForm_005fFactor_005f1-54">EPA_Form_Factor_1</a>: <a href="#Beam-Spectra">Beam Spectra</a></li>
<li><a href="#index-EPA_005fForm_005fFactor_005f2-55">EPA_Form_Factor_2</a>: <a href="#Beam-Spectra">Beam Spectra</a></li>
<li><a href="#index-EPA_005fptMin_005f1-52">EPA_ptMin_1</a>: <a href="#Beam-Spectra">Beam Spectra</a></li>
<li><a href="#index-EPA_005fptMin_005f2-53">EPA_ptMin_2</a>: <a href="#Beam-Spectra">Beam Spectra</a></li>
<li><a href="#index-EPA_005fq2Max_005f1-50">EPA_q2Max_1</a>: <a href="#Beam-Spectra">Beam Spectra</a></li>
<li><a href="#index-EPA_005fq2Max_005f2-51">EPA_q2Max_2</a>: <a href="#Beam-Spectra">Beam Spectra</a></li>
<li><a href="#index-ETA-86">ETA</a>: <a href="#SM">SM</a></li>
<li><a href="#index-EVENT_005fDISPLAY_005fINTERVAL-18">EVENT_DISPLAY_INTERVAL</a>: <a href="#BATCH_005fMODE">BATCH_MODE</a></li>
<li><a href="#index-EVENT_005fGENERATION_005fMODE-106">EVENT_GENERATION_MODE</a>: <a href="#EVENT_005fGENERATION_005fMODE">EVENT_GENERATION_MODE</a></li>
<li><a href="#index-EVENT_005fINPUT-32">EVENT_INPUT</a>: <a href="#Event-output-formats">Event output formats</a></li>
<li><a href="#index-EVENT_005fOUTPUT-31">EVENT_OUTPUT</a>: <a href="#Event-output-formats">Event output formats</a></li>
<li><a href="#index-EVENT_005fTYPE-227">EVENT_TYPE</a>: <a href="#Minimum-Bias">Minimum Bias</a></li>
<li><a href="#index-EVENT_005fTYPE-4">EVENT_TYPE</a>: <a href="#EVENT_005fTYPE">EVENT_TYPE</a></li>
<li><a href="#index-EVENTS-3">EVENTS</a>: <a href="#EVENTS">EVENTS</a></li>
<li><a href="#index-EVT_005fFILE_005fPATH-29">EVT_FILE_PATH</a>: <a href="#Event-output-formats">Event output formats</a></li>
<li><a href="#index-EVT_005fOUTPUT-8">EVT_OUTPUT</a>: <a href="#OUTPUT">OUTPUT</a></li>
<li><a href="#index-EW_005fSCHEME-82">EW_SCHEME</a>: <a href="#SM">SM</a></li>
<li><a href="#index-FILE_005fSIZE-28">FILE_SIZE</a>: <a href="#Event-output-formats">Event output formats</a></li>
<li><a href="#index-FINISH_005fOPTIMIZATION-123">FINISH_OPTIMIZATION</a>: <a href="#FINISH_005fOPTIMIZATION">FINISH_OPTIMIZATION</a></li>
<li><a href="#index-FINITE_005fTOP_005fMASS-99">FINITE_TOP_MASS</a>: <a href="#HEFT">HEFT</a></li>
<li><a href="#index-FINITE_005fW_005fMASS-100">FINITE_W_MASS</a>: <a href="#HEFT">HEFT</a></li>
<li><a href="#index-FRAGMENTATION-165">FRAGMENTATION</a>: <a href="#Fragmentation">Fragmentation</a></li>
<li><a href="#index-HARD_005fDECAYS-127">HARD_DECAYS</a>: <a href="#Hard-decays">Hard decays</a></li>
<li><a href="#index-HARD_005fMASS_005fSMEARING-137">HARD_MASS_SMEARING</a>: <a href="#HARD_005fMASS_005fSMEARING">HARD_MASS_SMEARING</a></li>
<li><a href="#index-HARD_005fSPIN_005fCORRELATIONS-220">HARD_SPIN_CORRELATIONS</a>: <a href="#Hadron-decays">Hadron decays</a></li>
<li><a href="#index-HARD_005fSPIN_005fCORRELATIONS-131">HARD_SPIN_CORRELATIONS</a>: <a href="#HARD_005fSPIN_005fCORRELATIONS">HARD_SPIN_CORRELATIONS</a></li>
<li><a href="#index-HDH_005fBR_005fWEIGHTS-136">HDH_BR_WEIGHTS</a>: <a href="#HDH_005fBR_005fWEIGHTS">HDH_BR_WEIGHTS</a></li>
<li><a href="#index-HDH_005fINT_005fACCURACY-140">HDH_INT_ACCURACY</a>: <a href="#Decay-table-integration-settings">Decay table integration settings</a></li>
<li><a href="#index-HDH_005fINT_005fNITER-142">HDH_INT_NITER</a>: <a href="#Decay-table-integration-settings">Decay table integration settings</a></li>
<li><a href="#index-HDH_005fINT_005fTARGET_005fMODE-141">HDH_INT_TARGET_MODE</a>: <a href="#Decay-table-integration-settings">Decay table integration settings</a></li>
<li><a href="#index-HDH_005fSET_005fWIDTHS-134">HDH_SET_WIDTHS</a>: <a href="#HDH_005fSET_005fWIDTHS">HDH_SET_WIDTHS</a></li>
<li><a href="#index-HDH_005fSTATUS_005b_003cidcode_003e_005d-129">HDH_STATUS[&lt;idcode&gt;]</a>: <a href="#HDH_005fSTATUS">HDH_STATUS</a></li>
<li><a href="#index-HDH_005fWIDTH_005b_003cidcode_003e_005d-130">HDH_WIDTH[&lt;idcode&gt;]</a>: <a href="#HDH_005fWIDTH">HDH_WIDTH</a></li>
<li><a href="#index-HEAVY_005fBARYON_005fENHANCEMEMT-197">HEAVY_BARYON_ENHANCEMEMT</a>: <a href="#Fragmentation">Fragmentation</a></li>
<li><a href="#index-HEPEVT-24">HEPEVT</a>: <a href="#Event-output-formats">Event output formats</a></li>
<li><a href="#index-HepMC_005fGenEvent-22">HepMC_GenEvent</a>: <a href="#Event-output-formats">Event output formats</a></li>
<li><a href="#index-HepMC_005fShort-23">HepMC_Short</a>: <a href="#Event-output-formats">Event output formats</a></li>
<li><a href="#index-HIGGS_005fINTERFERENCE_005fMODE-262">HIGGS_INTERFERENCE_MODE</a>: <a href="#LHC_005fHInt">LHC_HInt</a></li>
<li><a href="#index-HIGGS_005fINTERFERENCE_005fONLY-263">HIGGS_INTERFERENCE_ONLY</a>: <a href="#LHC_005fHInt">LHC_HInt</a></li>
<li><a href="#index-HIGGS_005fINTERFERENCE_005fSPIN-264">HIGGS_INTERFERENCE_SPIN</a>: <a href="#LHC_005fHInt">LHC_HInt</a></li>
<li><a href="#index-INTEGRATION_005fERROR-120">INTEGRATION_ERROR</a>: <a href="#INTEGRATION_005fERROR">INTEGRATION_ERROR</a></li>
<li><a href="#index-INTEGRATOR-121">INTEGRATOR</a>: <a href="#INTEGRATOR">INTEGRATOR</a></li>
<li><a href="#index-ISR_005fE_005fORDER-66">ISR_E_ORDER</a>: <a href="#ISR-Parameters">ISR Parameters</a></li>
<li><a href="#index-ISR_005fE_005fSCHEME-67">ISR_E_SCHEME</a>: <a href="#ISR-Parameters">ISR Parameters</a></li>
<li><a href="#index-ISR_005fSMAX-65">ISR_SMAX</a>: <a href="#ISR-Parameters">ISR Parameters</a></li>
<li><a href="#index-ISR_005fSMIN-64">ISR_SMIN</a>: <a href="#ISR-Parameters">ISR Parameters</a></li>
<li><a href="#index-K_005fPERP_005fMEAN_005f1-57">K_PERP_MEAN_1</a>: <a href="#Intrinsic-Transverse-Momentum">Intrinsic Transverse Momentum</a></li>
<li><a href="#index-K_005fPERP_005fMEAN_005f2-58">K_PERP_MEAN_2</a>: <a href="#Intrinsic-Transverse-Momentum">Intrinsic Transverse Momentum</a></li>
<li><a href="#index-K_005fPERP_005fSIGMA_005f1-59">K_PERP_SIGMA_1</a>: <a href="#Intrinsic-Transverse-Momentum">Intrinsic Transverse Momentum</a></li>
<li><a href="#index-K_005fPERP_005fSIGMA_005f2-60">K_PERP_SIGMA_2</a>: <a href="#Intrinsic-Transverse-Momentum">Intrinsic Transverse Momentum</a></li>
<li><a href="#index-kappa-232">kappa</a>: <a href="#Minimum-Bias">Minimum Bias</a></li>
<li><a href="#index-KFACTOR-111">KFACTOR</a>: <a href="#KFACTOR">KFACTOR</a></li>
<li><a href="#index-KT2_005fFactor-241">KT2_Factor</a>: <a href="#Minimum-Bias">Minimum Bias</a></li>
<li><a href="#index-lambda-235">lambda</a>: <a href="#Minimum-Bias">Minimum Bias</a></li>
<li><a href="#index-LAMBDA-81">LAMBDA</a>: <a href="#SM">SM</a></li>
<li><a href="#index-Lambda2-230">Lambda2</a>: <a href="#Minimum-Bias">Minimum Bias</a></li>
<li><a href="#index-LASER_005fANGLES-48">LASER_ANGLES</a>: <a href="#Beam-Spectra">Beam Spectra</a></li>
<li><a href="#index-LASER_005fMODE-47">LASER_MODE</a>: <a href="#Beam-Spectra">Beam Spectra</a></li>
<li><a href="#index-LASER_005fNONLINEARITY-49">LASER_NONLINEARITY</a>: <a href="#Beam-Spectra">Beam Spectra</a></li>
<li><a href="#index-LHEF-25">LHEF</a>: <a href="#Event-output-formats">Event output formats</a></li>
<li><a href="#index-LHOLE_005fBOOST_005fTO_005fCMS-260">LHOLE_BOOST_TO_CMS</a>: <a href="#External-one_002dloop-ME">External one-loop ME</a></li>
<li><a href="#index-LHOLE_005fCONTRACTFILE-258">LHOLE_CONTRACTFILE</a>: <a href="#External-one_002dloop-ME">External one-loop ME</a></li>
<li><a href="#index-LHOLE_005fIR_005fREGULARISATION-259">LHOLE_IR_REGULARISATION</a>: <a href="#External-one_002dloop-ME">External one-loop ME</a></li>
<li><a href="#index-LHOLE_005fOLP-261">LHOLE_OLP</a>: <a href="#External-one_002dloop-ME">External one-loop ME</a></li>
<li><a href="#index-LHOLE_005fORDERFILE-257">LHOLE_ORDERFILE</a>: <a href="#External-one_002dloop-ME">External one-loop ME</a></li>
<li><a href="#index-LOG_005fFILE-9">LOG_FILE</a>: <a href="#LOG_005fFILE">LOG_FILE</a></li>
<li><a href="#index-Loop_005fGenerator-249">Loop_Generator</a>: <a href="#MCFM-interface">MCFM interface</a></li>
<li><a href="#index-LOOP_005fME_005fINIT-250">LOOP_ME_INIT</a>: <a href="#Enforcing-the-renormalization-scheme">Enforcing the renormalization scheme</a></li>
<li><a href="#index-M_005fBIND_005f0-177">M_BIND_0</a>: <a href="#Fragmentation">Fragmentation</a></li>
<li><a href="#index-M_005fBIND_005f1-178">M_BIND_1</a>: <a href="#Fragmentation">Fragmentation</a></li>
<li><a href="#index-M_005fBOTTOM-175">M_BOTTOM</a>: <a href="#Fragmentation">Fragmentation</a></li>
<li><a href="#index-M_005fCHARM-174">M_CHARM</a>: <a href="#Fragmentation">Fragmentation</a></li>
<li><a href="#index-M_005fDIQUARK_005fOFFSET-176">M_DIQUARK_OFFSET</a>: <a href="#Fragmentation">Fragmentation</a></li>
<li><a href="#index-M_005fSTRANGE-173">M_STRANGE</a>: <a href="#Fragmentation">Fragmentation</a></li>
<li><a href="#index-M_005fUP_005fDOWN-172">M_UP_DOWN</a>: <a href="#Fragmentation">Fragmentation</a></li>
<li><a href="#index-MASS_005b_003cid_003e_005d-214">MASS[&lt;id&gt;]</a>: <a href="#Hadron-decays">Hadron decays</a></li>
<li><a href="#index-MASS_005b_003cid_003e_005d-93">MASS[&lt;id&gt;]</a>: <a href="#SM">SM</a></li>
<li><a href="#index-MassExponent_005fC_002d_003eHH-208">MassExponent_C-&gt;HH</a>: <a href="#Fragmentation">Fragmentation</a></li>
<li><a href="#index-MASSIVE_005b_003cid_003e_005d-94">MASSIVE[&lt;id&gt;]</a>: <a href="#SM">SM</a></li>
<li><a href="#index-MAX_005fPROPER_005fLIFETIME-218">MAX_PROPER_LIFETIME</a>: <a href="#Hadron-decays">Hadron decays</a></li>
<li><a href="#index-ME_005fQED-224">ME_QED</a>: <a href="#ME_005fQED">ME_QED</a></li>
<li><a href="#index-ME_005fQED_005fCLUSTERING-225">ME_QED_CLUSTERING</a>: <a href="#ME_005fQED_005fCLUSTERING">ME_QED_CLUSTERING</a></li>
<li><a href="#index-ME_005fQED_005fCLUSTERING_005fTHRESHOLD-226">ME_QED_CLUSTERING_THRESHOLD</a>: <a href="#ME_005fQED_005fCLUSTERING_005fTHRESHOLD">ME_QED_CLUSTERING_THRESHOLD</a></li>
<li><a href="#index-ME_005fSIGNAL_005fGENERATOR-104">ME_SIGNAL_GENERATOR</a>: <a href="#ME_005fSIGNAL_005fGENERATOR">ME_SIGNAL_GENERATOR</a></li>
<li><a href="#index-MEMLEAK_005fWARNING_005fTHRESHOLD-16">MEMLEAK_WARNING_THRESHOLD</a>: <a href="#RLIMIT_005fAS">RLIMIT_AS</a></li>
<li><a href="#index-MI_005fHANDLER-154">MI_HANDLER</a>: <a href="#MI_005fHANDLER">MI_HANDLER</a></li>
<li><a href="#index-MI_005fRESULT_005fDIRECTORY-163">MI_RESULT_DIRECTORY</a>: <a href="#MI_005fRESULT_005fDIRECTORY">MI_RESULT_DIRECTORY</a></li>
<li><a href="#index-MI_005fRESULT_005fDIRECTORY_005fSUFFIX-164">MI_RESULT_DIRECTORY_SUFFIX</a>: <a href="#MI_005fRESULT_005fDIRECTORY_005fSUFFIX">MI_RESULT_DIRECTORY_SUFFIX</a></li>
<li><a href="#index-Mixing_005f0_002b-199">Mixing_0+</a>: <a href="#Fragmentation">Fragmentation</a></li>
<li><a href="#index-Mixing_005f1_002d-200">Mixing_1-</a>: <a href="#Fragmentation">Fragmentation</a></li>
<li><a href="#index-MODEL-77">MODEL</a>: <a href="#Models">Models</a></li>
<li><a href="#index-MSTJ-166">MSTJ</a>: <a href="#Fragmentation">Fragmentation</a></li>
<li><a href="#index-MSTP-167">MSTP</a>: <a href="#Fragmentation">Fragmentation</a></li>
<li><a href="#index-MSTU-168">MSTU</a>: <a href="#Fragmentation">Fragmentation</a></li>
<li><a href="#index-MULTI_005fWEIGHT_005fL0R0_005fDELTA_005f3_002f2-195">MULTI_WEIGHT_L0R0_DELTA_3/2</a>: <a href="#Fragmentation">Fragmentation</a></li>
<li><a href="#index-MULTI_005fWEIGHT_005fL0R0_005fN_002a_005f1_002f2-192">MULTI_WEIGHT_L0R0_N*_1/2</a>: <a href="#Fragmentation">Fragmentation</a></li>
<li><a href="#index-MULTI_005fWEIGHT_005fL0R0_005fN_005f1_002f2-191">MULTI_WEIGHT_L0R0_N_1/2</a>: <a href="#Fragmentation">Fragmentation</a></li>
<li><a href="#index-MULTI_005fWEIGHT_005fL0R0_005fPSEUDOSCALARS-179">MULTI_WEIGHT_L0R0_PSEUDOSCALARS</a>: <a href="#Fragmentation">Fragmentation</a></li>
<li><a href="#index-MULTI_005fWEIGHT_005fL0R0_005fTENSORS2-181">MULTI_WEIGHT_L0R0_TENSORS2</a>: <a href="#Fragmentation">Fragmentation</a></li>
<li><a href="#index-MULTI_005fWEIGHT_005fL0R0_005fTENSORS3-182">MULTI_WEIGHT_L0R0_TENSORS3</a>: <a href="#Fragmentation">Fragmentation</a></li>
<li><a href="#index-MULTI_005fWEIGHT_005fL0R0_005fTENSORS4-183">MULTI_WEIGHT_L0R0_TENSORS4</a>: <a href="#Fragmentation">Fragmentation</a></li>
<li><a href="#index-MULTI_005fWEIGHT_005fL0R0_005fVECTORS-180">MULTI_WEIGHT_L0R0_VECTORS</a>: <a href="#Fragmentation">Fragmentation</a></li>
<li><a href="#index-MULTI_005fWEIGHT_005fL0R1_005fAXIALVECTORS-190">MULTI_WEIGHT_L0R1_AXIALVECTORS</a>: <a href="#Fragmentation">Fragmentation</a></li>
<li><a href="#index-MULTI_005fWEIGHT_005fL0R1_005fSCALARS-189">MULTI_WEIGHT_L0R1_SCALARS</a>: <a href="#Fragmentation">Fragmentation</a></li>
<li><a href="#index-MULTI_005fWEIGHT_005fL1R0_005fAXIALVECTORS-185">MULTI_WEIGHT_L1R0_AXIALVECTORS</a>: <a href="#Fragmentation">Fragmentation</a></li>
<li><a href="#index-MULTI_005fWEIGHT_005fL1R0_005fDELTA_002a_005f3_002f2-196">MULTI_WEIGHT_L1R0_DELTA*_3/2</a>: <a href="#Fragmentation">Fragmentation</a></li>
<li><a href="#index-MULTI_005fWEIGHT_005fL1R0_005fN_002a_005f1_002f2-193">MULTI_WEIGHT_L1R0_N*_1/2</a>: <a href="#Fragmentation">Fragmentation</a></li>
<li><a href="#index-MULTI_005fWEIGHT_005fL1R0_005fN_002a_005f3_002f2-194">MULTI_WEIGHT_L1R0_N*_3/2</a>: <a href="#Fragmentation">Fragmentation</a></li>
<li><a href="#index-MULTI_005fWEIGHT_005fL1R0_005fSCALARS-184">MULTI_WEIGHT_L1R0_SCALARS</a>: <a href="#Fragmentation">Fragmentation</a></li>
<li><a href="#index-MULTI_005fWEIGHT_005fL1R0_005fTENSORS2-186">MULTI_WEIGHT_L1R0_TENSORS2</a>: <a href="#Fragmentation">Fragmentation</a></li>
<li><a href="#index-MULTI_005fWEIGHT_005fL2R0_005fVECTORS-187">MULTI_WEIGHT_L2R0_VECTORS</a>: <a href="#Fragmentation">Fragmentation</a></li>
<li><a href="#index-MULTI_005fWEIGHT_005fL3R0_005fVECTORS-188">MULTI_WEIGHT_L3R0_VECTORS</a>: <a href="#Fragmentation">Fragmentation</a></li>
<li><a href="#index-NUM_005fACCURACY-19">NUM_ACCURACY</a>: <a href="#NUM_005fACCURACY">NUM_ACCURACY</a></li>
<li><a href="#index-ORDER_005fALPHAS-90">ORDER_ALPHAS</a>: <a href="#SM">SM</a></li>
<li><a href="#index-OUTPUT-7">OUTPUT</a>: <a href="#OUTPUT">OUTPUT</a></li>
<li><a href="#index-OUTPUT_005fPRECISION-30">OUTPUT_PRECISION</a>: <a href="#Event-output-formats">Event output formats</a></li>
<li><a href="#index-P_005fLASER_005f-45">P_LASER_</a>: <a href="#Beam-Spectra">Beam Spectra</a></li>
<li><a href="#index-P_005f_0040_007bQQ_005f1_0040_007d_002fP_005f_0040_007bQQ_005f0_0040_007d-205">P_{QQ_1}/P_{QQ_0}</a>: <a href="#Fragmentation">Fragmentation</a></li>
<li><a href="#index-P_005f_0040_007bQS_0040_007d_002fP_005f_0040_007bQQ_0040_007d-203">P_{QS}/P_{QQ}</a>: <a href="#Fragmentation">Fragmentation</a></li>
<li><a href="#index-P_005f_0040_007bSS_0040_007d_002fP_005f_0040_007bQQ_0040_007d-204">P_{SS}/P_{QQ}</a>: <a href="#Fragmentation">Fragmentation</a></li>
<li><a href="#index-PARJ-170">PARJ</a>: <a href="#Fragmentation">Fragmentation</a></li>
<li><a href="#index-PARP-169">PARP</a>: <a href="#Fragmentation">Fragmentation</a></li>
<li><a href="#index-PARTICLE_005fCONTAINER-117">PARTICLE_CONTAINER</a>: <a href="#Particle-containers">Particle containers</a></li>
<li><a href="#index-PARU-171">PARU</a>: <a href="#Fragmentation">Fragmentation</a></li>
<li><a href="#index-PATH-1">PATH</a>: <a href="#Input-structure">Input structure</a></li>
<li><a href="#index-PDF_005fLIBRARY-68">PDF_LIBRARY</a>: <a href="#ISR-Parameters">ISR Parameters</a></li>
<li><a href="#index-PDF_005fLIBRARY_005f1-69">PDF_LIBRARY_1</a>: <a href="#ISR-Parameters">ISR Parameters</a></li>
<li><a href="#index-PDF_005fLIBRARY_005f2-70">PDF_LIBRARY_2</a>: <a href="#ISR-Parameters">ISR Parameters</a></li>
<li><a href="#index-PDF_005fSET-71">PDF_SET</a>: <a href="#ISR-Parameters">ISR Parameters</a></li>
<li><a href="#index-PDF_005fSET_005f1-72">PDF_SET_1</a>: <a href="#ISR-Parameters">ISR Parameters</a></li>
<li><a href="#index-PDF_005fSET_005f2-73">PDF_SET_2</a>: <a href="#ISR-Parameters">ISR Parameters</a></li>
<li><a href="#index-PDF_005fSET_005fMEMBER-75">PDF_SET_MEMBER</a>: <a href="#ISR-Parameters">ISR Parameters</a></li>
<li><a href="#index-PDF_005fSET_005fVERSION-74">PDF_SET_VERSION</a>: <a href="#ISR-Parameters">ISR Parameters</a></li>
<li><a href="#index-PROFILE_005fFUNCTION-157">PROFILE_FUNCTION</a>: <a href="#PROFILE_005fFUNCTION">PROFILE_FUNCTION</a></li>
<li><a href="#index-PROFILE_005fPARAMETERS-158">PROFILE_PARAMETERS</a>: <a href="#PROFILE_005fPARAMETERS">PROFILE_PARAMETERS</a></li>
<li><a href="#index-PSI_005fITMAX-126">PSI_ITMAX</a>: <a href="#PSI_005fITMAX">PSI_ITMAX</a></li>
<li><a href="#index-PSI_005fITMIN-125">PSI_ITMIN</a>: <a href="#PSI_005fITMIN">PSI_ITMIN</a></li>
<li><a href="#index-PSI_005fNMAX-124">PSI_NMAX</a>: <a href="#PSI_005fNMAX">PSI_NMAX</a></li>
<li><a href="#index-PT_005e2_005f0-209">PT^2_0</a>: <a href="#Fragmentation">Fragmentation</a></li>
<li><a href="#index-PT_005fMAX-210">PT_MAX</a>: <a href="#Fragmentation">Fragmentation</a></li>
<li><a href="#index-Q_005f0_005e2-237">Q_0^2</a>: <a href="#Minimum-Bias">Minimum Bias</a></li>
<li><a href="#index-Q_005fas_005e2-238">Q_as^2</a>: <a href="#Minimum-Bias">Minimum Bias</a></li>
<li><a href="#index-Q_005fas_005e2-211">Q_as^2</a>: <a href="#Fragmentation">Fragmentation</a></li>
<li><a href="#index-Q_005fRC_005e2-246">Q_RC^2</a>: <a href="#Minimum-Bias">Minimum Bias</a></li>
<li><a href="#index-RANDOM_005fSEED-10">RANDOM_SEED</a>: <a href="#RANDOM_005fSEED">RANDOM_SEED</a></li>
<li><a href="#index-ReconnProb-245">ReconnProb</a>: <a href="#Minimum-Bias">Minimum Bias</a></li>
<li><a href="#index-REFERENCE_005fSCALE-159">REFERENCE_SCALE</a>: <a href="#REFERENCE_005fSCALE">REFERENCE_SCALE</a></li>
<li><a href="#index-Resc_005fKTMin-244">Resc_KTMin</a>: <a href="#Minimum-Bias">Minimum Bias</a></li>
<li><a href="#index-RESCALE_005fEXPONENT-160">RESCALE_EXPONENT</a>: <a href="#RESCALE_005fEXPONENT">RESCALE_EXPONENT</a></li>
<li><a href="#index-RescProb-242">RescProb</a>: <a href="#Minimum-Bias">Minimum Bias</a></li>
<li><a href="#index-RescProb1-243">RescProb1</a>: <a href="#Minimum-Bias">Minimum Bias</a></li>
<li><a href="#index-RESOLVE_005fDECAYS-138">RESOLVE_DECAYS</a>: <a href="#RESOLVE_005fDECAYS">RESOLVE_DECAYS</a></li>
<li><a href="#index-RESULT_005fDIRECTORY-105">RESULT_DIRECTORY</a>: <a href="#RESULT_005fDIRECTORY">RESULT_DIRECTORY</a></li>
<li><a href="#index-RHO-87">RHO</a>: <a href="#SM">SM</a></li>
<li><a href="#index-RLIMIT_005fAS-14">RLIMIT_AS</a>: <a href="#RLIMIT_005fAS">RLIMIT_AS</a></li>
<li><a href="#index-RLIMIT_005fBY_005fCPU-15">RLIMIT_BY_CPU</a>: <a href="#RLIMIT_005fAS">RLIMIT_AS</a></li>
<li><a href="#index-Root-26">Root</a>: <a href="#Event-output-formats">Event output formats</a></li>
<li><a href="#index-RUNDATA-2">RUNDATA</a>: <a href="#Input-structure">Input structure</a></li>
<li><a href="#index-SCALE_005fMIN-156">SCALE_MIN</a>: <a href="#SCALE_005fMIN">SCALE_MIN</a></li>
<li><a href="#index-SCALES-107">SCALES</a>: <a href="#SCALES">SCALES</a></li>
<li><a href="#index-SHERPA_005fCPP_005fPATH-20">SHERPA_CPP_PATH</a>: <a href="#SHERPA_005fCPP_005fPATH">SHERPA_CPP_PATH</a></li>
<li><a href="#index-SHERPA_005fLDADD-256">SHERPA_LDADD</a>: <a href="#Customization">Customization</a></li>
<li><a href="#index-SHERPA_005fLIB_005fPATH-21">SHERPA_LIB_PATH</a>: <a href="#SHERPA_005fLIB_005fPATH">SHERPA_LIB_PATH</a></li>
<li><a href="#index-SHERPA_005fVERSION-5">SHERPA_VERSION</a>: <a href="#SHERPA_005fVERSION">SHERPA_VERSION</a></li>
<li><a href="#index-SHOW_005fPDF_005fSETS-76">SHOW_PDF_SETS</a>: <a href="#ISR-Parameters">ISR Parameters</a></li>
<li><a href="#index-SHOW_005fVARIABLE_005fSYNTAX-119">SHOW_VARIABLE_SYNTAX</a>: <a href="#Universal-selector">Universal selector</a></li>
<li><a href="#index-Shower_005fMin_005fKT2-240">Shower_Min_KT2</a>: <a href="#Minimum-Bias">Minimum Bias</a></li>
<li><a href="#index-Shrimps_005fMode-229">Shrimps_Mode</a>: <a href="#Minimum-Bias">Minimum Bias</a></li>
<li><a href="#index-SIGMA_005fND_005fFACTOR-162">SIGMA_ND_FACTOR</a>: <a href="#SIGMA_005fND_005fFACTOR">SIGMA_ND_FACTOR</a></li>
<li><a href="#index-SIN2THETAW-79">SIN2THETAW</a>: <a href="#SM">SM</a></li>
<li><a href="#index-SINGLET_005fSUPPRESSION-198">SINGLET_SUPPRESSION</a>: <a href="#Fragmentation">Fragmentation</a></li>
<li><a href="#index-SOFT_005fCOLLISIONS-228">SOFT_COLLISIONS</a>: <a href="#Minimum-Bias">Minimum Bias</a></li>
<li><a href="#index-SOFT_005fMASS_005fSMEARING-217">SOFT_MASS_SMEARING</a>: <a href="#Hadron-decays">Hadron decays</a></li>
<li><a href="#index-SOFT_005fSPIN_005fCORRELATIONS-219">SOFT_SPIN_CORRELATIONS</a>: <a href="#Hadron-decays">Hadron decays</a></li>
<li><a href="#index-SPECTRUM_005fFILE_005f1-39">SPECTRUM_FILE_1</a>: <a href="#Beam-Spectra">Beam Spectra</a></li>
<li><a href="#index-SPECTRUM_005fFILE_005f2-40">SPECTRUM_FILE_2</a>: <a href="#Beam-Spectra">Beam Spectra</a></li>
<li><a href="#index-STABLE_005b_003cid_003e_005d-215">STABLE[&lt;id&gt;]</a>: <a href="#Hadron-decays">Hadron decays</a></li>
<li><a href="#index-STABLE_005b_003cid_003e_005d-128">STABLE[&lt;id&gt;]</a>: <a href="#Hard-decays">Hard decays</a></li>
<li><a href="#index-STABLE_005b_003cid_003e_005d-97">STABLE[&lt;id&gt;]</a>: <a href="#SM">SM</a></li>
<li><a href="#index-STORE_005fDECAY_005fRESULTS-132">STORE_DECAY_RESULTS</a>: <a href="#STORE_005fDECAY_005fRESULTS">STORE_DECAY_RESULTS</a></li>
<li><a href="#index-STRANGE_005fFRACTION-201">STRANGE_FRACTION</a>: <a href="#Fragmentation">Fragmentation</a></li>
<li><a href="#index-TIMEOUT-13">TIMEOUT</a>: <a href="#TIMEOUT">TIMEOUT</a></li>
<li><a href="#index-TRANSITION_005fOFFSET-206">TRANSITION_OFFSET</a>: <a href="#Fragmentation">Fragmentation</a></li>
<li><a href="#index-TUNE-6">TUNE</a>: <a href="#TUNE">TUNE</a></li>
<li><a href="#index-TURNOFF-155">TURNOFF</a>: <a href="#TURNOFF">TURNOFF</a></li>
<li><a href="#index-TURNOFF_005fEXPONENT-161">TURNOFF_EXPONENT</a>: <a href="#TURNOFF_005fEXPONENT">TURNOFF_EXPONENT</a></li>
<li><a href="#index-UFO_005fPARAM_005fCARD-103">UFO_PARAM_CARD</a>: <a href="#UFO-Model-Interface">UFO Model Interface</a></li>
<li><a href="#index-USE_005fPDF_005fALPHAS-91">USE_PDF_ALPHAS</a>: <a href="#SM">SM</a></li>
<li><a href="#index-USR_005fWGT_005fMODE-255">USR_WGT_MODE</a>: <a href="#A-posteriori-scale-and-PDF-variations-using-the-ROOT-NTuple-Output">A posteriori scale and PDF variations using the ROOT NTuple Output</a></li>
<li><a href="#index-VEGAS-122">VEGAS</a>: <a href="#VEGAS">VEGAS</a></li>
<li><a href="#index-VEV-80">VEV</a>: <a href="#SM">SM</a></li>
<li><a href="#index-WIDTH_005b_003cid_003e_005d-213">WIDTH[&lt;id&gt;]</a>: <a href="#Hadron-decays">Hadron decays</a></li>
<li><a href="#index-WIDTH_005b_003cid_003e_005d-135">WIDTH[&lt;id&gt;]</a>: <a href="#HDH_005fSET_005fWIDTHS">HDH_SET_WIDTHS</a></li>
<li><a href="#index-WIDTH_005b_003cid_003e_005d-95">WIDTH[&lt;id&gt;]</a>: <a href="#SM">SM</a></li>
<li><a href="#index-WIDTH_005fSCHEME-92">WIDTH_SCHEME</a>: <a href="#SM">SM</a></li>
<li><a href="#index-xi-233">xi</a>: <a href="#Minimum-Bias">Minimum Bias</a></li>
<li><a href="#index-YFS_005fIR_005fCUTOFF-223">YFS_IR_CUTOFF</a>: <a href="#YFS_005fIR_005fCUTOFF">YFS_IR_CUTOFF</a></li>
<li><a href="#index-YFS_005fMODE-221">YFS_MODE</a>: <a href="#YFS_005fMODE">YFS_MODE</a></li>
<li><a href="#index-YFS_005fUSE_005fME-222">YFS_USE_ME</a>: <a href="#YFS_005fUSE_005fME">YFS_USE_ME</a></li>
<li><a href="#index-YUKAWA_005b_003cid_003e_005d-98">YUKAWA[&lt;id&gt;]</a>: <a href="#SM">SM</a></li>
<li><a href="#index-YUKAWA_005fMASSES-112">YUKAWA_MASSES</a>: <a href="#YUKAWA_005fMASSES">YUKAWA_MASSES</a></li>
</ul></body></html>

